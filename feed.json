{
    "version": "https://jsonfeed.org/version/1",
    "title": "海に行く",
    "subtitle": "",
    "icon": "https://ki.xiongzi.top/images/favicon.ico",
    "description": "",
    "home_page_url": "https://ki.xiongzi.top",
    "items": [
        {
            "id": "https://ki.xiongzi.top/post/88222415/",
            "url": "https://ki.xiongzi.top/post/88222415/",
            "title": "Docsify定制功能",
            "date_published": "2022-03-17T04:44:41.000Z",
            "content_html": "<h1 id=\"定制功能\"><a class=\"anchor\" href=\"#定制功能\">#</a> <span class=\"label primary\">定制功能</span></h1>\n<h1 id=\"支持dot语言作图\"><a class=\"anchor\" href=\"#支持dot语言作图\">#</a> <span class=\"label primary\">支持 DOT 语言作图</span></h1>\n<blockquote>\n<p>DOT 语言是贝尔实验室开发的用于作图的脚本语言，最初在桌面端程序 Graphviz 中支持。后来有人开发了 Viz.js 使得浏览器端也能支持 DOT 语言作图的渲染。我们的目的如下：当 Markdown 渲染器识别到一处语言名为 dot 代码块时，就调用 Viz.js 渲染代码块中的语句，使它们成为 DOT 语言定义的矢量图。</p>\n</blockquote>\n<blockquote>\n<p>具体操作如下：（以下所有操作都在 docsify 项目的 index.html 文件中进行）</p>\n</blockquote>\n<p>引入 Viz.js 文件，只要在 head 中添加一条语句就行：</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token operator\">&lt;</span>script src<span class=\"token operator\">=</span><span class=\"token string\">\"https://cdn.jsdelivr.net/npm/viz.js@1.8.0/viz.js\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span></pre></td></tr></table></figure><p>添加如下部分：</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token operator\">&lt;</span>script<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">$docsify</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>      <span class=\"token literal-property property\">markdown</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token literal-property property\">renderer</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>          <span class=\"token function-variable function\">code</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">code<span class=\"token punctuation\">,</span> lang</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>            <span class=\"token keyword control-flow\">if</span> <span class=\"token punctuation\">(</span>lang <span class=\"token operator\">===</span> <span class=\"token string\">\"dot\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>              <span class=\"token keyword control-flow\">return</span> <span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>                      <span class=\"token string\">'&lt;div class=\"viz\">'</span><span class=\"token operator\">+</span> <span class=\"token function\"><span class=\"token maybe-class-name\">Viz</span></span><span class=\"token punctuation\">(</span>code<span class=\"token punctuation\">,</span> <span class=\"token string\">\"SVG\"</span><span class=\"token punctuation\">)</span><span class=\"token operator\">+</span><span class=\"token string\">'&lt;/div>'</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>              <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>            <span class=\"token keyword control-flow\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">origin</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">code</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">apply</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> arguments<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>          <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span></pre></td></tr></table></figure><p>具体实现：</p>\n<p>操作：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>``<span class=\"token variable\"><span class=\"token variable\">`</span>dot</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>digraph demo<span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    A-<span class=\"token operator\">></span>B<span class=\"token punctuation\">[</span>dir<span class=\"token operator\">=</span>both<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    B-<span class=\"token operator\">></span>C<span class=\"token punctuation\">[</span>dir<span class=\"token operator\">=</span>none<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    C-<span class=\"token operator\">></span>D<span class=\"token punctuation\">[</span>dir<span class=\"token operator\">=</span>back<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    D-<span class=\"token operator\">></span>A<span class=\"token punctuation\">[</span>dir<span class=\"token operator\">=</span>forward<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>​<span class=\"token variable\">`</span></span>``</pre></td></tr></table></figure><p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@main/img/91827.png\" alt=\"91827\" /></p>\n<h1 id=\"支持latex数学公式\"><a class=\"anchor\" href=\"#支持latex数学公式\">#</a> <span class=\"label primary\">支持 LaTex 数学公式</span></h1>\n<blockquote>\n<p>LaTeX 是大门鼎鼎的文档排版软件，它对于数学公式的支持非常好。和 DOT 语言类似，一开始也是只有桌面端程序支持，但是后来同样有人开发了各种各样的 .js 来在浏览器端进行支持。</p>\n</blockquote>\n<blockquote>\n<p>具体操作如下：（以下所有操作都在 docsify 项目的 index.html 文件中进行）</p>\n</blockquote>\n<p>引入 docsify-katex.js，head 中添加：</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token operator\">--</span> <span class=\"token constant\">CDN</span> files <span class=\"token keyword control-flow\">for</span> docsify<span class=\"token operator\">-</span>katex <span class=\"token operator\">--</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token operator\">&lt;</span>script src<span class=\"token operator\">=</span><span class=\"token string\">\"//cdn.jsdelivr.net/npm/docsify-katex@latest/dist/docsify-katex.js\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token operator\">--</span> or <span class=\"token operator\">&lt;</span>script src<span class=\"token operator\">=</span><span class=\"token string\">\"//cdn.jsdelivr.net/gh/upupming/docsify-katex@latest/dist/docsify-katex.js\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span> <span class=\"token operator\">--</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token operator\">&lt;</span>link rel<span class=\"token operator\">=</span><span class=\"token string\">\"stylesheet\"</span> href<span class=\"token operator\">=</span><span class=\"token string\">\"//cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css\"</span><span class=\"token operator\">/</span><span class=\"token operator\">></span></pre></td></tr></table></figure><blockquote>\n<p>具体实现</p>\n</blockquote>\n<figure class=\"highlight markdown\"><figcaption data-lang=\"markdown\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>$$</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>\\left[</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\\begin&#123;matrix&#125;</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> 1      &amp; 2      &amp; \\cdots &amp; 4      \\\\</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> 7      &amp; 6      &amp; \\cdots &amp; 5      \\\\</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> \\vdots &amp; \\vdots &amp; \\ddots &amp; \\vdots \\\\</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> 8      &amp; 9      &amp; \\cdots &amp; 0      \\\\</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>\\end&#123;matrix&#125;</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>\\right]</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>$$</pre></td></tr></table></figure><p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@main/img/131411.png\" alt=\"131411\" /></p>\n<blockquote>\n<p>更多 Latex 矩阵样式请参考 <span class=\"exturl\" data-url=\"aHR0cHM6Ly93dWdlbnFpYW5nLmdpdGh1Yi5pby9Ob3RlQm9vay8jL2RvY3NpZnkvbWROb3Rlcz9pZD1fMTYtJUU0JUJEJUJGJUU3JTk0JUE4LWxhdGV4LSVFNSU4NiU5OSVFNyU5RiVBOSVFOSU5OCVCNQ==\">使用 Latex 写矩阵</span></p>\n</blockquote>\n<h1 id=\"支持回到顶部\"><a class=\"anchor\" href=\"#支持回到顶部\">#</a> <span class=\"label primary\">支持回到顶部</span></h1>\n<blockquote>\n<p>方法：通过 jQuery 定义插件 jQuery GoUp 实现点击回到顶部功能。</p>\n</blockquote>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@main/img/113950.png\" alt=\"113950\" /></p>\n<p>引用 jquery 库和 jquery.goup.js 到 index.html</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token operator\">&lt;</span>script src<span class=\"token operator\">=</span><span class=\"token string\">\"http://repo.xiongzi.top/assets/js/jquery.js\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token operator\">&lt;</span>script src<span class=\"token operator\">=</span><span class=\"token string\">\"http://repo.xiongzi.top/assets/js/jquery.goup.js\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span></pre></td></tr></table></figure><p>在调用下插件：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token operator\">&lt;</span>script <span class=\"token assign-left variable\">type</span><span class=\"token operator\">=</span><span class=\"token string\">\"text/javascript\"</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token variable\"><span class=\"token variable\">$(</span>document<span class=\"token variable\">)</span></span>.ready<span class=\"token punctuation\">(</span><span class=\"token function-name function\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>      $.goup<span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        trigger: <span class=\"token number\">100</span>,</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        bottomOffset: <span class=\"token number\">32</span>,</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        locationOffset: <span class=\"token number\">32</span>,</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        title: <span class=\"token string\">'TOP'</span>, //昵称</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        titleAsText: <span class=\"token boolean\">true</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  <span class=\"token operator\">&lt;</span>/script<span class=\"token operator\">></span></pre></td></tr></table></figure><h1 id=\"添加鼠标点击烟花爆炸效果\"><a class=\"anchor\" href=\"#添加鼠标点击烟花爆炸效果\">#</a> <span class=\"label primary\">添加鼠标点击烟花爆炸效果</span></h1>\n<p>在 index.html 中 添加代码：</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token operator\">&lt;</span>canvas <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"fireworks\"</span> style<span class=\"token operator\">=</span><span class=\"token string\">\"position: fixed; left: 0; top: 0; z-index: 1; pointer-events: none;\"</span> <span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>canvas<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token operator\">&lt;</span>script type<span class=\"token operator\">=</span><span class=\"token string\">\"text/javascript\"</span> src<span class=\"token operator\">=</span><span class=\"token string\">\"//cdn.bootcss.com/animejs/2.2.0/anime.min.js\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token operator\">&lt;</span>script type<span class=\"token operator\">=</span><span class=\"token string\">\"text/javascript\"</span> src<span class=\"token operator\">=</span><span class=\"token string\">\"http://repo.xiongzi.top/assets/js/fireworks.js\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span></pre></td></tr></table></figure><p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@main/img/124325.png\" alt=\"124325\" /></p>\n<h1 id=\"添加枫叶效果\"><a class=\"anchor\" href=\"#添加枫叶效果\">#</a> <span class=\"label primary\">添加枫叶效果</span></h1>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cubmVzeGMuY29tLzY4MC8=\">小 N 同学</span></p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">var</span> stop<span class=\"token punctuation\">,</span> staticx<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">var</span> img <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Image</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>img<span class=\"token punctuation\">.</span><span class=\"token property-access\">src</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"https://img.cdn.nesxc.com/2022/02/202202251325420webp\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\"><span class=\"token maybe-class-name\">Sakura</span></span><span class=\"token punctuation\">(</span><span class=\"token parameter\">x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> s<span class=\"token punctuation\">,</span> r<span class=\"token punctuation\">,</span> fn</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">x</span> <span class=\"token operator\">=</span> x<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">y</span> <span class=\"token operator\">=</span> y<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">s</span> <span class=\"token operator\">=</span> s<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">r</span> <span class=\"token operator\">=</span> r<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">fn</span> <span class=\"token operator\">=</span> fn</pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token class-name\">Sakura</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">prototype</span><span class=\"token punctuation\">.</span><span class=\"token method-variable function-variable method function property-access\">draw</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">cxt</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    cxt<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">save</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token keyword\">var</span> xc <span class=\"token operator\">=</span> <span class=\"token number\">20</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">s</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    cxt<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">translate</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">x</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">y</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    cxt<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">rotate</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">r</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    cxt<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">drawImage</span><span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">20</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">s</span><span class=\"token punctuation\">,</span> <span class=\"token number\">20</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">s</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    cxt<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">restore</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token class-name\">Sakura</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">prototype</span><span class=\"token punctuation\">.</span><span class=\"token method-variable function-variable method function property-access\">update</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">x</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">fn</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">x</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">x</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">y</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">y</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">fn</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">y</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">y</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">y</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">r</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">fn</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">r</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">r</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token keyword control-flow\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">x</span> <span class=\"token operator\">></span> <span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">innerWidth</span> <span class=\"token operator\">||</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">x</span> <span class=\"token operator\">&lt;</span> <span class=\"token number\">0</span> <span class=\"token operator\">||</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">y</span> <span class=\"token operator\">></span> <span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">innerHeight</span> <span class=\"token operator\">||</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">y</span> <span class=\"token operator\">&lt;</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">r</span> <span class=\"token operator\">=</span> <span class=\"token function\">getRandom</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"fnr\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token keyword control-flow\">if</span> <span class=\"token punctuation\">(</span><span class=\"token known-class-name class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> <span class=\"token number\">0.4</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">x</span> <span class=\"token operator\">=</span> <span class=\"token function\">getRandom</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"x\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">y</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">s</span> <span class=\"token operator\">=</span> <span class=\"token function\">getRandom</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"s\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">r</span> <span class=\"token operator\">=</span> <span class=\"token function\">getRandom</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"r\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword control-flow\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">x</span> <span class=\"token operator\">=</span> <span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">innerWidth</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">y</span> <span class=\"token operator\">=</span> <span class=\"token function\">getRandom</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"y\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">s</span> <span class=\"token operator\">=</span> <span class=\"token function\">getRandom</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"s\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">r</span> <span class=\"token operator\">=</span> <span class=\"token function\">getRandom</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"r\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre><span class=\"token function-variable function\"><span class=\"token maybe-class-name\">SakuraList</span></span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">list</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre><span class=\"token class-name\">SakuraList</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">prototype</span><span class=\"token punctuation\">.</span><span class=\"token method-variable function-variable method function property-access\">push</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">sakura</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">list</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">push</span><span class=\"token punctuation\">(</span>sakura<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre><span class=\"token class-name\">SakuraList</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">prototype</span><span class=\"token punctuation\">.</span><span class=\"token method-variable function-variable method function property-access\">update</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>    <span class=\"token keyword control-flow\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> len <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">list</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">length</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> len<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">list</span><span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">update</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre><span class=\"token class-name\">SakuraList</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">prototype</span><span class=\"token punctuation\">.</span><span class=\"token method-variable function-variable method function property-access\">draw</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">cxt</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>    <span class=\"token keyword control-flow\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> len <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">list</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">length</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> len<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">list</span><span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">draw</span><span class=\"token punctuation\">(</span>cxt<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre><span class=\"token class-name\">SakuraList</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">prototype</span><span class=\"token punctuation\">.</span><span class=\"token method-variable function-variable method function property-access\">get</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">i</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>    <span class=\"token keyword control-flow\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">list</span><span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre><span class=\"token class-name\">SakuraList</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">prototype</span><span class=\"token punctuation\">.</span><span class=\"token method-variable function-variable method function property-access\">size</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>    <span class=\"token keyword control-flow\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">list</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">length</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre></pre></td></tr><tr><td data-num=\"62\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\">getRandom</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">option</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>    <span class=\"token keyword\">var</span> ret<span class=\"token punctuation\">,</span> random<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre>    <span class=\"token keyword control-flow\">switch</span> <span class=\"token punctuation\">(</span>option<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre>        <span class=\"token keyword\">case</span> <span class=\"token string\">\"x\"</span><span class=\"token operator\">:</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre>            ret <span class=\"token operator\">=</span> <span class=\"token known-class-name class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">innerWidth</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre>            <span class=\"token keyword control-flow\">break</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"68\"></td><td><pre>        <span class=\"token keyword\">case</span> <span class=\"token string\">\"y\"</span><span class=\"token operator\">:</span></pre></td></tr><tr><td data-num=\"69\"></td><td><pre>            ret <span class=\"token operator\">=</span> <span class=\"token known-class-name class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">innerHeight</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"70\"></td><td><pre>            <span class=\"token keyword control-flow\">break</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"71\"></td><td><pre>        <span class=\"token keyword\">case</span> <span class=\"token string\">\"s\"</span><span class=\"token operator\">:</span></pre></td></tr><tr><td data-num=\"72\"></td><td><pre>            ret <span class=\"token operator\">=</span> <span class=\"token known-class-name class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"73\"></td><td><pre>            <span class=\"token keyword control-flow\">break</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"74\"></td><td><pre>        <span class=\"token keyword\">case</span> <span class=\"token string\">\"r\"</span><span class=\"token operator\">:</span></pre></td></tr><tr><td data-num=\"75\"></td><td><pre>            ret <span class=\"token operator\">=</span> <span class=\"token known-class-name class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">4</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"76\"></td><td><pre>            <span class=\"token keyword control-flow\">break</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"77\"></td><td><pre>        <span class=\"token keyword\">case</span> <span class=\"token string\">\"fnx\"</span><span class=\"token operator\">:</span></pre></td></tr><tr><td data-num=\"78\"></td><td><pre>            random <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">0.5</span> <span class=\"token operator\">+</span> <span class=\"token known-class-name class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"79\"></td><td><pre>            <span class=\"token function-variable function\">ret</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">x<span class=\"token punctuation\">,</span> y</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"80\"></td><td><pre>                <span class=\"token keyword control-flow\">return</span> x <span class=\"token operator\">+</span> <span class=\"token number\">0.5</span> <span class=\"token operator\">*</span> random <span class=\"token operator\">-</span> <span class=\"token number\">1.7</span></pre></td></tr><tr><td data-num=\"81\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"82\"></td><td><pre>            <span class=\"token keyword control-flow\">break</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"83\"></td><td><pre>        <span class=\"token keyword\">case</span> <span class=\"token string\">\"fny\"</span><span class=\"token operator\">:</span></pre></td></tr><tr><td data-num=\"84\"></td><td><pre>            random <span class=\"token operator\">=</span> <span class=\"token number\">1.5</span> <span class=\"token operator\">+</span> <span class=\"token known-class-name class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">0.7</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"85\"></td><td><pre>            <span class=\"token function-variable function\">ret</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">x<span class=\"token punctuation\">,</span> y</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"86\"></td><td><pre>                <span class=\"token keyword control-flow\">return</span> y <span class=\"token operator\">+</span> random</pre></td></tr><tr><td data-num=\"87\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"88\"></td><td><pre>            <span class=\"token keyword control-flow\">break</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"89\"></td><td><pre>        <span class=\"token keyword\">case</span> <span class=\"token string\">\"fnr\"</span><span class=\"token operator\">:</span></pre></td></tr><tr><td data-num=\"90\"></td><td><pre>            random <span class=\"token operator\">=</span> <span class=\"token known-class-name class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">0.03</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"91\"></td><td><pre>            <span class=\"token function-variable function\">ret</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">r</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"92\"></td><td><pre>                <span class=\"token keyword control-flow\">return</span> r <span class=\"token operator\">+</span> random</pre></td></tr><tr><td data-num=\"93\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"94\"></td><td><pre>            <span class=\"token keyword control-flow\">break</span></pre></td></tr><tr><td data-num=\"95\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"96\"></td><td><pre>    <span class=\"token keyword control-flow\">return</span> ret</pre></td></tr><tr><td data-num=\"97\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"98\"></td><td><pre></pre></td></tr><tr><td data-num=\"99\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\">startSakura</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"100\"></td><td><pre>    requestAnimationFrame <span class=\"token operator\">=</span> <span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">requestAnimationFrame</span> <span class=\"token operator\">||</span> <span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">mozRequestAnimationFrame</span> <span class=\"token operator\">||</span> <span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">webkitRequestAnimationFrame</span> <span class=\"token operator\">||</span> <span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">msRequestAnimationFrame</span> <span class=\"token operator\">||</span> <span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">oRequestAnimationFrame</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"101\"></td><td><pre>    <span class=\"token keyword\">var</span> canvas <span class=\"token operator\">=</span> <span class=\"token dom variable\">document</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"canvas\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"102\"></td><td><pre>        cxt<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"103\"></td><td><pre>    staticx <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"104\"></td><td><pre>    canvas<span class=\"token punctuation\">.</span><span class=\"token property-access\">height</span> <span class=\"token operator\">=</span> <span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">innerHeight</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"105\"></td><td><pre>    canvas<span class=\"token punctuation\">.</span><span class=\"token property-access\">width</span> <span class=\"token operator\">=</span> <span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">innerWidth</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"106\"></td><td><pre>    canvas<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"style\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"position: fixed;left: 0;top: 0;pointer-events: none;\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"107\"></td><td><pre>    canvas<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"id\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"canvas_sakura\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"108\"></td><td><pre>    <span class=\"token dom variable\">document</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getElementsByTagName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"body\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">appendChild</span><span class=\"token punctuation\">(</span>canvas<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"109\"></td><td><pre>    cxt <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"2d\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"110\"></td><td><pre>    <span class=\"token keyword\">var</span> sakuraList <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">SakuraList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"111\"></td><td><pre>    <span class=\"token keyword control-flow\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token number\">50</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"112\"></td><td><pre>        <span class=\"token keyword\">var</span> sakura<span class=\"token punctuation\">,</span> randomX<span class=\"token punctuation\">,</span> randomY<span class=\"token punctuation\">,</span> randomS<span class=\"token punctuation\">,</span> randomR<span class=\"token punctuation\">,</span> randomFnx<span class=\"token punctuation\">,</span> randomFny<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"113\"></td><td><pre>        randomX <span class=\"token operator\">=</span> <span class=\"token function\">getRandom</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"x\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"114\"></td><td><pre>        randomY <span class=\"token operator\">=</span> <span class=\"token function\">getRandom</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"y\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"115\"></td><td><pre>        randomR <span class=\"token operator\">=</span> <span class=\"token function\">getRandom</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"r\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"116\"></td><td><pre>        randomS <span class=\"token operator\">=</span> <span class=\"token function\">getRandom</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"s\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"117\"></td><td><pre>        randomFnx <span class=\"token operator\">=</span> <span class=\"token function\">getRandom</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"fnx\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"118\"></td><td><pre>        randomFny <span class=\"token operator\">=</span> <span class=\"token function\">getRandom</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"fny\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"119\"></td><td><pre>        randomFnR <span class=\"token operator\">=</span> <span class=\"token function\">getRandom</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"fnr\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"120\"></td><td><pre>        sakura <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Sakura</span><span class=\"token punctuation\">(</span>randomX<span class=\"token punctuation\">,</span> randomY<span class=\"token punctuation\">,</span> randomS<span class=\"token punctuation\">,</span> randomR<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"121\"></td><td><pre>            <span class=\"token literal-property property\">x</span><span class=\"token operator\">:</span> randomFnx<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"122\"></td><td><pre>            <span class=\"token literal-property property\">y</span><span class=\"token operator\">:</span> randomFny<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"123\"></td><td><pre>            <span class=\"token literal-property property\">r</span><span class=\"token operator\">:</span> randomFnR</pre></td></tr><tr><td data-num=\"124\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"125\"></td><td><pre>        sakura<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">draw</span><span class=\"token punctuation\">(</span>cxt<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"126\"></td><td><pre>        sakuraList<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">push</span><span class=\"token punctuation\">(</span>sakura<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"127\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"128\"></td><td><pre>    stop <span class=\"token operator\">=</span> <span class=\"token function\">requestAnimationFrame</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"129\"></td><td><pre>        cxt<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">clearRect</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> canvas<span class=\"token punctuation\">.</span><span class=\"token property-access\">width</span><span class=\"token punctuation\">,</span> canvas<span class=\"token punctuation\">.</span><span class=\"token property-access\">height</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"130\"></td><td><pre>        sakuraList<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">update</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"131\"></td><td><pre>        sakuraList<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">draw</span><span class=\"token punctuation\">(</span>cxt<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"132\"></td><td><pre>        stop <span class=\"token operator\">=</span> <span class=\"token function\">requestAnimationFrame</span><span class=\"token punctuation\">(</span>arguments<span class=\"token punctuation\">.</span><span class=\"token property-access\">callee</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"133\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"134\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"135\"></td><td><pre><span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token method-variable function-variable method function property-access\">onresize</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"136\"></td><td><pre>    <span class=\"token keyword\">var</span> canvasSnow <span class=\"token operator\">=</span> <span class=\"token dom variable\">document</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"canvas_snow\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"137\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"138\"></td><td><pre>img<span class=\"token punctuation\">.</span><span class=\"token method-variable function-variable method function property-access\">onload</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"139\"></td><td><pre>    <span class=\"token function\">startSakura</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"140\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"141\"></td><td><pre></pre></td></tr><tr><td data-num=\"142\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\">stopp</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"143\"></td><td><pre>    <span class=\"token keyword control-flow\">if</span> <span class=\"token punctuation\">(</span>staticx<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"144\"></td><td><pre>        <span class=\"token keyword\">var</span> child <span class=\"token operator\">=</span> <span class=\"token dom variable\">document</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"canvas_sakura\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"145\"></td><td><pre>        child<span class=\"token punctuation\">.</span><span class=\"token property-access\">parentNode</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">removeChild</span><span class=\"token punctuation\">(</span>child<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"146\"></td><td><pre>        <span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">cancelAnimationFrame</span><span class=\"token punctuation\">(</span>stop<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"147\"></td><td><pre>        staticx <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span></pre></td></tr><tr><td data-num=\"148\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword control-flow\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"149\"></td><td><pre>        <span class=\"token function\">startSakura</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"150\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"151\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>或者直接 html 代码引入</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token operator\">&lt;</span>script src<span class=\"token operator\">=</span><span class=\"token string\">\"https://repo.xiongzi.top/assets/js/leaves.js\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span></pre></td></tr></table></figure><p>替换落叶图片。在 JS 代码的第三行将引入的图片文件替换为你想要的即可。</p>\n<h1 id=\"定制评论功能\"><a class=\"anchor\" href=\"#定制评论功能\">#</a> <span class=\"label primary\">定制评论功能</span></h1>\n<h2 id=\"来必力评论\"><a class=\"anchor\" href=\"#来必力评论\">#</a> <span class=\"label warning\">来必力评论</span></h2>\n<p>在 index.html 中 window.$docsify 中添加代码：</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token literal-property property\">plugins</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>        <span class=\"token comment\">/* 来必力评论 */</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>        <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">hook<span class=\"token punctuation\">,</span> vm</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>          <span class=\"token comment\">// load livere</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>          hook<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">beforeEach</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">content</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>            <span class=\"token keyword\">var</span> comment <span class=\"token operator\">=</span> <span class=\"token string\">\"&lt;div id='lv-container' data-id='city' data-uid='MTAyMC80MzA4MC8xOTYyNg=='>&lt;/div>\\n\\n----\\n\"</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>            <span class=\"token keyword control-flow\">return</span> content <span class=\"token operator\">+</span> comment<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>          <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>          hook<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">doneEach</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>            <span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">d<span class=\"token punctuation\">,</span> s</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>              <span class=\"token keyword\">var</span> j<span class=\"token punctuation\">,</span> e <span class=\"token operator\">=</span> d<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getElementsByTagName</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>              <span class=\"token keyword control-flow\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> <span class=\"token maybe-class-name\">LivereTower</span> <span class=\"token operator\">===</span> <span class=\"token string\">'function'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token keyword control-flow\">return</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>              j <span class=\"token operator\">=</span> d<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">createElement</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>              j<span class=\"token punctuation\">.</span><span class=\"token property-access\">src</span> <span class=\"token operator\">=</span> <span class=\"token string\">'https://cdn-city.livere.com/js/embed.dist.js'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>              j<span class=\"token punctuation\">.</span><span class=\"token property-access\">async</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>              e<span class=\"token punctuation\">.</span><span class=\"token property-access\">parentNode</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">insertBefore</span><span class=\"token punctuation\">(</span>j<span class=\"token punctuation\">,</span> e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token dom variable\">document</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'script'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>          <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>      <span class=\"token punctuation\">]</span></pre></td></tr></table></figure><p>4.6.2 Gitalk 评论<br />\n申请 Gitalk<br />\n 申请网址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3NldHRpbmdzL2FwcGxpY2F0aW9ucy9uZXc=\">https://github.com/settings/applications/new</span></p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@main/img/115955.png\" alt=\"115955\" /></p>\n<p>注册完毕之后，会进入这个界面：</p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@main/img/120113.png\" alt=\"120113\" /></p>\n<p>在这里，你就能看到 clientID 和 clientSecret 啦，页面不要关闭，先记录一下这两个值，下面有用。</p>\n<p>修改 index.html<br />\n 添加下面代码：(以我的举例，适当修改)</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token operator\">--</span> <span class=\"token maybe-class-name\">Gitalk</span> 评论系统 <span class=\"token operator\">--</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token operator\">&lt;</span>link rel<span class=\"token operator\">=</span><span class=\"token string\">\"stylesheet\"</span> href<span class=\"token operator\">=</span><span class=\"token string\">\"https://wugenqiang.gitee.io/notebook/plugin/gitalk.css\"</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token operator\">--</span> <span class=\"token maybe-class-name\">Gitalk</span> 评论系统 <span class=\"token operator\">--</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token operator\">&lt;</span>script src<span class=\"token operator\">=</span><span class=\"token string\">\"https://wugenqiang.gitee.io/notebook/plugin/gitalk.js\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token operator\">&lt;</span>script src<span class=\"token operator\">=</span><span class=\"token string\">\"https://wugenqiang.gitee.io/notebook/plugin/gitalk.min.js\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token operator\">&lt;</span>script src<span class=\"token operator\">=</span><span class=\"token string\">\"https://wugenqiang.gitee.io/notebook/plugin/md5.min.js\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token operator\">&lt;</span>script<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token comment\">//title_id 需要初始化</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">title_id</span> <span class=\"token operator\">=</span> <span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">location</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">hash</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">#(.*?)([?]|$)</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">location</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">hash</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">match</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">#(.*?)([?]|$)</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">:</span> <span class=\"token string\">'/'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token keyword\">const</span> gitalk <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Gitalk</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token literal-property property\">clientID</span><span class=\"token operator\">:</span> <span class=\"token string\">''</span><span class=\"token punctuation\">,</span><span class=\"token comment\">// 你的 ID</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token literal-property property\">clientSecret</span><span class=\"token operator\">:</span> <span class=\"token string\">''</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 添加刚才的密钥</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token literal-property property\">repo</span><span class=\"token operator\">:</span> <span class=\"token string\">''</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 库</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token literal-property property\">owner</span><span class=\"token operator\">:</span> <span class=\"token string\">''</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 昵称</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token literal-property property\">admin</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">''</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token comment\">// 昵称</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token literal-property property\">title</span><span class=\"token operator\">:</span> <span class=\"token function\">decodeURI</span><span class=\"token punctuation\">(</span><span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">title_id</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token literal-property property\">distractionFreeMode</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\t<span class=\"token comment\">// 是否添加全屏遮罩</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> <span class=\"token function\">md5</span><span class=\"token punctuation\">(</span><span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">location</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">hash</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\t<span class=\"token comment\">// 页面的唯一标识，gitalk 会根据这个标识自动创建的 issue 的标签，我们使用页面的相对路径作为标识</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token literal-property property\">enableHotKey</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\t<span class=\"token comment\">// 提交评论快捷键 (cmd/ctrl + enter)</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>  <span class=\"token comment\">// 监听 URL 中 hash 的变化，如果发现换了一个 MD 文件，那么刷新页面，解决整个网站使用一个 gitalk 评论 issues 的问题。</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>  <span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token method-variable function-variable method function property-access\">onhashchange</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token keyword control-flow\">if</span> <span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span><span class=\"token property-access\">newURL</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">'?'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">!==</span> event<span class=\"token punctuation\">.</span><span class=\"token property-access\">oldURL</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">'?'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>      <span class=\"token dom variable\">location</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">reload</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span></pre></td></tr></table></figure><h2 id=\"disqus评论\"><a class=\"anchor\" href=\"#disqus评论\">#</a> <span class=\"label warning\">Disqus 评论</span></h2>\n<p>在 index.html 中添加：</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token operator\">&lt;</span>script<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">$docsify</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token literal-property property\">disqus</span><span class=\"token operator\">:</span> <span class=\"token string\">'shortname'</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token operator\">&lt;</span>script src<span class=\"token operator\">=</span><span class=\"token string\">\"//cdn.jsdelivr.net/npm/docsify/lib/plugins/disqus.min.js\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span></pre></td></tr></table></figure><h1 id=\"复制文章弹窗提示\"><a class=\"anchor\" href=\"#复制文章弹窗提示\">#</a> <span class=\"label primary\">复制文章弹窗提示</span></h1>\n<p>在 index.html 中写入：</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token operator\">--</span> alert 样式 <span class=\"token operator\">--</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token operator\">&lt;</span>link rel<span class=\"token operator\">=</span><span class=\"token string\">\"stylesheet\"</span> href<span class=\"token operator\">=</span><span class=\"token string\">\"https://repo.xiongzi.top/assets/css/sweetalert.min.css\"</span> type<span class=\"token operator\">=</span><span class=\"token string\">'text/css'</span> media<span class=\"token operator\">=</span><span class=\"token string\">'all'</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token operator\">--</span> 复制提醒 <span class=\"token operator\">--</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token operator\">&lt;</span>script src<span class=\"token operator\">=</span><span class=\"token string\">\"https://repo.xiongzi.top/assets/js/sweetalert.min.js\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token operator\">&lt;</span>script<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token dom variable\">document</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">body</span><span class=\"token punctuation\">.</span><span class=\"token method-variable function-variable method function property-access\">oncopy</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token function\">swal</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"复制成功 😽\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>            <span class=\"token string\">\"转载声明来源🦄\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>            <span class=\"token string\">\"success\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span></pre></td></tr></table></figure><p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@main/img/120615.png\" alt=\"120615\" /></p>\n<h1 id=\"添加网站运行时间\"><a class=\"anchor\" href=\"#添加网站运行时间\">#</a> <span class=\"label primary\">添加网站运行时间</span></h1>\n<p>在 index.html 页面中写入：</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token operator\">--</span> 访问量统计 <span class=\"token operator\">--</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token operator\">&lt;</span>script <span class=\"token keyword\">async</span> src<span class=\"token operator\">=</span><span class=\"token string\">\"//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token operator\">--</span> 运行时间统计 <span class=\"token operator\">--</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token operator\">&lt;</span>script language<span class=\"token operator\">=</span>javascript<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token keyword\">function</span> <span class=\"token function\">siteTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token dom variable\">window</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"siteTime()\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">var</span> seconds <span class=\"token operator\">=</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">var</span> minutes <span class=\"token operator\">=</span> seconds <span class=\"token operator\">*</span> <span class=\"token number\">60</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">var</span> hours <span class=\"token operator\">=</span> minutes <span class=\"token operator\">*</span> <span class=\"token number\">60</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token keyword\">var</span> days <span class=\"token operator\">=</span> hours <span class=\"token operator\">*</span> <span class=\"token number\">24</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token keyword\">var</span> years <span class=\"token operator\">=</span> days <span class=\"token operator\">*</span> <span class=\"token number\">365</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">var</span> today <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token keyword\">var</span> todayYear <span class=\"token operator\">=</span> today<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getFullYear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token keyword\">var</span> todayMonth <span class=\"token operator\">=</span> today<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getMonth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token keyword\">var</span> todayDate <span class=\"token operator\">=</span> today<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getDate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token keyword\">var</span> todayHour <span class=\"token operator\">=</span> today<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getHours</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token keyword\">var</span> todayMinute <span class=\"token operator\">=</span> today<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getMinutes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token keyword\">var</span> todaySecond <span class=\"token operator\">=</span> today<span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getSeconds</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token comment\">/* Date.UTC () -- 返回 date 对象距世界标准时间 (UTC) 1970 年 1 月 1 日午夜之间的毫秒数 (时间戳)</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    year - 作为 date 对象的年份，为 4 位年份值</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    month - 0-11 之间的整数，做为 date 对象的月份</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    day - 1-31 之间的整数，做为 date 对象的天数</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    hours - 0 (午夜 24 点)-23 之间的整数，做为 date 对象的小时数</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    minutes - 0-59 之间的整数，做为 date 对象的分钟数</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    seconds - 0-59 之间的整数，做为 date 对象的秒数</pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    microseconds - 0-999 之间的整数，做为 date 对象的毫秒数 */</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token keyword\">var</span> t1 <span class=\"token operator\">=</span> <span class=\"token known-class-name class-name\">Date</span><span class=\"token punctuation\">.</span><span class=\"token constant\">UTC</span><span class=\"token punctuation\">(</span><span class=\"token number\">2020</span><span class=\"token punctuation\">,</span> <span class=\"token number\">02</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">00</span><span class=\"token punctuation\">,</span> <span class=\"token number\">00</span><span class=\"token punctuation\">,</span> <span class=\"token number\">00</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 北京时间 2020-02-10 00:00:00</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token keyword\">var</span> t2 <span class=\"token operator\">=</span> <span class=\"token known-class-name class-name\">Date</span><span class=\"token punctuation\">.</span><span class=\"token constant\">UTC</span><span class=\"token punctuation\">(</span>todayYear<span class=\"token punctuation\">,</span> todayMonth<span class=\"token punctuation\">,</span> todayDate<span class=\"token punctuation\">,</span> todayHour<span class=\"token punctuation\">,</span> todayMinute<span class=\"token punctuation\">,</span> todaySecond<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token keyword\">var</span> diff <span class=\"token operator\">=</span> t2 <span class=\"token operator\">-</span> t1<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    <span class=\"token keyword\">var</span> diffYears <span class=\"token operator\">=</span> <span class=\"token known-class-name class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">floor</span><span class=\"token punctuation\">(</span>diff <span class=\"token operator\">/</span> years<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>    <span class=\"token keyword\">var</span> diffDays <span class=\"token operator\">=</span> <span class=\"token known-class-name class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">floor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>diff <span class=\"token operator\">/</span> days<span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> diffYears <span class=\"token operator\">*</span> <span class=\"token number\">365</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token keyword\">var</span> diffHours <span class=\"token operator\">=</span> <span class=\"token known-class-name class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">floor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>diff <span class=\"token operator\">-</span> <span class=\"token punctuation\">(</span>diffYears <span class=\"token operator\">*</span> <span class=\"token number\">365</span> <span class=\"token operator\">+</span> diffDays<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> days<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> hours<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    <span class=\"token keyword\">var</span> diffMinutes <span class=\"token operator\">=</span> <span class=\"token known-class-name class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">floor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>diff <span class=\"token operator\">-</span> <span class=\"token punctuation\">(</span>diffYears <span class=\"token operator\">*</span> <span class=\"token number\">365</span> <span class=\"token operator\">+</span> diffDays<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> days <span class=\"token operator\">-</span> diffHours <span class=\"token operator\">*</span> hours<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> minutes<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    <span class=\"token keyword\">var</span> diffSeconds <span class=\"token operator\">=</span> <span class=\"token known-class-name class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">floor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>diff <span class=\"token operator\">-</span> <span class=\"token punctuation\">(</span>diffYears <span class=\"token operator\">*</span> <span class=\"token number\">365</span> <span class=\"token operator\">+</span> diffDays<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> days <span class=\"token operator\">-</span> diffHours <span class=\"token operator\">*</span> hours <span class=\"token operator\">-</span> diffMinutes <span class=\"token operator\">*</span> minutes<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> seconds<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    <span class=\"token dom variable\">document</span><span class=\"token punctuation\">.</span><span class=\"token method function property-access\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"sitetime\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token property-access\">innerHTML</span> <span class=\"token operator\">=</span> <span class=\"token string\">\" 本网站已运行 \"</span> <span class=\"token operator\">+</span> diffYears <span class=\"token operator\">+</span> <span class=\"token string\">\" 年 \"</span> <span class=\"token operator\">+</span> diffDays <span class=\"token operator\">+</span> <span class=\"token string\">\" 天 \"</span> <span class=\"token operator\">+</span> diffHours <span class=\"token operator\">+</span> <span class=\"token string\">\" 小时 \"</span> <span class=\"token operator\">+</span> diffMinutes <span class=\"token operator\">+</span> <span class=\"token string\">\" 分钟 \"</span> <span class=\"token operator\">+</span> diffSeconds <span class=\"token operator\">+</span> <span class=\"token string\">\" 秒 \"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>  <span class=\"token function\">siteTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span></pre></td></tr></table></figure><p>然后嵌入代码：</p>\n<figure class=\"highlight html\"><figcaption data-lang=\"HTML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>sitetime<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><h1 id=\"美化提示样式\"><a class=\"anchor\" href=\"#美化提示样式\">#</a> <span class=\"label primary\">美化提示样式</span></h1>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2Z6YW5rbC9kb2NzaWZ5LXBsdWdpbi1mbGV4aWJsZS1hbGVydHM=\">Docsify-alerts</span></p>\n<p>效果图：</p>\n<p><img data-src=\"https://user-images.githubusercontent.com/44210522/93708131-10fb5780-fb34-11ea-85ae-e18b3e239f83.jpg\" alt=\"Sample alerts created with plugin 'flexible-alerts'\" /></p>\n<p>在 index.html 页面中写入：</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token operator\">&lt;</span>script src<span class=\"token operator\">=</span><span class=\"token string\">\"https://unpkg.com/docsify-plugin-flexible-alerts\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span></pre></td></tr></table></figure><p>默认情况下，样式 flat 和 callout（默认值：callout）和类型 NOTE，TIP，WARNING 和 DANGER 支持。在类型和标题之间使用以下映射：</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">Type</th>\n<th style=\"text-align:center\">Heading</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">NOTE</td>\n<td style=\"text-align:center\">Note</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">TIP</td>\n<td style=\"text-align:center\">Tip</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">WARNING</td>\n<td style=\"text-align:center\">Warning</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">DANGER</td>\n<td style=\"text-align:center\">Attention</td>\n</tr>\n</tbody>\n</table>\n<p>如果想效果是这样：</p>\n<p><img data-src=\"https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20vd3VnZW5xaWFuZy9QaWN0dXJlQmVkL3Jhdy9tYXN0ZXIvTm90ZUJvb2svMjAyMDA2MTYxMjQ1MjcucG5n?x-oss-process=image/format,png\" alt=\"image-20200616124526081\" /></p>\n<p>可以在 index.html 页面中添加：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token operator\">&lt;</span>script<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  window.<span class=\"token variable\">$docsify</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token string\">'flexible-alerts'</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>      style: <span class=\"token string\">'flat'</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token operator\">&lt;</span>/script<span class=\"token operator\">></span></pre></td></tr></table></figure><p><code>index.html</code>  使用自定义标题的示例</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token operator\">&lt;</span>script<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  window.<span class=\"token variable\">$docsify</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token string\">'flexible-alerts'</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>      note: <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        label: <span class=\"token string\">\"Hinweis\"</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span>,</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>      tip: <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        label: <span class=\"token string\">\"Tipp\"</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span>,</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>      warning: <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        label: <span class=\"token string\">\"Warnung\"</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span>,</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>      attention: <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        label: <span class=\"token string\">\"Achtung\"</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token operator\">&lt;</span>/script<span class=\"token operator\">></span></pre></td></tr></table></figure><p><code>index.html</code>  使用多语言标题的示例</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token operator\">&lt;</span>script<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  window.<span class=\"token variable\">$docsify</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token string\">'flexible-alerts'</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>      note: <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        label: <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>          <span class=\"token string\">'/de-DE/'</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">'Hinweis'</span>,</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>          <span class=\"token string\">'/'</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">'Note'</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span>,</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>      tip: <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        label: <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>          <span class=\"token string\">'/de-DE/'</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">'Tipp'</span>,</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>          <span class=\"token string\">'/'</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">'Tip'</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span>,</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>      warning: <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        label: <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>          <span class=\"token string\">'/de-DE/'</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">'Warnung'</span>,</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>          <span class=\"token string\">'/'</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">'Warning'</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span>,</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>      attention: <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        label: <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>          <span class=\"token string\">'/de-DE/'</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">'Achtung'</span>,</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>          <span class=\"token string\">'/'</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">'Attention'</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre><span class=\"token operator\">&lt;</span>/script<span class=\"token operator\">></span></pre></td></tr></table></figure><h2 id=\"示例一note\"><a class=\"anchor\" href=\"#示例一note\">#</a> <span class=\"label warning\">示例一：NOTE</span></h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span><span class=\"token operator\">!</span>NOTE<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token operator\">></span> An alert of <span class=\"token builtin class-name\">type</span> <span class=\"token string\">'note'</span> using global style <span class=\"token string\">'callout'</span><span class=\"token builtin class-name\">.</span></pre></td></tr></table></figure><blockquote>\n<p>[!NOTE]<br />\nAn alert of type ‘note’ using global style ‘callout’.</p>\n</blockquote>\n<h2 id=\"示例二tip\"><a class=\"anchor\" href=\"#示例二tip\">#</a> <span class=\"label warning\">示例二：TIP</span></h2>\n<pre><code class=\"language-bas\">[!TIP]\nAn alert of type 'tip' using global style 'callout'.\n</code></pre>\n<blockquote>\n<p>[!TIP]<br />\nAn alert of type ‘tip’ using global style ‘callout’.</p>\n</blockquote>\n<h2 id=\"示例三warning\"><a class=\"anchor\" href=\"#示例三warning\">#</a> <span class=\"label warning\">示例三：WARNING</span></h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span><span class=\"token operator\">!</span>WARNING<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>An alert of <span class=\"token builtin class-name\">type</span> <span class=\"token string\">'warning'</span> using global style <span class=\"token string\">'callout'</span><span class=\"token builtin class-name\">.</span></pre></td></tr></table></figure><blockquote>\n<p>[!ARNING]<br />\nAn alert of type ‘warning’ using global style ‘callout’.</p>\n</blockquote>\n<h2 id=\"示例四danger\"><a class=\"anchor\" href=\"#示例四danger\">#</a> <span class=\"label warning\">示例四：DANGER</span></h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span><span class=\"token operator\">!</span>DANGER<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>An alert of <span class=\"token builtin class-name\">type</span> <span class=\"token string\">'danger'</span> using global style <span class=\"token string\">'callout'</span><span class=\"token builtin class-name\">.</span></pre></td></tr></table></figure><blockquote>\n<p>[!DANGER]<br />\nAn alert of type ‘danger’ using global style ‘callout’.</p>\n</blockquote>\n<h1 id=\"实现旧域名跳转\"><a class=\"anchor\" href=\"#实现旧域名跳转\">#</a> <span class=\"label primary\">实现旧域名跳转</span></h1>\n<p>在 index.html 添加：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token operator\">&lt;</span>script<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>location.host <span class=\"token operator\">!=</span> <span class=\"token string\">\"reop.xiongzi.top\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>        alert<span class=\"token punctuation\">(</span><span class=\"token string\">\"本网站已迁移到新网址：repo.xiongzi.top，请按确定前往新网址\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        window.location.href <span class=\"token operator\">=</span><span class=\"token string\">\"https://repo.xiongzi.top/\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token operator\">&lt;</span>/script<span class=\"token operator\">></span></pre></td></tr></table></figure><p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@main/img/121735.png\" alt=\"225259\" /></p>\n<h1 id=\"scialshare分享插件\"><a class=\"anchor\" href=\"#scialshare分享插件\">#</a> <span class=\"label primary\">ScialShare 分享插件</span></h1>\n<p>在  <code>index.html</code>  中嵌入代码<br />\n需要先安装外链脚本插件：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token operator\">&lt;</span>script <span class=\"token assign-left variable\">src</span><span class=\"token operator\">=</span><span class=\"token string\">\"//cdn.jsdelivr.net/npm/docsify/lib/plugins/external-script.min.js\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>/script<span class=\"token operator\">></span></pre></td></tr></table></figure><p>后在 需要的 <code>.md</code>  文件中写下：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token operator\">&lt;</span>link <span class=\"token assign-left variable\">rel</span><span class=\"token operator\">=</span><span class=\"token string\">\"stylesheet\"</span> <span class=\"token assign-left variable\">href</span><span class=\"token operator\">=</span><span class=\"token string\">\"https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/css/share.min.css\"</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token operator\">&lt;</span>div <span class=\"token assign-left variable\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"social-share\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>/div<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token operator\">&lt;</span>script <span class=\"token assign-left variable\">type</span><span class=\"token operator\">=</span><span class=\"token string\">\"text/javascript\"</span> <span class=\"token assign-left variable\">src</span><span class=\"token operator\">=</span><span class=\"token string\">\"https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/js/social-share.min.js\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>/script<span class=\"token operator\">></span></pre></td></tr></table></figure><p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@main/img/122815.png\" alt=\"122815\" /></p>\n<h1 id=\"右下角添加live2d\"><a class=\"anchor\" href=\"#右下角添加live2d\">#</a> <span class=\"label primary\">右下角添加 live2d</span></h1>\n<p>在 index.html 中添加：</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token operator\">&lt;</span>script src<span class=\"token operator\">=</span><span class=\"token string\">\"https://repo.xiongzi.top/live2d-widget/live2d.min.js\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span></pre></td></tr></table></figure><p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@main/img/122900.png\" alt=\"122900\" /></p>\n<h1 id=\"访问量统计\"><a class=\"anchor\" href=\"#访问量统计\">#</a> <span class=\"label primary\">访问量统计</span></h1>\n<p>在 index.html 中添加：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span>-- 访问量统计 --<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token operator\">&lt;</span>script async <span class=\"token assign-left variable\">src</span><span class=\"token operator\">=</span><span class=\"token string\">\"//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>/script<span class=\"token operator\">></span></pre></td></tr></table></figure><p>在想添加的 md 文件中添加：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token operator\">&lt;</span>br<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token operator\">&lt;</span>span <span class=\"token assign-left variable\">id</span><span class=\"token operator\">=</span><span class=\"token string\">\"busuanzi_container_site_pv\"</span> <span class=\"token assign-left variable\">style</span><span class=\"token operator\">=</span><span class=\"token string\">'display:none'</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    👀 本站总访问量：<span class=\"token operator\">&lt;</span>span <span class=\"token assign-left variable\">id</span><span class=\"token operator\">=</span><span class=\"token string\">\"busuanzi_value_site_pv\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>/span<span class=\"token operator\">></span> 次</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token operator\">&lt;</span>/span<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token operator\">&lt;</span>span <span class=\"token assign-left variable\">id</span><span class=\"token operator\">=</span><span class=\"token string\">\"busuanzi_container_site_uv\"</span> <span class=\"token assign-left variable\">style</span><span class=\"token operator\">=</span><span class=\"token string\">'display:none'</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token operator\">|</span> 🚴‍♂️ 本站总访客数：<span class=\"token operator\">&lt;</span>span <span class=\"token assign-left variable\">id</span><span class=\"token operator\">=</span><span class=\"token string\">\"busuanzi_value_site_uv\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>/span<span class=\"token operator\">></span> 人</pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token operator\">&lt;</span>/span<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token operator\">&lt;</span>br<span class=\"token operator\">></span></pre></td></tr></table></figure><p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@main/img/123159.png\" alt=\"123159\" /></p>\n",
            "tags": [
                "Docsify",
                "Docsify"
            ]
        },
        {
            "id": "https://ki.xiongzi.top/post/49435/",
            "url": "https://ki.xiongzi.top/post/49435/",
            "title": "使用Docsify搭建自己的知识库",
            "date_published": "2022-03-16T04:40:20.000Z",
            "content_html": "<div class=\"note primary\">\n<p>🦄快速开始 -<a href=\"/post/49435/\">🚀基本环境</a> - <span class=\"exturl\" data-url=\"aHR0cHM6Ly9kb2NzaWZ5LmpzLm9yZy8jLw==\">💌基础配置</span> - <a href=\"/post/88222415/\">📌定制功能</a></p>\n</div>\n<h1 id=\"使用docsify搭建自己的知识库\"><a class=\"anchor\" href=\"#使用docsify搭建自己的知识库\">#</a> <span class=\"label primary\">使用 Docsify 搭建自己的知识库</span></h1>\n<h1 id=\"docsify简介\"><a class=\"anchor\" href=\"#docsify简介\">#</a> <span class=\"label primary\">Docsify 简介</span></h1>\n<p>docsify 是一个超级好用的文档站点生成器！特点是使用简单，跟着官网教程输入两行命令就能完成安装和生成站点了，生成的文档样式也很精简优雅，并且是响应式的，手机上看也很不错。</p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9saW5rcy5qaWFuc2h1LmNvbS9nbz90bz1odHRwcyUzQSUyRiUyRmRvY3NpZnkuanMub3JnJTJGJTIzJTJGemgtY24lMkY=\">docsify 中文文档</span></p>\n<blockquote>\n<p>一个神奇的文档站点生成器</p>\n</blockquote>\n<h1 id=\"搭建\"><a class=\"anchor\" href=\"#搭建\">#</a> <span class=\"label primary\">搭建</span></h1>\n<p><span class=\"exturl\" data-url=\"aHR0cDovL3JlcG8ueGlvbmd6aS50b3Av\">预览我的知识库</span></p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@main/img/223828.png\" alt=\"223828\" /></p>\n<h2 id=\"必备环境\"><a class=\"anchor\" href=\"#必备环境\">#</a> <span class=\"label warning\">必备环境</span></h2>\n<ul>\n<li>node</li>\n<li>npm</li>\n</ul>\n<h2 id=\"全局安装\"><a class=\"anchor\" href=\"#全局安装\">#</a> <span class=\"label warning\">全局安装</span></h2>\n<p>安装脚手架工具 docsify-cli，安装过程中较慢的可以切换 npm 源为 <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuamlhbnNodS5jb20vZGV2b3BzL25wbS1kZXBsb3kubWQ=\">cnpm</span></p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>$ <span class=\"token function\">npm</span> i docsify-cli -g</pre></td></tr></table></figure><h2 id=\"验证\"><a class=\"anchor\" href=\"#验证\">#</a> <span class=\"label warning\">验证</span></h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>$ docsify -v</pre></td></tr></table></figure><p>出现版本好几安装成功</p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@main/img/230436.png\" alt=\"屏幕截图 2022-03-15 230436\" /></p>\n<h2 id=\"初始化文档\"><a class=\"anchor\" href=\"#初始化文档\">#</a> <span class=\"label warning\">初始化文档</span></h2>\n<p>docs 为项目文件，可以自定义。</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>$ docsify init docs</pre></td></tr></table></figure><p>执行完以上命令 docs 文件目录下会生成以下 3 个文件：</p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@main/img/230337.png\" alt=\"屏幕截图 2022-03-15 230337\" /></p>\n<ul>\n<li><code>index.html</code> ：入口文件。</li>\n<li><code>README.md</code> ：默认做为主页内容渲染。</li>\n<li><code>.nojekyll</code> ：防止 Github 忽略带下划线的文件。</li>\n</ul>\n<h2 id=\"进入项目\"><a class=\"anchor\" href=\"#进入项目\">#</a> <span class=\"label warning\">进入项目</span></h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>$ <span class=\"token builtin class-name\">cd</span> docs</pre></td></tr></table></figure><h2 id=\"启动本地服务预览\"><a class=\"anchor\" href=\"#启动本地服务预览\">#</a> <span class=\"label warning\">启动本地服务预览</span> **</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>$ docsify serve</pre></td></tr></table></figure><p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@main/img/230315.png\" alt=\"230315\" /></p>\n<p>直接编辑 docs/README.md 就能更新文档内容，当然也可以添加更多页面。</p>\n<h1 id=\"部署\"><a class=\"anchor\" href=\"#部署\">#</a> <span class=\"label primary\">部署</span></h1>\n<h2 id=\"github新建一个仓库\"><a class=\"anchor\" href=\"#github新建一个仓库\">#</a> <span class=\"label warning\">GitHub 新建一个仓库</span></h2>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@main/img/234313.png\" alt=\"234313\" /></p>\n<h2 id=\"将本地项目推送到github\"><a class=\"anchor\" href=\"#将本地项目推送到github\">#</a> <span class=\"label warning\">将本地项目推送到 GitHub</span></h2>\n<ul>\n<li>本地 docs 目录下，打开 Git，输入命令： <code>git init</code> 。初始化本地仓库 docs</li>\n<li>将文件添加到仓库并提交：</li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>$ <span class=\"token function\">git</span> init   // 初始化版本库</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>$ <span class=\"token function\">git</span> <span class=\"token function\">add</span> <span class=\"token builtin class-name\">.</span>   // 添加文件到版本库（只是添加到缓存区），.代表添加文件夹下所有文件 </pre></td></tr><tr><td data-num=\"3\"></td><td><pre>$ <span class=\"token function\">git</span> commit -m <span class=\"token string\">\"first commit\"</span> // 把添加的文件提交到版本库，并填写提交备注</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>$ <span class=\"token function\">git</span> remote <span class=\"token function\">add</span> origin 你的远程库地址  // 把本地库与远程库关联</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>$ <span class=\"token function\">git</span> push -u origin master    // 第一次推送时</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>$ <span class=\"token function\">git</span> push origin master  // 第一次推送后，直接使用该命令即可推送修改</pre></td></tr></table></figure><h2 id=\"开启githubpage\"><a class=\"anchor\" href=\"#开启githubpage\">#</a> <span class=\"label warning\">开启 GitHubPage</span></h2>\n<p>选择分支</p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@main/img/230436.png\" alt=\"230436\" /></p>\n<p>点击给出的域名或者自定义域名查看</p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@main/img/124509.png\" alt=\"124509\" /></p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9kb2NzaWZ5LmpzLm9yZy8jLw==\">基础配置与官方无异，点击查看</span></p>\n",
            "tags": [
                "Docsify",
                "Docsify"
            ]
        },
        {
            "id": "https://ki.xiongzi.top/post/21631/",
            "url": "https://ki.xiongzi.top/post/21631/",
            "title": "OpenCv4.0学习笔记",
            "date_published": "2022-03-09T11:39:48.000Z",
            "content_html": "<h1 id=\"opencv40学习笔记\"><a class=\"anchor\" href=\"#opencv40学习笔记\">#</a> <span class=\"label primary\">OpenCv4.0 学习笔记</span></h1>\n<h1 id=\"显示第一张图片\"><a class=\"anchor\" href=\"#显示第一张图片\">#</a> <span class=\"label primary\">显示第一张图片</span></h1>\n<p>环境配置了一个早上，到 10.48 分配置完毕，有点难受。还好最后显示出第一张图片。</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>#include<span class=\"token operator\">&lt;</span>opencv2<span class=\"token operator\">/</span>opencv<span class=\"token punctuation\">.</span>hpp<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>#include<span class=\"token generics\"><span class=\"token punctuation\">&lt;</span>iostream<span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>using namespace std<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>using namespace cv<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">int</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> </pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>\t<span class=\"token class-name\">Mat</span> src <span class=\"token operator\">=</span> <span class=\"token function\">imread</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"D:/images/011.jpg\"</span><span class=\"token punctuation\">,</span>IMREAD_GRAYSCALE<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 读取进来的数据以矩阵的形势，第二个参数代表显示一张灰度图像。</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>src<span class=\"token punctuation\">.</span><span class=\"token function\">empty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> </pre></td></tr><tr><td data-num=\"11\"></td><td><pre>\t<span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>\t\t<span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"could not load image\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 如果图片不存在 将无法读取，打印到终端。</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>\t   <span class=\"token comment\">// 超过屏幕的图像无法显示时候调用此函数。</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>\t<span class=\"token function\">namedWindow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"输入窗口\"</span><span class=\"token punctuation\">,</span> WINDOW_FREERATIO<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 创建了一个新窗口，参数 1 表示名称，第二个参数代表一个自由的比例</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>\t<span class=\"token function\">imshow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"输入窗口\"</span><span class=\"token punctuation\">,</span> src<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 表示显示在新创建的输入窗口上，第一个参数表示窗口名称，src 表示数据对象 Mat </span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>\t<span class=\"token function\">waitKey</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 执行到这句，程序阻塞。参数表示延时时间。单位 ms</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>\t<span class=\"token function\">destroyAllWindows</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 销毁前面创建的显示窗口</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>\t<span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h2 id=\"小结\"><a class=\"anchor\" href=\"#小结\">#</a> <span class=\"label warning\">小结</span></h2>\n<p>第一节课介绍了如何读取第一张图片，并且显示出来，通过调用 imread 函数读取照片，再调用 imshow 显示图片到窗口。同时，讲述了如何打印灰度图像，图片读取失败的处理方式，代码注释详细介绍了每条语句的意思。</p>\n<hr />\n<h1 id=\"显示第一张图片-2\"><a class=\"anchor\" href=\"#显示第一张图片-2\">#</a> <span class=\"label primary\">显示第一张图片</span></h1>\n<p>1、色彩空间转换函数 cvtColor<br />\n2、图像的保存</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>C++ 实例</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre>#include<span class=\"token operator\">&lt;</span>opencv2<span class=\"token operator\">/</span>opencv<span class=\"token punctuation\">.</span>hpp<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>using namespace cv<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">QuickDemo</span>    <span class=\"token comment\">// 创建一个 QuickDemo 对象</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>\t<span class=\"token keyword\">public</span><span class=\"token operator\">:</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t\t<span class=\"token keyword\">void</span> <span class=\"token function\">colorSpace_Demo</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Mat</span> <span class=\"token operator\">&amp;</span>imge<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>    <span class=\"token comment\">// 定义一个类，里面包含输入一个图片，对图片操作</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>#include<span class=\"token generics\"><span class=\"token punctuation\">&lt;</span>quickopencv<span class=\"token punctuation\">.</span>h<span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">void</span> <span class=\"token class-name\">QuickDemo</span><span class=\"token operator\">::</span><span class=\"token function\">colorSpace_Demo</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Mat</span> <span class=\"token operator\">&amp;</span>image<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>\t<span class=\"token class-name\">Mat</span> gray<span class=\"token punctuation\">,</span> hsv<span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 定义 2 个矩阵类的图像 gray 和 hsv，</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>\t<span class=\"token function\">cvtColor</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span>hsv<span class=\"token punctuation\">,</span>COLOR_BGR2HSV<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 图像转换函数，可以把 image 转成 hsv，第三个参数是转成的类型</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>\t<span class=\"token function\">cvtColor</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span>gray<span class=\"token punctuation\">,</span>COLOR_BGR2GRAY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 图像转换函数，可以把 image 转成 hsv，第三个参数是转成的类型</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>\t<span class=\"token function\">imshow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"HSV\"</span><span class=\"token punctuation\">,</span>hsv<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>\t<span class=\"token function\">imshow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"灰度\"</span><span class=\"token punctuation\">,</span>gray<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>\t<span class=\"token function\">imwrite</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"D:/hsv.jpg\"</span><span class=\"token punctuation\">,</span>hsv<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 保存图片，前面是保存图的地址，后面是保存图的名称</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>\t<span class=\"token function\">imwrite</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"D:/gray.jpg\"</span><span class=\"token punctuation\">,</span>gray<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>#include<span class=\"token operator\">&lt;</span>opencv2<span class=\"token operator\">/</span>opencv<span class=\"token punctuation\">.</span>hpp<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>#include<span class=\"token generics\"><span class=\"token punctuation\">&lt;</span>iostream<span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>#include<span class=\"token generics\"><span class=\"token punctuation\">&lt;</span>quickopencv<span class=\"token punctuation\">.</span>h<span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>using namespace std<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>using namespace cv<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre><span class=\"token keyword\">int</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> </pre></td></tr><tr><td data-num=\"29\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>\t<span class=\"token class-name\">Mat</span> src <span class=\"token operator\">=</span> <span class=\"token function\">imread</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"D:/images/1.jpg\"</span><span class=\"token punctuation\">,</span>IMREAD_ANYCOLOR<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">//B,G,R 实际上 0-255 三色。3 通道</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>\t   <span class=\"token comment\">// 读取进来的数据以矩阵的形势，第二个参数代表显示一张灰度图像。</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>src<span class=\"token punctuation\">.</span><span class=\"token function\">empty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> </pre></td></tr><tr><td data-num=\"34\"></td><td><pre>\t<span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>\t\t<span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"could not load image\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 如果图片不存在 将无法读取，打印到终端。</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>\t\t<span class=\"token keyword\">return</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>\t   <span class=\"token comment\">// 超过屏幕的图像无法显示时候调用此函数。</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>\t</pre></td></tr><tr><td data-num=\"40\"></td><td><pre>\t<span class=\"token function\">namedWindow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"输入窗口\"</span><span class=\"token punctuation\">,</span> WINDOW_FREERATIO<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 创建了一个新窗口，参数 1 表示名称，第二个参数代表一个自由的比例</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>\t<span class=\"token function\">imshow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"输入窗口\"</span><span class=\"token punctuation\">,</span> src<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 表示显示在新创建的输入窗口上，第一个参数表示窗口名称，src 表示数据对象 Mat </span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>   <span class=\"token comment\">// 在主函数中调用之前创建的类对象\t</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>\t<span class=\"token class-name\">QuickDemo</span> qd<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>\tqd<span class=\"token punctuation\">.</span><span class=\"token function\">colorSpace_Demo</span><span class=\"token punctuation\">(</span>src<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>\t<span class=\"token function\">waitKey</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 执行到这句，程序阻塞。参数表示延时时间。单位 ms</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>\t<span class=\"token function\">destroyAllWindows</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 销毁前面创建的显示窗口</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>\t<span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h2 id=\"第二节课小结\"><a class=\"anchor\" href=\"#第二节课小结\">#</a> <span class=\"label primary\">第二节课小结</span></h2>\n<p>这节主要介绍了创建一个类对象，然后通过类对象调用函数，在 main 主函数中进行调用实现类对象中的功能，比如转换成 HSV 类型图片和 GRAY 类型图片，最后通过 imwrite 函数进行图像的保存。</p>\n<hr />\n<h1 id=\"图像对象的创建与赋值\"><a class=\"anchor\" href=\"#图像对象的创建与赋值\">#</a> <span class=\"label primary\">图像对象的创建与赋值</span></h1>\n<p>1、怎么操作 mat<br />\n2、怎么访问每一个像素点<br />\n 3、怎么创建一个空图或者 mat</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>C++ 实例</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">void</span> <span class=\"token class-name\">QuickDemo</span><span class=\"token operator\">::</span><span class=\"token function\">mat_creation_demo</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Mat</span> <span class=\"token operator\">&amp;</span>image<span class=\"token punctuation\">)</span> </pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t<span class=\"token class-name\">Mat</span> m1<span class=\"token punctuation\">,</span> m2<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\tm1 <span class=\"token operator\">=</span> image<span class=\"token punctuation\">.</span><span class=\"token function\">clone</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\timage<span class=\"token punctuation\">.</span><span class=\"token function\">copyTo</span><span class=\"token punctuation\">(</span>m2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t   <span class=\"token comment\">// 创建空白图像</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>\t<span class=\"token class-name\">Mat</span> m3 <span class=\"token operator\">=</span> <span class=\"token class-name\">Mat</span><span class=\"token operator\">::</span><span class=\"token function\">ones</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Size</span><span class=\"token punctuation\">(</span><span class=\"token number\">400</span><span class=\"token punctuation\">,</span> <span class=\"token number\">400</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> CV_8UC3<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 创建 8*8 的 CV8 位的无符号的 n 通道的 unsigned char</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>\t   <span class=\"token comment\">//ones&amp;zeros 是初始化的方法</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>\tm3 <span class=\"token operator\">=</span> <span class=\"token class-name\">Scalar</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 给三个通道都赋值 127  , 单通道赋值方法 m3 = 127;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>\t   <span class=\"token comment\">//m3 初始为蓝色</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>\t   <span class=\"token comment\">// 数据的宽度和长度是由通道数决定的。</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>\t   <span class=\"token comment\">//std::cout &lt;&lt; \"width:\"&lt;&lt;m3.cols&lt;&lt;\"height\"&lt;&lt; m3.rows &lt;&lt;\"channels\"&lt;&lt;m3.channels()&lt;&lt; std::endl;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>\t   <span class=\"token comment\">// 用来查看宽度，高度与通道数。</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>\t<span class=\"token comment\">/*std::cout &lt;&lt; m3 &lt;&lt; std::endl;*/</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>\t<span class=\"token class-name\">Mat</span> m4 <span class=\"token operator\">=</span> m3<span class=\"token punctuation\">.</span><span class=\"token function\">clone</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 赋值 M4 就是 M3 M4 改变了，M3 也改变了，没有产生新的自我 (M4 与 M3 同体)</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>\t   <span class=\"token comment\">//M4 为 M3 的克隆，M3 还是原来的颜色，不会改变。(M4 与 M3 不同体，各自是各自的颜色)</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>\t   <span class=\"token comment\">//m3.copyTo (m4);   // 把 M3 赋值给 M4，M4 就是蓝色</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>\tm4 <span class=\"token operator\">=</span> <span class=\"token class-name\">Scalar</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">255</span><span class=\"token punctuation\">,</span> <span class=\"token number\">255</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 改变 m4 的颜色为黄色，m4 也改变</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>\t<span class=\"token function\">imshow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"图像3\"</span><span class=\"token punctuation\">,</span> m3<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 标题和图像名称   显示图像 m3 纯蓝色</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>\t<span class=\"token function\">imshow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"图像4\"</span><span class=\"token punctuation\">,</span> m4<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 标题和图像名称</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h2 id=\"小结-2\"><a class=\"anchor\" href=\"#小结-2\">#</a> <span class=\"label warning\">小结</span></h2>\n<p>本节课介绍了如何创建一个 Mat 对象，通过创建新的 Mat 对象来创建用户的特定的底色画布，创建图像的基本类型有两种一种是 ones 一种是 zeros，ones () 中的第一个参数代表图像的大小，第二个参数代表创建几维的图像，UC 代表无符号字符型，数组 3 代表通道数。克隆和赋值的区别，克隆就是产生一个新的对象，新对象改变属性，旧对象属性不变（各自为政）。赋值是二者同体，当新属性发生改变，旧属性也发生改变（二者同体）。</p>\n<hr />\n<h1 id=\"图像像素的读写操作\"><a class=\"anchor\" href=\"#图像像素的读写操作\">#</a> <span class=\"label primary\">图像像素的读写操作</span></h1>\n<p>如何遍历和修改每个像素点的数值，分为单通道和多通道。访问模式模式也有两种。第一种是数组访问模式，用最常规的数组下标访问像素值。</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>C++ 实例</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">void</span> <span class=\"token class-name\">QuickDemo</span><span class=\"token operator\">::</span><span class=\"token function\">pixel_visit_demo</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Mat</span> <span class=\"token operator\">&amp;</span>image<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t<span class=\"token keyword\">int</span> dims <span class=\"token operator\">=</span> image<span class=\"token punctuation\">.</span><span class=\"token function\">channels</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t<span class=\"token keyword\">int</span> h <span class=\"token operator\">=</span> image<span class=\"token punctuation\">.</span>rows<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\t<span class=\"token keyword\">int</span> w <span class=\"token operator\">=</span> image<span class=\"token punctuation\">.</span>cols<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>\t<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> row <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> row <span class=\"token operator\">&lt;</span> h<span class=\"token punctuation\">;</span> row<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> </pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t<span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>\t\t<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> col <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> col <span class=\"token operator\">&lt;</span> w<span class=\"token punctuation\">;</span> col<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> </pre></td></tr><tr><td data-num=\"9\"></td><td><pre>\t\t<span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>\t\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>dims <span class=\"token operator\">==</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>    <span class=\"token comment\">// 单通道的灰度图像</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>\t\t\t<span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>\t\t\t\t<span class=\"token keyword\">int</span> pv <span class=\"token operator\">=</span> image<span class=\"token punctuation\">.</span>at<span class=\"token generics\"><span class=\"token punctuation\">&lt;</span>uchar<span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span>row<span class=\"token punctuation\">,</span> col<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 得到像素值</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>\t\t\t\timage<span class=\"token punctuation\">.</span>at<span class=\"token generics\"><span class=\"token punctuation\">&lt;</span>uchar<span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span>row<span class=\"token punctuation\">,</span> col<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token number\">255</span> <span class=\"token operator\">-</span> pv<span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 给像素值重新赋值</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>\t\t\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>\t\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>dims <span class=\"token operator\">==</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span>    <span class=\"token comment\">// 三通道的彩色图像</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>\t\t\t<span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>\t\t\t\t<span class=\"token class-name\">Vec3b</span> bgr <span class=\"token operator\">=</span> image<span class=\"token punctuation\">.</span>at<span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Vec3b</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span>row<span class=\"token punctuation\">,</span> col<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>    <span class=\"token comment\">//opencv 特定的类型，获取三维颜色，3 个值</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>\t\t\t\timage<span class=\"token punctuation\">.</span>at<span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Vec3b</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span>row<span class=\"token punctuation\">,</span> col<span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">255</span> <span class=\"token operator\">-</span> bgr<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>\t\t\t\timage<span class=\"token punctuation\">.</span>at<span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Vec3b</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span>row<span class=\"token punctuation\">,</span> col<span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">255</span> <span class=\"token operator\">-</span> bgr<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>\t\t\t\timage<span class=\"token punctuation\">.</span>at<span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Vec3b</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span>row<span class=\"token punctuation\">,</span> col<span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">255</span> <span class=\"token operator\">-</span> bgr<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 对彩色图像读取它的像素值，并且对像素值进行改写。</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>\t\t\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>\t\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>\t<span class=\"token function\">namedWindow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"像素读写演示\"</span><span class=\"token punctuation\">,</span> WINDOW_FREERATIO<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>\t<span class=\"token function\">imshow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"像素读写演示\"</span><span class=\"token punctuation\">,</span> image<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>第二种为指针访问模式，指定一个指针为图片的首地址，通过循环遍历，指针 ++，一次往后推.</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>C++ 实例</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">void</span> <span class=\"token class-name\">QuickDemo</span><span class=\"token operator\">::</span><span class=\"token function\">pixel_visit_demo</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Mat</span> <span class=\"token operator\">&amp;</span>image<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t<span class=\"token keyword\">int</span> dims <span class=\"token operator\">=</span> image<span class=\"token punctuation\">.</span><span class=\"token function\">channels</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t<span class=\"token keyword\">int</span> h <span class=\"token operator\">=</span> image<span class=\"token punctuation\">.</span>rows<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\t<span class=\"token keyword\">int</span> w <span class=\"token operator\">=</span> image<span class=\"token punctuation\">.</span>cols<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>\t<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> row <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> row <span class=\"token operator\">&lt;</span> h<span class=\"token punctuation\">;</span> row<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t<span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>\t\tuchar <span class=\"token operator\">*</span>current_row <span class=\"token operator\">=</span> image<span class=\"token punctuation\">.</span>ptr<span class=\"token generics\"><span class=\"token punctuation\">&lt;</span>uchar<span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span>row<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>\t\t<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> col <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> col <span class=\"token operator\">&lt;</span> w<span class=\"token punctuation\">;</span> col<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>\t\t<span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>\t\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>dims <span class=\"token operator\">==</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>    <span class=\"token comment\">// 单通道的灰度图像</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>\t\t\t<span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>\t\t\t\t<span class=\"token keyword\">int</span> pv <span class=\"token operator\">=</span> <span class=\"token operator\">*</span>current_row<span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 得到像素值</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>\t\t\t\t\t<span class=\"token operator\">*</span>current_row<span class=\"token operator\">++</span> <span class=\"token operator\">=</span> <span class=\"token number\">255</span> <span class=\"token operator\">-</span> pv<span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 给像素值重新赋值</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>\t\t\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>\t\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>dims <span class=\"token operator\">==</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span>    <span class=\"token comment\">// 三通道的彩色图像</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>\t\t\t<span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>\t\t\t\t<span class=\"token operator\">*</span>current_row<span class=\"token operator\">++</span> <span class=\"token operator\">=</span> <span class=\"token number\">255</span> <span class=\"token operator\">-</span> <span class=\"token operator\">*</span>current_row<span class=\"token punctuation\">;</span>    <span class=\"token comment\">// 指针每做一次运算，就向后移动一位</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>\t\t\t\t<span class=\"token operator\">*</span>current_row<span class=\"token operator\">++</span> <span class=\"token operator\">=</span> <span class=\"token number\">255</span> <span class=\"token operator\">-</span> <span class=\"token operator\">*</span>current_row<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>\t\t\t\t<span class=\"token operator\">*</span>current_row<span class=\"token operator\">++</span> <span class=\"token operator\">=</span> <span class=\"token number\">255</span> <span class=\"token operator\">-</span> <span class=\"token operator\">*</span>current_row<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>\t\t\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>\t\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>\t<span class=\"token function\">namedWindow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"像素读写演示\"</span><span class=\"token punctuation\">,</span> WINDOW_FREERATIO<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>\t<span class=\"token function\">imshow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"像素读写演示\"</span><span class=\"token punctuation\">,</span> image<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>\t</pre></td></tr><tr><td data-num=\"29\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h2 id=\"小结-3\"><a class=\"anchor\" href=\"#小结-3\">#</a> <span class=\"label warning\">小结</span></h2>\n<p>本节主要介绍了通过两种遍历的方式访问图像的像素值，并且改变图像的像素值。</p>\n<hr />\n<h1 id=\"图像像素的操作\"><a class=\"anchor\" href=\"#图像像素的操作\">#</a> <span class=\"label primary\">图像像素的操作</span></h1>\n<p>对图像的各个像素点实现加减乘除的操作。介绍了常用的除爆函数 saturate_cast，防止数值过界。</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>C++ 实例</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">void</span> <span class=\"token class-name\">QuickDemo</span><span class=\"token operator\">::</span><span class=\"token function\">operators_demo</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Mat</span> <span class=\"token operator\">&amp;</span>image<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t<span class=\"token class-name\">Mat</span> dst <span class=\"token operator\">=</span> <span class=\"token class-name\">Mat</span><span class=\"token operator\">::</span><span class=\"token function\">zeros</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> image<span class=\"token punctuation\">.</span><span class=\"token function\">type</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t<span class=\"token class-name\">Mat</span> m <span class=\"token operator\">=</span> <span class=\"token class-name\">Mat</span><span class=\"token operator\">::</span><span class=\"token function\">zeros</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> image<span class=\"token punctuation\">.</span><span class=\"token function\">type</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\tdst <span class=\"token operator\">=</span> image <span class=\"token operator\">-</span> <span class=\"token class-name\">Scalar</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>\tm <span class=\"token operator\">=</span> <span class=\"token class-name\">Scalar</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t<span class=\"token function\">multiply</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span>m<span class=\"token punctuation\">,</span>dst<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 乘法操作 api</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>\t<span class=\"token function\">imshow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"乘法操作\"</span><span class=\"token punctuation\">,</span> dst<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>\t<span class=\"token function\">add</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span> m<span class=\"token punctuation\">,</span> dst<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 加法操作 api</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>\t<span class=\"token function\">imshow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"加法操作\"</span><span class=\"token punctuation\">,</span> dst<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>\t<span class=\"token function\">subtract</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span> m<span class=\"token punctuation\">,</span> dst<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 减法操作 api</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>\t<span class=\"token function\">imshow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"减法操作\"</span><span class=\"token punctuation\">,</span> dst<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>\t<span class=\"token function\">divide</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span> m<span class=\"token punctuation\">,</span> dst<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 除法操作 api</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>\t<span class=\"token function\">namedWindow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"加法操作\"</span><span class=\"token punctuation\">,</span> WINDOW_FREERATIO<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>\t<span class=\"token function\">imshow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"加法操作\"</span><span class=\"token punctuation\">,</span> dst<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>\t   <span class=\"token comment\">// 加法操作底层</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>\t<span class=\"token keyword\">int</span> dims <span class=\"token operator\">=</span> image<span class=\"token punctuation\">.</span><span class=\"token function\">channels</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>\t<span class=\"token keyword\">int</span> h <span class=\"token operator\">=</span> image<span class=\"token punctuation\">.</span>rows<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>\t<span class=\"token keyword\">int</span> w <span class=\"token operator\">=</span> image<span class=\"token punctuation\">.</span>cols<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>\t<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> row <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> row <span class=\"token operator\">&lt;</span> h<span class=\"token punctuation\">;</span> row<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>\t<span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>\t\t<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> col <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> col <span class=\"token operator\">&lt;</span> w<span class=\"token punctuation\">;</span> col<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>\t\t<span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>\t\t\t\t<span class=\"token class-name\">Vec3b</span> p1 <span class=\"token operator\">=</span> image<span class=\"token punctuation\">.</span>at<span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Vec3b</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span>row<span class=\"token punctuation\">,</span> col<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>    <span class=\"token comment\">//opencv 特定的类型，获取三维颜色，3 个值</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>\t\t\t\t<span class=\"token class-name\">Vec3b</span> p2 <span class=\"token operator\">=</span> m<span class=\"token punctuation\">.</span>at<span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Vec3b</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span>row<span class=\"token punctuation\">,</span> col<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>\t\t\t\tdst<span class=\"token punctuation\">.</span>at<span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Vec3b</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span>row<span class=\"token punctuation\">,</span> col<span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> saturate_cast<span class=\"token generics\"><span class=\"token punctuation\">&lt;</span>uchar<span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span>p1<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\t<span class=\"token operator\">+</span> p2<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">//saturate_cast 用来防爆，小于 0 就是 0，大于 255 就是 255</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>\t\t\t\tdst<span class=\"token punctuation\">.</span>at<span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Vec3b</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span>row<span class=\"token punctuation\">,</span> col<span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> saturate_cast<span class=\"token generics\"><span class=\"token punctuation\">&lt;</span>uchar<span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span>p1<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> p2<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>\t\t\t\tdst<span class=\"token punctuation\">.</span>at<span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Vec3b</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span>row<span class=\"token punctuation\">,</span> col<span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> saturate_cast<span class=\"token generics\"><span class=\"token punctuation\">&lt;</span>uchar<span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span>p1<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> p2<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 对彩色图像读取它的像素值，并且对像素值进行改写。</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>\t\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>\t<span class=\"token function\">imshow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"加法操作\"</span><span class=\"token punctuation\">,</span> dst<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h2 id=\"小结-4\"><a class=\"anchor\" href=\"#小结-4\">#</a> <span class=\"label warning\">小结</span></h2>\n<p>介绍了四种不同的 API 实现，并且演示了一种加法的算法。</p>\n<hr />\n<h1 id=\"滚动条演示操作-调整图片亮度\"><a class=\"anchor\" href=\"#滚动条演示操作-调整图片亮度\">#</a> <span class=\"label primary\">滚动条演示操作 - 调整图片亮度</span></h1>\n<p>本节介绍怎么通过 createTrackbar 来设置一个进度条，实现图片的亮度调节。</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>C++ 实例</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token class-name\">Mat</span>  src<span class=\"token punctuation\">,</span> dst<span class=\"token punctuation\">,</span> m<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">int</span> lightness <span class=\"token operator\">=</span> <span class=\"token number\">50</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 定义初始的亮度为 50</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">on_track</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> <span class=\"token punctuation\">,</span><span class=\"token keyword\">void</span><span class=\"token operator\">*</span><span class=\"token punctuation\">)</span> </pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\tm <span class=\"token operator\">=</span> <span class=\"token class-name\">Scalar</span><span class=\"token punctuation\">(</span>lightness<span class=\"token punctuation\">,</span>lightness<span class=\"token punctuation\">,</span>lightness<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 创建调整亮度的数值</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>\t<span class=\"token function\">subtract</span><span class=\"token punctuation\">(</span>src<span class=\"token punctuation\">,</span> m<span class=\"token punctuation\">,</span> dst<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 定义亮度变化为减</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t<span class=\"token function\">imshow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"亮度调整\"</span><span class=\"token punctuation\">,</span> dst<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 显示调整亮度之后的图片</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">void</span> <span class=\"token class-name\">QuickDemo</span><span class=\"token operator\">::</span><span class=\"token function\">tracking_bar_demo</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Mat</span> <span class=\"token operator\">&amp;</span>image<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>\t<span class=\"token function\">namedWindow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"亮度调整\"</span><span class=\"token punctuation\">,</span>WINDOW_AUTOSIZE<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>\tdst <span class=\"token operator\">=</span> <span class=\"token class-name\">Mat</span><span class=\"token operator\">::</span><span class=\"token function\">zeros</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> image<span class=\"token punctuation\">.</span><span class=\"token function\">type</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 图片的初始化创建一个和 image 大小相等，种类相同的图像</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>\tm <span class=\"token operator\">=</span> <span class=\"token class-name\">Mat</span><span class=\"token operator\">::</span><span class=\"token function\">zeros</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> image<span class=\"token punctuation\">.</span><span class=\"token function\">type</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 图片的初始化创建一个和 image 大小相等，种类相同的图像</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>\tsrc <span class=\"token operator\">=</span> image<span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 给 src 赋值</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>\t<span class=\"token keyword\">int</span> max_value <span class=\"token operator\">=</span> <span class=\"token number\">100</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 定义最大值为 100</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>\t<span class=\"token function\">createTrackbar</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Value Bar:\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"亮度调整\"</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>lightness<span class=\"token punctuation\">,</span> max_value<span class=\"token punctuation\">,</span>on_track<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 调用函数实现功能。</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>\t<span class=\"token function\">on_track</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><hr />\n<h1 id=\"滚动条演示操作-传递参数\"><a class=\"anchor\" href=\"#滚动条演示操作-传递参数\">#</a> <span class=\"label primary\">滚动条演示操作 - 传递参数</span></h1>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>C++ 实例</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">on_lightness</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> b <span class=\"token punctuation\">,</span><span class=\"token keyword\">void</span><span class=\"token operator\">*</span> userdata<span class=\"token punctuation\">)</span> </pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t<span class=\"token class-name\">Mat</span> image <span class=\"token operator\">=</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Mat</span><span class=\"token operator\">*</span><span class=\"token punctuation\">)</span>userdata<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t<span class=\"token class-name\">Mat</span> dst <span class=\"token operator\">=</span> <span class=\"token class-name\">Mat</span><span class=\"token operator\">::</span><span class=\"token function\">zeros</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> image<span class=\"token punctuation\">.</span><span class=\"token function\">type</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\t<span class=\"token class-name\">Mat</span> m <span class=\"token operator\">=</span> <span class=\"token class-name\">Mat</span><span class=\"token operator\">::</span><span class=\"token function\">zeros</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> image<span class=\"token punctuation\">.</span><span class=\"token function\">type</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>\tm <span class=\"token operator\">=</span> <span class=\"token class-name\">Scalar</span><span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">,</span>b<span class=\"token punctuation\">,</span>b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t<span class=\"token function\">addWeighted</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span><span class=\"token number\">1.0</span><span class=\"token punctuation\">,</span>m<span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span>b<span class=\"token punctuation\">,</span>dst<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 融合两张图</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>\t<span class=\"token function\">imshow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"亮度&amp;对比度调整\"</span><span class=\"token punctuation\">,</span> dst<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">on_contrast</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> b<span class=\"token punctuation\">,</span> <span class=\"token keyword\">void</span><span class=\"token operator\">*</span> userdata<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>\t<span class=\"token class-name\">Mat</span> image <span class=\"token operator\">=</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Mat</span><span class=\"token operator\">*</span><span class=\"token punctuation\">)</span>userdata<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>\t<span class=\"token class-name\">Mat</span> dst <span class=\"token operator\">=</span> <span class=\"token class-name\">Mat</span><span class=\"token operator\">::</span><span class=\"token function\">zeros</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> image<span class=\"token punctuation\">.</span><span class=\"token function\">type</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>\t<span class=\"token class-name\">Mat</span> m <span class=\"token operator\">=</span> <span class=\"token class-name\">Mat</span><span class=\"token operator\">::</span><span class=\"token function\">zeros</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> image<span class=\"token punctuation\">.</span><span class=\"token function\">type</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>\t<span class=\"token keyword\">double</span> contrast <span class=\"token operator\">=</span> b <span class=\"token operator\">/</span> <span class=\"token number\">100.0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>\t<span class=\"token function\">addWeighted</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span> contrast<span class=\"token punctuation\">,</span> m<span class=\"token punctuation\">,</span> <span class=\"token number\">0.0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> dst<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 融合两张图</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>\t<span class=\"token function\">imshow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"亮度&amp;对比度调整\"</span><span class=\"token punctuation\">,</span> dst<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token keyword\">void</span> <span class=\"token class-name\">QuickDemo</span><span class=\"token operator\">::</span><span class=\"token function\">tracking_bar_demo</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Mat</span> <span class=\"token operator\">&amp;</span>image<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>\t<span class=\"token function\">namedWindow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"亮度&amp;对比度调整\"</span><span class=\"token punctuation\">,</span>WINDOW_AUTOSIZE<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>\t<span class=\"token keyword\">int</span> lightness <span class=\"token operator\">=</span> <span class=\"token number\">50</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>\t<span class=\"token keyword\">int</span> max_value <span class=\"token operator\">=</span> <span class=\"token number\">100</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>\t<span class=\"token keyword\">int</span> contrast_value <span class=\"token operator\">=</span> <span class=\"token number\">100</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>\t<span class=\"token function\">createTrackbar</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Value Bar:\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"亮度&amp;对比度调整\"</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>lightness<span class=\"token punctuation\">,</span> max_value<span class=\"token punctuation\">,</span> on_lightness<span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">void</span><span class=\"token operator\">*</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>image<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>\t<span class=\"token function\">createTrackbar</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Contrast Bar:\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"亮度&amp;对比度调整\"</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>contrast_value<span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span> on_contrast<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">void</span><span class=\"token operator\">*</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>image<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>\t<span class=\"token function\">on_lightness</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>image<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><hr />\n<h1 id=\"键盘响应操作\"><a class=\"anchor\" href=\"#键盘响应操作\">#</a> <span class=\"label primary\">键盘响应操作</span></h1>\n<p>本节介绍通过键盘输入，终端能够读取响应的信息。</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>C++ 实例</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">void</span> <span class=\"token class-name\">QuickDemo</span><span class=\"token operator\">::</span><span class=\"token function\">key_demo</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Mat</span> <span class=\"token operator\">&amp;</span>image<span class=\"token punctuation\">)</span> </pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t<span class=\"token class-name\">Mat</span> dst<span class=\"token operator\">=</span> <span class=\"token class-name\">Mat</span><span class=\"token operator\">::</span><span class=\"token function\">zeros</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> image<span class=\"token punctuation\">.</span><span class=\"token function\">type</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t<span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span> </pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\t<span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>\t\t<span class=\"token keyword\">char</span> c <span class=\"token operator\">=</span> <span class=\"token function\">waitKey</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 停顿 100ms 做视频处理都是 1</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>c <span class=\"token operator\">==</span> <span class=\"token number\">27</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>    <span class=\"token comment\">//esc 退出应用程序</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>\t\t\t<span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>\t\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>c <span class=\"token operator\">==</span> <span class=\"token number\">49</span><span class=\"token punctuation\">)</span>   <span class=\"token comment\">//key#1</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>\t\t<span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>\t\t\tstd<span class=\"token operator\">::</span><span class=\"token function\">cout</span> <span class=\"token operator\">&lt;&lt;</span><span class=\"token string\">\"you enter key #1\"</span> <span class=\"token operator\">&lt;&lt;</span> std<span class=\"token operator\">::</span><span class=\"token function\">endl</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>\t\t\t<span class=\"token function\">cvtColor</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span> dst<span class=\"token punctuation\">,</span> COLOR_BGR2GRAY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>\t\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>c <span class=\"token operator\">==</span> <span class=\"token number\">50</span><span class=\"token punctuation\">)</span>   <span class=\"token comment\">//key#1</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>\t\t<span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>\t\t\tstd<span class=\"token operator\">::</span><span class=\"token function\">cout</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"you enter key #2\"</span>  <span class=\"token operator\">&lt;&lt;</span> std<span class=\"token operator\">::</span><span class=\"token function\">endl</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>\t\t\t<span class=\"token function\">cvtColor</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span> dst<span class=\"token punctuation\">,</span> COLOR_BGR2HSV<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>\t\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>c <span class=\"token operator\">==</span> <span class=\"token number\">51</span><span class=\"token punctuation\">)</span>   <span class=\"token comment\">//key#1</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>\t\t<span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>\t\t\tstd<span class=\"token operator\">::</span><span class=\"token function\">cout</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"you enter key #3\"</span> <span class=\"token operator\">&lt;&lt;</span> std<span class=\"token operator\">::</span><span class=\"token function\">endl</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>\t\t\tdst <span class=\"token operator\">=</span> <span class=\"token class-name\">Scalar</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>\t\t\t<span class=\"token function\">add</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span>dst<span class=\"token punctuation\">,</span>dst<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>\t\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>\t\t<span class=\"token function\">imshow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"键盘响应\"</span><span class=\"token punctuation\">,</span>dst<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>\t\tstd<span class=\"token operator\">::</span><span class=\"token function\">cout</span> <span class=\"token operator\">&lt;&lt;</span> c <span class=\"token operator\">&lt;&lt;</span> std<span class=\"token operator\">::</span><span class=\"token function\">endl</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h2 id=\"小结-5\"><a class=\"anchor\" href=\"#小结-5\">#</a> <span class=\"label warning\">小结</span></h2>\n<p>通过键盘输入，在终端得到响应，输入不同的键值，得到不一样的结果。</p>\n<hr />\n<h1 id=\"opencv自带颜色操作\"><a class=\"anchor\" href=\"#opencv自带颜色操作\">#</a> <span class=\"label primary\">OpenCv 自带颜色操作</span></h1>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>C++ 实例</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">void</span> <span class=\"token class-name\">QuickDemo</span><span class=\"token operator\">::</span><span class=\"token function\">color_style_demo</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Mat</span> <span class=\"token operator\">&amp;</span>image<span class=\"token punctuation\">)</span> </pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t<span class=\"token keyword\">int</span> colormap<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t\tCOLORMAP_AUTUMN <span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\t\tCOLORMAP_BONE<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>\t\tCOLORMAP_CIVIDIS<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t\tCOLORMAP_DEEPGREEN<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>\t\tCOLORMAP_HOT<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>\t\tCOLORMAP_HSV<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>\t\tCOLORMAP_INFERNO<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>\t\tCOLORMAP_JET<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>\t\tCOLORMAP_MAGMA<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>\t\tCOLORMAP_OCEAN<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>\t\tCOLORMAP_PINK<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>\t\tCOLORMAP_PARULA<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>\t\tCOLORMAP_RAINBOW<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>\t\tCOLORMAP_SPRING<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>\t\tCOLORMAP_TWILIGHT<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>\t\tCOLORMAP_TURBO<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>\t\tCOLORMAP_TWILIGHT<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>\t\tCOLORMAP_VIRIDIS<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>\t\tCOLORMAP_TWILIGHT_SHIFTED<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>\t\tCOLORMAP_WINTER</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>\t<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>\t</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>\t<span class=\"token class-name\">Mat</span> dst<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>\t<span class=\"token keyword\">int</span> index <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>\t<span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span> </pre></td></tr><tr><td data-num=\"29\"></td><td><pre>\t<span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>\t\t<span class=\"token keyword\">char</span> c <span class=\"token operator\">=</span> <span class=\"token function\">waitKey</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 停顿 100ms 做视频处理都是 1</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>c <span class=\"token operator\">==</span> <span class=\"token number\">27</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>    <span class=\"token comment\">//esc 退出应用程序</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>\t\t\t<span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>\t\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>c <span class=\"token operator\">==</span> <span class=\"token number\">49</span><span class=\"token punctuation\">)</span>   <span class=\"token comment\">//key#1 按下按键 1 时，保存图片到指定位置</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>\t\t<span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>\t\t\tstd<span class=\"token operator\">::</span><span class=\"token function\">cout</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"you enter key #1\"</span> <span class=\"token operator\">&lt;&lt;</span> std<span class=\"token operator\">::</span><span class=\"token function\">endl</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>\t\t\t<span class=\"token function\">imwrite</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"D:/gray.jpg\"</span><span class=\"token punctuation\">,</span> dst<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>\t\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>\t\t<span class=\"token function\">applyColorMap</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span> dst<span class=\"token punctuation\">,</span> colormap<span class=\"token punctuation\">[</span>index<span class=\"token operator\">%</span><span class=\"token number\">19</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 循环展示 19 种图片</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>\t\tindex<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>\t\t<span class=\"token function\">imshow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"循环播放\"</span><span class=\"token punctuation\">,</span> dst<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><hr />\n<h1 id=\"图像像素的逻辑操作\"><a class=\"anchor\" href=\"#图像像素的逻辑操作\">#</a> <span class=\"label primary\">图像像素的逻辑操作</span></h1>\n<p>本节介绍如何对图像的像素进行操作，包括与、或、非、异或，矩形在图像中的绘制。</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>C++ 实例</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">void</span> <span class=\"token class-name\">QuickDemo</span><span class=\"token operator\">::</span><span class=\"token function\">bitwise_demo</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Mat</span> <span class=\"token operator\">&amp;</span>image<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t<span class=\"token class-name\">Mat</span> m1 <span class=\"token operator\">=</span> <span class=\"token class-name\">Mat</span><span class=\"token operator\">::</span><span class=\"token function\">zeros</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Size</span><span class=\"token punctuation\">(</span><span class=\"token number\">256</span><span class=\"token punctuation\">,</span><span class=\"token number\">256</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>CV_8UC3<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t<span class=\"token class-name\">Mat</span> m2 <span class=\"token operator\">=</span> <span class=\"token class-name\">Mat</span><span class=\"token operator\">::</span><span class=\"token function\">zeros</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Size</span><span class=\"token punctuation\">(</span><span class=\"token number\">256</span><span class=\"token punctuation\">,</span><span class=\"token number\">256</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>CV_8UC3<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\t<span class=\"token function\">rectangle</span><span class=\"token punctuation\">(</span>m1<span class=\"token punctuation\">,</span><span class=\"token class-name\">Rect</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span><span class=\"token number\">80</span><span class=\"token punctuation\">,</span><span class=\"token number\">80</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token class-name\">Scalar</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">,</span><span class=\"token number\">255</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span>LINE_8<span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 小于 0 表示填充，大于 0 表示绘制</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>\t<span class=\"token function\">rectangle</span><span class=\"token punctuation\">(</span>m2<span class=\"token punctuation\">,</span><span class=\"token class-name\">Rect</span><span class=\"token punctuation\">(</span><span class=\"token number\">150</span><span class=\"token punctuation\">,</span><span class=\"token number\">150</span><span class=\"token punctuation\">,</span><span class=\"token number\">80</span><span class=\"token punctuation\">,</span><span class=\"token number\">80</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Scalar</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">255</span><span class=\"token punctuation\">,</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> LINE_8<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t<span class=\"token function\">imshow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"m1\"</span><span class=\"token punctuation\">,</span> m1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>\t<span class=\"token function\">imshow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"m2\"</span><span class=\"token punctuation\">,</span> m2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>\t<span class=\"token class-name\">Mat</span> dst<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>\t<span class=\"token function\">bitwise_and</span><span class=\"token punctuation\">(</span>m1<span class=\"token punctuation\">,</span> m2<span class=\"token punctuation\">,</span> dst<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 位操作与</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>\t<span class=\"token function\">bitwise_or</span><span class=\"token punctuation\">(</span>m1<span class=\"token punctuation\">,</span> m2<span class=\"token punctuation\">,</span> dst<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 位操作或</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>\t<span class=\"token function\">bitwise_not</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span> dst<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 取反操作</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>\t<span class=\"token function\">bitwise_xor</span><span class=\"token punctuation\">(</span>m1<span class=\"token punctuation\">,</span> m2<span class=\"token punctuation\">,</span> dst<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 异或操作</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>\t<span class=\"token function\">imshow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"像素位操作\"</span><span class=\"token punctuation\">,</span> dst<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>rectangle(m1,Rect(100,100,80,80),Scalar(255,255,0),-1,LINE_8,0);<br />\n 这个函数参数 1 是图片名称，参数 2 是矩形的起始 &amp; 末尾位置，参数 3 Scalar 表示将要绘制图像的颜色，参数 4 表示小于 0 表示填充，大于 0 表示绘制，参数 5 表示四邻域或者八邻域的绘制，参数 6 表示中心坐标或者半径坐标的小数位数。</p>\n<hr />\n<h1 id=\"通道的分离与合并\"><a class=\"anchor\" href=\"#通道的分离与合并\">#</a> <span class=\"label primary\">通道的分离与合并</span></h1>\n<p>本节介绍如何把不同的通道给分离，归并，使得能显现出来不同的通道颜色。</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>C++ 实例</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">void</span> <span class=\"token class-name\">QuickDemo</span><span class=\"token operator\">::</span><span class=\"token function\">channels_demo</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Mat</span> <span class=\"token operator\">&amp;</span>image<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">&#123;</span>\t</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\tstd<span class=\"token operator\">::</span><span class=\"token function\">vector</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Mat</span><span class=\"token punctuation\">></span></span>mv<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t<span class=\"token function\">split</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span> mv<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\t   <span class=\"token comment\">//imshow (\"蓝色\", mv [0]);</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>\t   <span class=\"token comment\">//0,1,2 三个通道分别代表 BGR。</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t   <span class=\"token comment\">// 关闭 2 个通道意味着开启一个通道。</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>\t   <span class=\"token comment\">//imshow (\"绿色\", mv [1]);</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>\t   <span class=\"token comment\">//imshow (\"红色\", mv [2]);</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>\t<span class=\"token class-name\">Mat</span> dst<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>\tmv<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>\tmv<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>\t<span class=\"token function\">merge</span><span class=\"token punctuation\">(</span>mv<span class=\"token punctuation\">,</span> dst<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>\t<span class=\"token function\">imshow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"蓝色\"</span><span class=\"token punctuation\">,</span> dst<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>\t<span class=\"token keyword\">int</span> from_to<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>\t   <span class=\"token comment\">// 把通道相互交换，第 0-> 第 2，第一 -> 第一，第二 -> 第 0</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>\t<span class=\"token function\">mixChannels</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>image<span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token operator\">&amp;</span>dst<span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span>from_to<span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">//3 表示 3 个通道</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>\t   <span class=\"token comment\">// 参数 1 指针引用图像 -> 参数 2 引用到 dst</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>\t<span class=\"token function\">imshow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"通道混合\"</span><span class=\"token punctuation\">,</span> dst<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h2 id=\"小结-6\"><a class=\"anchor\" href=\"#小结-6\">#</a> <span class=\"label warning\">小结</span></h2>\n<p>M [0],M [1],M [2] 分别代表 BGR 个不同的通道。要开启某个通道只需要关闭另外的一个通道即可。<br />\n第二个内容为通道的合并，将不同通道的像素值进行转换操作，使图片呈现出不同的效果。</p>\n<hr />\n<h1 id=\"图像色彩空间转换\"><a class=\"anchor\" href=\"#图像色彩空间转换\">#</a> <span class=\"label primary\">图像色彩空间转换</span></h1>\n<p>本节内容实现任务是提取任务的轮廓，首先把 RGB 色彩空间的图片转换到 HSV 空间中，其次，提取图片的 mask，通过使用 inrangle 提取 hsv 色彩空间的颜色。</p>\n<p>HSV 色彩空间的颜色</p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/Miscellaneous@main/opencv/hsv.png\" alt=\"在这里插入图片描述\" /></p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>C++ 实例</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">void</span> <span class=\"token class-name\">QuickDemo</span><span class=\"token operator\">::</span><span class=\"token function\">inrange_demo</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Mat</span> <span class=\"token operator\">&amp;</span>image<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t<span class=\"token class-name\">Mat</span> hsv<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t<span class=\"token function\">cvtColor</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span> hsv<span class=\"token punctuation\">,</span> COLOR_BGR2HSV<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\t<span class=\"token class-name\">Mat</span> mask<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>\t<span class=\"token function\">inRange</span><span class=\"token punctuation\">(</span>hsv<span class=\"token punctuation\">,</span><span class=\"token class-name\">Scalar</span><span class=\"token punctuation\">(</span><span class=\"token number\">35</span><span class=\"token punctuation\">,</span><span class=\"token number\">43</span><span class=\"token punctuation\">,</span><span class=\"token number\">46</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token class-name\">Scalar</span><span class=\"token punctuation\">(</span><span class=\"token number\">77</span><span class=\"token punctuation\">,</span><span class=\"token number\">255</span><span class=\"token punctuation\">,</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>mask<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t   <span class=\"token comment\">//35,43,46 根据图片中绿色最低来确定最小值。</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>\t   <span class=\"token comment\">//77,255,255 提取</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>\t   <span class=\"token comment\">// 参数 1 低范围，参数 2 高范围</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>\t   <span class=\"token comment\">// 将 hsv 中的由低到高的像素点提取出来并且存储到 mask 当中。</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>\t<span class=\"token function\">imshow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"mask\"</span><span class=\"token punctuation\">,</span>hsv<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>\t<span class=\"token class-name\">Mat</span> redback <span class=\"token operator\">=</span> <span class=\"token class-name\">Mat</span><span class=\"token operator\">::</span><span class=\"token function\">zeros</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> image<span class=\"token punctuation\">.</span><span class=\"token function\">type</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>\tredback <span class=\"token operator\">=</span> <span class=\"token class-name\">Scalar</span><span class=\"token punctuation\">(</span><span class=\"token number\">40</span><span class=\"token punctuation\">,</span> <span class=\"token number\">40</span><span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>\t<span class=\"token function\">bitwise_not</span><span class=\"token punctuation\">(</span>mask<span class=\"token punctuation\">,</span> mask<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>\t<span class=\"token function\">imshow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"mask\"</span><span class=\"token punctuation\">,</span> mask<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>\timage<span class=\"token punctuation\">.</span><span class=\"token function\">copyTo</span><span class=\"token punctuation\">(</span>redback<span class=\"token punctuation\">,</span> mask<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 把 redback 复制到 mask，mask 通过 inRange 得到。</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>\t<span class=\"token function\">imshow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"roi提取\"</span><span class=\"token punctuation\">,</span> hsv<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><hr />\n<h1 id=\"图像像素值统计\"><a class=\"anchor\" href=\"#图像像素值统计\">#</a> <span class=\"label primary\">图像像素值统计</span></h1>\n<p>分别定义双精度型变量 minv 和 maxv。指针变量 minLoc，maxLoc；<br />\n因为这图片是多通道的，所以使用一个容器装取数值，并且用 split 分离图片到 MV 中<br />\n通过 for 循环操作，遍历图片信息，并且打印信息到终端。图像信息包括，方差，均值，大小。</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>C++ 实例</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">void</span> <span class=\"token class-name\">QuickDemo</span><span class=\"token operator\">::</span><span class=\"token function\">pixel_statistic_demo</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Mat</span> <span class=\"token operator\">&amp;</span>image<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t<span class=\"token keyword\">double</span> minv<span class=\"token punctuation\">,</span> maxv<span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 定义最值</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t<span class=\"token class-name\">Point</span> minLoc<span class=\"token punctuation\">,</span> maxLoc<span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 定义最值地址</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\tstd<span class=\"token operator\">::</span><span class=\"token function\">vector</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Mat</span><span class=\"token punctuation\">></span></span>mv<span class=\"token punctuation\">;</span>   <span class=\"token comment\">//mv 是一个 Mat 类型的容器 装在这个容器内</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>\t<span class=\"token function\">split</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span> mv<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> mv<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> </pre></td></tr><tr><td data-num=\"8\"></td><td><pre>\t<span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>\t\t   <span class=\"token comment\">// 分别打印各个通道的数值</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>\t\t<span class=\"token function\">minMaxLoc</span><span class=\"token punctuation\">(</span>mv<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>minv<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>maxv<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>minLoc<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>maxLoc<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Mat</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 求出图像的最大值和最小值。</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>\t\tstd<span class=\"token operator\">::</span><span class=\"token function\">cout</span> <span class=\"token operator\">&lt;&lt;</span><span class=\"token string\">\"No.channels:\"</span><span class=\"token operator\">&lt;&lt;</span>i<span class=\"token operator\">&lt;&lt;</span><span class=\"token string\">\"minvalue:\"</span> <span class=\"token operator\">&lt;&lt;</span> minv <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"maxvalue:\"</span> <span class=\"token operator\">&lt;&lt;</span> maxv <span class=\"token operator\">&lt;&lt;</span> std<span class=\"token operator\">::</span><span class=\"token function\">endl</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>\t<span class=\"token class-name\">Mat</span> mean<span class=\"token punctuation\">,</span> stddev<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>\t<span class=\"token function\">meanStdDev</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span> mean<span class=\"token punctuation\">,</span> stddev<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 求出图像的均值和方差</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>\tstd<span class=\"token operator\">::</span><span class=\"token function\">cout</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"mean:\"</span> <span class=\"token operator\">&lt;&lt;</span> mean <span class=\"token operator\">&lt;&lt;</span> std<span class=\"token operator\">::</span><span class=\"token function\">endl</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>\tstd<span class=\"token operator\">::</span><span class=\"token function\">cout</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"stddev:\"</span> <span class=\"token operator\">&lt;&lt;</span> stddev <span class=\"token operator\">&lt;&lt;</span> std<span class=\"token operator\">::</span><span class=\"token function\">endl</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><hr />\n<h1 id=\"图像几何形状的绘制\"><a class=\"anchor\" href=\"#图像几何形状的绘制\">#</a> <span class=\"label primary\">图像几何形状的绘制</span></h1>\n<p>本节课介绍如何绘制椭圆，矩形，直线，圆等</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>C++ 实例</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">void</span> <span class=\"token class-name\">QuickDemo</span><span class=\"token operator\">::</span><span class=\"token function\">drawing_demo</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Mat</span> <span class=\"token operator\">&amp;</span>image<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t<span class=\"token class-name\">Rect</span> rect<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\trect<span class=\"token punctuation\">.</span>x <span class=\"token operator\">=</span> <span class=\"token number\">200</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\trect<span class=\"token punctuation\">.</span>y <span class=\"token operator\">=</span> <span class=\"token number\">200</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>\trect<span class=\"token punctuation\">.</span>width <span class=\"token operator\">=</span> <span class=\"token number\">100</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\trect<span class=\"token punctuation\">.</span>height <span class=\"token operator\">=</span> <span class=\"token number\">100</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>\t<span class=\"token class-name\">Mat</span> bg <span class=\"token operator\">=</span> <span class=\"token class-name\">Mat</span><span class=\"token operator\">::</span><span class=\"token function\">zeros</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>image<span class=\"token punctuation\">.</span><span class=\"token function\">type</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>\t<span class=\"token function\">rectangle</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span> rect<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Scalar</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">255</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>\t   <span class=\"token comment\">// 参数 1 为绘图的底图或者画布名称，参数 2 位图片的起始，宽度，高度</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>\t   <span class=\"token comment\">// 参数 3 代表填充颜色。参数 4 大于 0 是线小于 0 是填充</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>\t   <span class=\"token comment\">// 参数 5 表示邻域填充，参数 6 默认值为 0</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>\t<span class=\"token function\">circle</span><span class=\"token punctuation\">(</span>bg<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Point</span><span class=\"token punctuation\">(</span><span class=\"token number\">350</span><span class=\"token punctuation\">,</span> <span class=\"token number\">400</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">15</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Scalar</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">255</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> LINE_AA<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>\t   <span class=\"token comment\">// 参数 2 位图片中心位置，参数 3 为半径为 15 的圆</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>\t<span class=\"token class-name\">Mat</span> dst<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>\t   <span class=\"token comment\">//addWeighted(image, 0.7, bg, 0.3, 0, dst);</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>\t<span class=\"token class-name\">RotatedRect</span> rtt<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>\trtt<span class=\"token punctuation\">.</span>center <span class=\"token operator\">=</span> <span class=\"token class-name\">Point</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>\trtt<span class=\"token punctuation\">.</span>size <span class=\"token operator\">=</span> <span class=\"token class-name\">Size</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>\trtt<span class=\"token punctuation\">.</span>angle <span class=\"token operator\">=</span> <span class=\"token number\">0.0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>\t<span class=\"token function\">line</span><span class=\"token punctuation\">(</span>bg<span class=\"token punctuation\">,</span><span class=\"token class-name\">Point</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token class-name\">Point</span><span class=\"token punctuation\">(</span><span class=\"token number\">350</span><span class=\"token punctuation\">,</span><span class=\"token number\">400</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Scalar</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">255</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span> LINE_AA<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">//line_AA 表示去掉锯齿</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>\t<span class=\"token function\">ellipse</span><span class=\"token punctuation\">(</span>bg<span class=\"token punctuation\">,</span>rtt<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Scalar</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">255</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>\t<span class=\"token function\">imshow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"矩形的绘制\"</span><span class=\"token punctuation\">,</span>bg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><hr />\n<h1 id=\"随机数与随机颜色\"><a class=\"anchor\" href=\"#随机数与随机颜色\">#</a> <span class=\"label primary\">随机数与随机颜色</span></h1>\n<p>本节主要介绍如何能产生一个随机数字和随机颜色，并且用线条的方式显示出来。</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>C++ 实例</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">void</span> <span class=\"token class-name\">QuickDemo</span><span class=\"token operator\">::</span><span class=\"token function\">random_drawing</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t<span class=\"token class-name\">Mat</span> canvas <span class=\"token operator\">=</span> <span class=\"token class-name\">Mat</span><span class=\"token operator\">::</span><span class=\"token function\">zeros</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Size</span><span class=\"token punctuation\">(</span><span class=\"token number\">512</span><span class=\"token punctuation\">,</span><span class=\"token number\">512</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> CV_8UC3<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t<span class=\"token keyword\">int</span> w <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span>cols<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\t<span class=\"token keyword\">int</span> h <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span>rows<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>\t<span class=\"token class-name\">RNG</span> <span class=\"token function\">rng</span><span class=\"token punctuation\">(</span><span class=\"token number\">12345</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t<span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span> </pre></td></tr><tr><td data-num=\"8\"></td><td><pre>\t<span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>\t\t<span class=\"token keyword\">int</span> c <span class=\"token operator\">=</span> <span class=\"token function\">waitKey</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>c <span class=\"token operator\">==</span> <span class=\"token number\">27</span><span class=\"token punctuation\">)</span> </pre></td></tr><tr><td data-num=\"11\"></td><td><pre>\t\t<span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>\t\t\t<span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>\t\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>\t\t<span class=\"token keyword\">int</span> x1 <span class=\"token operator\">=</span> rng<span class=\"token punctuation\">.</span><span class=\"token function\">uniform</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span>canvas<span class=\"token punctuation\">.</span>cols<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>\t\t<span class=\"token keyword\">int</span> y1 <span class=\"token operator\">=</span> rng<span class=\"token punctuation\">.</span><span class=\"token function\">uniform</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> h<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>\t\t<span class=\"token keyword\">int</span> x2 <span class=\"token operator\">=</span> rng<span class=\"token punctuation\">.</span><span class=\"token function\">uniform</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> canvas<span class=\"token punctuation\">.</span>cols<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>\t\t<span class=\"token keyword\">int</span> y2 <span class=\"token operator\">=</span> rng<span class=\"token punctuation\">.</span><span class=\"token function\">uniform</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> h<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>\t\t<span class=\"token keyword\">int</span> b  <span class=\"token operator\">=</span> rng<span class=\"token punctuation\">.</span><span class=\"token function\">uniform</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">255</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>\t\t<span class=\"token keyword\">int</span> g  <span class=\"token operator\">=</span> rng<span class=\"token punctuation\">.</span><span class=\"token function\">uniform</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">255</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>\t\t<span class=\"token keyword\">int</span> r  <span class=\"token operator\">=</span> rng<span class=\"token punctuation\">.</span><span class=\"token function\">uniform</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">255</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>\t\tcanvas <span class=\"token operator\">=</span> <span class=\"token class-name\">Scalar</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>\t\t<span class=\"token function\">line</span><span class=\"token punctuation\">(</span>canvas<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Point</span><span class=\"token punctuation\">(</span>x1<span class=\"token punctuation\">,</span> y1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Point</span><span class=\"token punctuation\">(</span>x2<span class=\"token punctuation\">,</span> y2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Scalar</span><span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">,</span>g<span class=\"token punctuation\">,</span>r<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span> LINE_AA<span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">//line_AA 表示去掉锯齿\t</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>\t\t<span class=\"token function\">imshow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"随机绘制演示\"</span><span class=\"token punctuation\">,</span> canvas<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><hr />\n<h1 id=\"多边形填充与绘制\"><a class=\"anchor\" href=\"#多边形填充与绘制\">#</a> <span class=\"label primary\">多边形填充与绘制</span></h1>\n<p>这节课介绍了 2 种多边形绘制的实现方式。</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>C++ 实例</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">void</span> <span class=\"token class-name\">QuickDemo</span><span class=\"token operator\">::</span><span class=\"token function\">polyline_drawing_demo</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Mat</span> <span class=\"token operator\">&amp;</span>image<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t<span class=\"token class-name\">Mat</span> canvas <span class=\"token operator\">=</span> <span class=\"token class-name\">Mat</span><span class=\"token operator\">::</span><span class=\"token function\">zeros</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Size</span><span class=\"token punctuation\">(</span><span class=\"token number\">512</span><span class=\"token punctuation\">,</span> <span class=\"token number\">512</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> CV_8UC3<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t<span class=\"token class-name\">Point</span> <span class=\"token function\">p1</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\t<span class=\"token class-name\">Point</span> <span class=\"token function\">p2</span><span class=\"token punctuation\">(</span><span class=\"token number\">350</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>\t<span class=\"token class-name\">Point</span> <span class=\"token function\">p3</span><span class=\"token punctuation\">(</span><span class=\"token number\">450</span><span class=\"token punctuation\">,</span> <span class=\"token number\">280</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t<span class=\"token class-name\">Point</span> <span class=\"token function\">p4</span><span class=\"token punctuation\">(</span><span class=\"token number\">320</span><span class=\"token punctuation\">,</span> <span class=\"token number\">450</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>\t<span class=\"token class-name\">Point</span> <span class=\"token function\">p5</span><span class=\"token punctuation\">(</span><span class=\"token number\">80</span><span class=\"token punctuation\">,</span> <span class=\"token number\">400</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>\tstd<span class=\"token operator\">::</span><span class=\"token function\">vector</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Point</span><span class=\"token punctuation\">></span></span>pts<span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 将 5 个点装入一个容器内。</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>\tpts<span class=\"token punctuation\">.</span><span class=\"token function\">push_back</span><span class=\"token punctuation\">(</span>p1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 未初始化数组容量，只能用 pushback 操作</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>\t\t\t\t\t     <span class=\"token comment\">// 如果初始化，可以用数组下标操作。</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>\tpts<span class=\"token punctuation\">.</span><span class=\"token function\">push_back</span><span class=\"token punctuation\">(</span>p2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>\tpts<span class=\"token punctuation\">.</span><span class=\"token function\">push_back</span><span class=\"token punctuation\">(</span>p3<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>\tpts<span class=\"token punctuation\">.</span><span class=\"token function\">push_back</span><span class=\"token punctuation\">(</span>p4<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>\tpts<span class=\"token punctuation\">.</span><span class=\"token function\">push_back</span><span class=\"token punctuation\">(</span>p5<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>\t   <span class=\"token comment\">//fillPoly (canvas, pts, Scalar (122, 155, 255), 8, 0);   // 填充多边形</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>\t   <span class=\"token comment\">//polylines (canvas, pts, true, Scalar (0, 0, 255), 2, 8, 0);   // 绘制多边形</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>\t<span class=\"token comment\">/*</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>\t参数 1 表示画布，参数 2 表示点集，参数 3 表示 true，参数 4 颜色</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>\t参数 5 表示线宽，参数 6 表示渲染方式，参数 7 表示相对左上角（0,0）的位置</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>\t*/</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>\t   <span class=\"token comment\">// 单个 API 搞定图片的绘制填充</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>\tstd<span class=\"token operator\">::</span><span class=\"token function\">vector</span><span class=\"token operator\">&lt;</span>std<span class=\"token operator\">::</span><span class=\"token function\">vector</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Point</span><span class=\"token punctuation\">></span></span><span class=\"token operator\">></span>contours<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>\tcontours<span class=\"token punctuation\">.</span><span class=\"token function\">push_back</span><span class=\"token punctuation\">(</span>pts<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>\t<span class=\"token function\">drawContours</span><span class=\"token punctuation\">(</span>canvas<span class=\"token punctuation\">,</span>contours<span class=\"token punctuation\">,</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Scalar</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">255</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>\t   <span class=\"token comment\">// 参数 2 表示容器名称，参数 3 为正表示多边形的绘制，为负表示多边形的填充</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>\t<span class=\"token function\">imshow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"多边形绘制\"</span><span class=\"token punctuation\">,</span> canvas<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h2 id=\"小结-7\"><a class=\"anchor\" href=\"#小结-7\">#</a> <span class=\"label warning\">小结</span></h2>\n<p>第一种方式，通过标记各个点，然后存储到容器中，之后对容器中的点进行操作。填充多边形调用 fillPoly，绘制多边形调用 polylines。第二种方式，使用一个 API 接口绘制。通过一个容器中的存储的点组成的另一个容器。</p>\n<hr />\n<h1 id=\"鼠标操作与响应\"><a class=\"anchor\" href=\"#鼠标操作与响应\">#</a> <span class=\"label primary\">鼠标操作与响应</span></h1>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>C++ 实例</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// 参数 1 表示鼠标事件。</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token class-name\">Point</span> <span class=\"token function\">sp</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 鼠标的开始的位置</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token class-name\">Point</span> <span class=\"token function\">ep</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token class-name\">Mat</span> temp<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">on_draw</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> event<span class=\"token punctuation\">,</span><span class=\"token keyword\">int</span> x<span class=\"token punctuation\">,</span><span class=\"token keyword\">int</span> y<span class=\"token punctuation\">,</span><span class=\"token keyword\">int</span> flags<span class=\"token punctuation\">,</span><span class=\"token keyword\">void</span> <span class=\"token operator\">*</span>userdata<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t<span class=\"token class-name\">Mat</span> image <span class=\"token operator\">=</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Mat</span><span class=\"token operator\">*</span><span class=\"token punctuation\">)</span>userdata<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>\t<span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>event <span class=\"token operator\">==</span> EVENT_LBUTTONDOWN<span class=\"token punctuation\">)</span>   <span class=\"token comment\">// 如果鼠标的左键按下</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>\t<span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>\t\tsp<span class=\"token punctuation\">.</span>x <span class=\"token operator\">=</span> x<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>\t\tsp<span class=\"token punctuation\">.</span>y <span class=\"token operator\">=</span> y<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>\t\tstd<span class=\"token operator\">::</span><span class=\"token function\">cout</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"start point\"</span> <span class=\"token operator\">&lt;&lt;</span>sp<span class=\"token operator\">&lt;&lt;</span> std<span class=\"token operator\">::</span><span class=\"token function\">endl</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>\t<span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>event <span class=\"token operator\">==</span> EVENT_LBUTTONUP<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>\t<span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>\t\tep<span class=\"token punctuation\">.</span>x <span class=\"token operator\">=</span> x<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>\t\tep<span class=\"token punctuation\">.</span>y <span class=\"token operator\">=</span> y<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>\t\t<span class=\"token keyword\">int</span> dx <span class=\"token operator\">=</span> ep<span class=\"token punctuation\">.</span>x <span class=\"token operator\">-</span> sp<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>\t\t<span class=\"token keyword\">int</span> dy <span class=\"token operator\">=</span> ep<span class=\"token punctuation\">.</span>y <span class=\"token operator\">-</span> sp<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>dx <span class=\"token operator\">></span> <span class=\"token number\">0</span> <span class=\"token operator\">&amp;&amp;</span> dy <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> </pre></td></tr><tr><td data-num=\"21\"></td><td><pre>\t\t<span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>\t\t\t<span class=\"token class-name\">Rect</span> <span class=\"token function\">box</span><span class=\"token punctuation\">(</span>sp<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">,</span> sp<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">,</span> dx<span class=\"token punctuation\">,</span> dy<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>\t\t\t<span class=\"token function\">imshow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ROI区域\"</span><span class=\"token punctuation\">,</span> <span class=\"token function\">image</span><span class=\"token punctuation\">(</span>box<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>\t\t\t<span class=\"token function\">rectangle</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span> box<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Scalar</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">255</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>\t\t\t<span class=\"token function\">imshow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"鼠标绘制\"</span><span class=\"token punctuation\">,</span> image<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>\t\t\tsp<span class=\"token punctuation\">.</span>x <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>\t\t\tsp<span class=\"token punctuation\">.</span>y <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 复位，为下一次做准备</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>\t\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>\t<span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>event <span class=\"token operator\">==</span> EVENT_MOUSEMOVE<span class=\"token punctuation\">)</span> </pre></td></tr><tr><td data-num=\"31\"></td><td><pre>\t<span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>sp<span class=\"token punctuation\">.</span>x <span class=\"token operator\">></span> <span class=\"token number\">0</span> <span class=\"token operator\">&amp;&amp;</span> sp<span class=\"token punctuation\">.</span>y <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>\t\t<span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>\t\t\tep<span class=\"token punctuation\">.</span>x <span class=\"token operator\">=</span> x<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>\t\t\tep<span class=\"token punctuation\">.</span>y <span class=\"token operator\">=</span> y<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>\t\t\t<span class=\"token keyword\">int</span> dx <span class=\"token operator\">=</span> ep<span class=\"token punctuation\">.</span>x <span class=\"token operator\">-</span> sp<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>\t\t\t<span class=\"token keyword\">int</span> dy <span class=\"token operator\">=</span> ep<span class=\"token punctuation\">.</span>y <span class=\"token operator\">-</span> sp<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>\t\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>dx <span class=\"token operator\">></span> <span class=\"token number\">0</span> <span class=\"token operator\">&amp;&amp;</span> dy <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>\t\t\t<span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>\t\t\t\t<span class=\"token class-name\">Rect</span> <span class=\"token function\">box</span><span class=\"token punctuation\">(</span>sp<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">,</span> sp<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">,</span> dx<span class=\"token punctuation\">,</span> dy<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>\t\t\t\ttemp<span class=\"token punctuation\">.</span><span class=\"token function\">copyTo</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>\t\t\t\t<span class=\"token function\">rectangle</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span> box<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Scalar</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">255</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>\t\t\t\t<span class=\"token function\">imshow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"鼠标绘制\"</span><span class=\"token punctuation\">,</span> image<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>\t\t\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>\t\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre><span class=\"token keyword\">void</span> <span class=\"token class-name\">QuickDemo</span><span class=\"token operator\">::</span><span class=\"token function\">mouse_drawing_demo</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Mat</span> <span class=\"token operator\">&amp;</span>image<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>\t<span class=\"token function\">namedWindow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"鼠标绘制\"</span><span class=\"token punctuation\">,</span> WINDOW_AUTOSIZE<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>\t<span class=\"token function\">setMouseCallback</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"鼠标绘制\"</span><span class=\"token punctuation\">,</span> on_draw<span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">void</span><span class=\"token operator\">*</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>image<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>\t   <span class=\"token comment\">// 设置窗口的回调函数。参数 1 表示名称，参数 2 表示调用 on_draw</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>\t<span class=\"token function\">imshow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"鼠标绘制\"</span><span class=\"token punctuation\">,</span> image<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>\ttemp <span class=\"token operator\">=</span> image<span class=\"token punctuation\">.</span><span class=\"token function\">clone</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><hr />\n<h1 id=\"图像像素类型的转换与归一化\"><a class=\"anchor\" href=\"#图像像素类型的转换与归一化\">#</a> <span class=\"label primary\">图像像素类型的转换与归一化</span></h1>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>C++ 实例</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">void</span> <span class=\"token class-name\">QuickDemo</span><span class=\"token operator\">::</span><span class=\"token function\">norm_demo</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Mat</span> <span class=\"token operator\">&amp;</span>image<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t<span class=\"token class-name\">Mat</span> dst<span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 定义一个名为 dst 的二值化类型的数据</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\tstd<span class=\"token operator\">::</span><span class=\"token function\">cout</span> <span class=\"token operator\">&lt;&lt;</span> image<span class=\"token punctuation\">.</span><span class=\"token function\">type</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;&lt;</span> std<span class=\"token operator\">::</span><span class=\"token function\">endl</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 打印出来图片的类型</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\timage<span class=\"token punctuation\">.</span><span class=\"token function\">convertTo</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span>CV_32F<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 将 dst 数据转换成浮点型 float32 位数据。</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>\tstd<span class=\"token operator\">::</span><span class=\"token function\">cout</span> <span class=\"token operator\">&lt;&lt;</span> image<span class=\"token punctuation\">.</span><span class=\"token function\">type</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;&lt;</span> std<span class=\"token operator\">::</span><span class=\"token function\">endl</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 再次打印转换后的数据类型</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t<span class=\"token function\">normalize</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span> dst<span class=\"token punctuation\">,</span> <span class=\"token number\">1.0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> NORM_MINMAX<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 进行归一化操作</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>\tstd<span class=\"token operator\">::</span><span class=\"token function\">cout</span> <span class=\"token operator\">&lt;&lt;</span> dst<span class=\"token punctuation\">.</span><span class=\"token function\">type</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;&lt;</span> std<span class=\"token operator\">::</span><span class=\"token function\">endl</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 打印归一化操作之后的数据</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>\t<span class=\"token function\">imshow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"图像的归一化\"</span><span class=\"token punctuation\">,</span> dst<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 显示归一化的图像</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>\t   <span class=\"token comment\">//CV_8UC3 ,CV_32FC3     //3 通道每个通道 8 位的 UC 类型</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>\t   <span class=\"token comment\">// 转换后 3 通道 每个通道 32 位的浮点数</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><hr />\n<h1 id=\"图像的放缩与差值\"><a class=\"anchor\" href=\"#图像的放缩与差值\">#</a> <span class=\"label primary\">图像的放缩与差值</span></h1>\n<p>介绍基本的图像变换大小的方法。图像的差值处理主要有线性、双线性差值、卢卡斯差值、双立方差值。</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>C++ 实例</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">void</span> <span class=\"token class-name\">QuickDemo</span><span class=\"token operator\">::</span><span class=\"token function\">resize_demo</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Mat</span> <span class=\"token operator\">&amp;</span>image<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t<span class=\"token class-name\">Mat</span> zoomin<span class=\"token punctuation\">,</span> zoomout<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t<span class=\"token keyword\">int</span> h <span class=\"token operator\">=</span> image<span class=\"token punctuation\">.</span>rows<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\t<span class=\"token keyword\">int</span> w <span class=\"token operator\">=</span> image<span class=\"token punctuation\">.</span>cols<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>\t<span class=\"token function\">resize</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span> zoomin<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Size</span><span class=\"token punctuation\">(</span>w<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> h<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span>INTER_LINEAR<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t   <span class=\"token comment\">// 线性差值操作。</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>\t<span class=\"token function\">imshow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"zoomin\"</span><span class=\"token punctuation\">,</span> zoomin<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token punctuation\">;</span> </pre></td></tr><tr><td data-num=\"9\"></td><td><pre>\t<span class=\"token function\">resize</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span> zoomout<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Size</span><span class=\"token punctuation\">(</span>w<span class=\"token operator\">*</span><span class=\"token number\">1.5</span><span class=\"token punctuation\">,</span> h<span class=\"token operator\">*</span><span class=\"token number\">1.5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> INTER_LINEAR<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>\t<span class=\"token function\">imshow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"zoomin\"</span><span class=\"token punctuation\">,</span> zoomout<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">//</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><hr />\n<h1 id=\"图像的旋转\"><a class=\"anchor\" href=\"#图像的旋转\">#</a> <span class=\"label primary\">图像的旋转</span></h1>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>C++ 实例</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">void</span> <span class=\"token class-name\">QuickDemo</span><span class=\"token operator\">::</span><span class=\"token function\">flip_demo</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Mat</span> <span class=\"token operator\">&amp;</span>image<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t<span class=\"token class-name\">Mat</span> dst<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t<span class=\"token function\">flip</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span> dst<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 上下翻转 x 对称</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\t<span class=\"token function\">flip</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span> dst<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 左右翻转 y 对称</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>\t<span class=\"token function\">flip</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span> dst<span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 旋转 180°</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t<span class=\"token function\">imshow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"图像翻转\"</span><span class=\"token punctuation\">,</span>dst<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><hr />\n<h1 id=\"图像的翻转\"><a class=\"anchor\" href=\"#图像的翻转\">#</a> <span class=\"label primary\">图像的翻转</span></h1>\n<p>本节课主要介绍了翻转图像的指定角度，之后，确定得到新的图像信息，长宽也发生改变。<br />\n<img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/Miscellaneous@main/opencv/wcos.png\" alt=\"在这里插入图片描述\" /></p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>C++ 实例</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">void</span> <span class=\"token class-name\">QuickDemo</span><span class=\"token operator\">::</span><span class=\"token function\">rotate_demo</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Mat</span> <span class=\"token operator\">&amp;</span>image<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t<span class=\"token class-name\">Mat</span> dst<span class=\"token punctuation\">,</span> <span class=\"token class-name\">M</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t<span class=\"token keyword\">int</span> h <span class=\"token operator\">=</span> image<span class=\"token punctuation\">.</span>rows<span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 定义图片的高度</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\t<span class=\"token keyword\">int</span> w <span class=\"token operator\">=</span> image<span class=\"token punctuation\">.</span>cols<span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 定义图片的宽度</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>\t<span class=\"token class-name\">M</span> <span class=\"token operator\">=</span> <span class=\"token function\">getRotationMatrix2D</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Point</span><span class=\"token punctuation\">(</span>w <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> h <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token number\">45</span><span class=\"token punctuation\">,</span><span class=\"token number\">1.0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t<span class=\"token keyword\">double</span> cos <span class=\"token operator\">=</span> <span class=\"token function\">abs</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">M</span><span class=\"token punctuation\">.</span>at<span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token keyword\">double</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>\t<span class=\"token keyword\">double</span> sin <span class=\"token operator\">=</span> <span class=\"token function\">abs</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">M</span><span class=\"token punctuation\">.</span>at<span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token keyword\">double</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>\t<span class=\"token keyword\">int</span> nw <span class=\"token operator\">=</span> cos <span class=\"token operator\">*</span> w <span class=\"token operator\">+</span> sin <span class=\"token operator\">*</span> h<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>\t<span class=\"token keyword\">int</span> nh <span class=\"token operator\">=</span> sin <span class=\"token operator\">*</span> w <span class=\"token operator\">+</span> cos <span class=\"token operator\">*</span> h<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>\t<span class=\"token class-name\">M</span><span class=\"token punctuation\">.</span>at<span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token keyword\">double</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+=</span> <span class=\"token punctuation\">(</span>nw <span class=\"token operator\">/</span> <span class=\"token number\">2</span> <span class=\"token operator\">-</span> w <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>\t<span class=\"token class-name\">M</span><span class=\"token punctuation\">.</span>at<span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token keyword\">double</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+=</span> <span class=\"token punctuation\">(</span>nh <span class=\"token operator\">/</span> <span class=\"token number\">2</span> <span class=\"token operator\">-</span> h <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>\t   <span class=\"token comment\">// 参数 1 原来图像的中心位置。参数 2 角度是多少。参数 3 是图像本身大小的放大缩小</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>\t<span class=\"token function\">warpAffine</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span> dst<span class=\"token punctuation\">,</span> <span class=\"token class-name\">M</span><span class=\"token punctuation\">,</span><span class=\"token class-name\">Size</span><span class=\"token punctuation\">(</span>nw<span class=\"token punctuation\">,</span>nh<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>INTER_LINEAR<span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Scalar</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">255</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>\t<span class=\"token function\">imshow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"旋转演示\"</span><span class=\"token punctuation\">,</span> dst<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><hr />\n<h1 id=\"视频文件摄像头使用\"><a class=\"anchor\" href=\"#视频文件摄像头使用\">#</a> <span class=\"label primary\">视频文件摄像头使用</span></h1>\n<p>本节介绍了如何读取一个视频，以及调用电脑的摄像头。并且对读取到的视频进行操作。</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>C++ 实例</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">void</span> <span class=\"token class-name\">QuickDemo</span><span class=\"token operator\">::</span><span class=\"token function\">video_demo</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Mat</span> <span class=\"token operator\">&amp;</span>image<span class=\"token punctuation\">)</span> </pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t<span class=\"token class-name\">VideoCapture</span> <span class=\"token function\">capture</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"D:/images/123.mp4\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>     <span class=\"token comment\">// 读取视频的地址</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t<span class=\"token class-name\">Mat</span> frame<span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 定义一个二值化的 frame</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\t</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>\t<span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t<span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>\t\tcapture<span class=\"token punctuation\">.</span><span class=\"token function\">read</span><span class=\"token punctuation\">(</span>frame<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>    <span class=\"token comment\">// 读取视频</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>\t\t   <span class=\"token comment\">//flip (frame, frame, 1);   // 图像镜像操作</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>\t\t<span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>frame<span class=\"token punctuation\">.</span><span class=\"token function\">empty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>   <span class=\"token comment\">// 如果视频为空的话 跳出操作</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>\t\t<span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>\t\t\t<span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>\t\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>\t\t<span class=\"token function\">imshow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"frame\"</span><span class=\"token punctuation\">,</span> frame<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 显示视频</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>\t\t<span class=\"token function\">colorSpace_Demo</span><span class=\"token punctuation\">(</span>frame<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 对视频调用之前的 demo</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>\t\t<span class=\"token keyword\">int</span> c <span class=\"token operator\">=</span> <span class=\"token function\">waitKey</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 停顿 100ms 做视频处理都是 1</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>c <span class=\"token operator\">==</span> <span class=\"token number\">27</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>    <span class=\"token comment\">//esc 退出应用程序</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>\t\t\t<span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>\t\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>\tcapture<span class=\"token punctuation\">.</span><span class=\"token function\">release</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 释放相机的资源</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h2 id=\"小结-8\"><a class=\"anchor\" href=\"#小结-8\">#</a> <span class=\"label warning\">小结</span></h2>\n<p>对读取到的视频 操作方式有镜像对称。加各种滤镜等等。</p>\n<hr />\n<h1 id=\"视频处理与保存\"><a class=\"anchor\" href=\"#视频处理与保存\">#</a> <span class=\"label primary\">视频处理与保存</span></h1>\n<p>视频的属性，SD（标清）,HD（高清）,UHD（超清），蓝光。如何读取视频文件，以及读取视频文件的属性，衡量视频处理指标：FPS。保存视频时的编码格式。保存视频的实际 size 和 create 的 size 大小保持一致。</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>C++ 实例</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">void</span> <span class=\"token class-name\">QuickDemo</span><span class=\"token operator\">::</span><span class=\"token function\">video_demo</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Mat</span> <span class=\"token operator\">&amp;</span>image<span class=\"token punctuation\">)</span> </pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t<span class=\"token class-name\">VideoCapture</span> <span class=\"token function\">capture</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"D:/images/123.mp4\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t<span class=\"token keyword\">int</span> frame_width <span class=\"token operator\">=</span> capture<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>CAP_PROP_FRAME_WIDTH<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 获取视频的宽度</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\t<span class=\"token keyword\">int</span> frame_height <span class=\"token operator\">=</span> capture<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>CAP_PROP_FRAME_HEIGHT<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 获取视频的高度</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>\t<span class=\"token keyword\">int</span> count <span class=\"token operator\">=</span> capture<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>CAP_PROP_FRAME_COUNT<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 视频总的帧数</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t   <span class=\"token comment\">//fps 是衡量处理视频的能力</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>\t<span class=\"token keyword\">double</span> fps <span class=\"token operator\">=</span> capture<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>CAP_PROP_FPS<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>\tstd<span class=\"token operator\">::</span><span class=\"token function\">cout</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"frame width\"</span> <span class=\"token operator\">&lt;&lt;</span> frame_width <span class=\"token operator\">&lt;&lt;</span> std<span class=\"token operator\">::</span><span class=\"token function\">endl</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>\tstd<span class=\"token operator\">::</span><span class=\"token function\">cout</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"frame height\"</span> <span class=\"token operator\">&lt;&lt;</span> frame_height <span class=\"token operator\">&lt;&lt;</span> std<span class=\"token operator\">::</span><span class=\"token function\">endl</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>\tstd<span class=\"token operator\">::</span><span class=\"token function\">cout</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"frame FPS\"</span> <span class=\"token operator\">&lt;&lt;</span> fps <span class=\"token operator\">&lt;&lt;</span> std<span class=\"token operator\">::</span><span class=\"token function\">endl</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>\tstd<span class=\"token operator\">::</span><span class=\"token function\">cout</span> <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">\"frame count\"</span> <span class=\"token operator\">&lt;&lt;</span> count <span class=\"token operator\">&lt;&lt;</span> std<span class=\"token operator\">::</span><span class=\"token function\">endl</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>\t<span class=\"token class-name\">VideoWriter</span> <span class=\"token function\">writer</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"D:/test.mp4\"</span><span class=\"token punctuation\">,</span>capture<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>CAP_PROP_FOURCC<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>fps<span class=\"token punctuation\">,</span><span class=\"token class-name\">Size</span><span class=\"token punctuation\">(</span>frame_width<span class=\"token punctuation\">,</span> frame_height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>\t   <span class=\"token comment\">// 参数 1 保存地址。参数 2 获取图片的格式 参数 3 图片的帧数 参数 4 视频宽高 参数 5 真</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>\t<span class=\"token class-name\">Mat</span> frame<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>\t<span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>\t<span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>\t\tcapture<span class=\"token punctuation\">.</span><span class=\"token function\">read</span><span class=\"token punctuation\">(</span>frame<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>\t\t   <span class=\"token comment\">//flip (frame, frame, 1);   // 图像镜像操作</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>\t\t<span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>frame<span class=\"token punctuation\">.</span><span class=\"token function\">empty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>\t\t<span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>\t\t\t<span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>\t\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>\t\t<span class=\"token function\">imshow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"frame\"</span><span class=\"token punctuation\">,</span> frame<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>\t\t<span class=\"token function\">colorSpace_Demo</span><span class=\"token punctuation\">(</span>frame<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>\t\twriter<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span>frame<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>\t\t<span class=\"token keyword\">int</span> c <span class=\"token operator\">=</span> <span class=\"token function\">waitKey</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 停顿 100ms 做视频处理都是 1</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>\t\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>c <span class=\"token operator\">==</span> <span class=\"token number\">27</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>    <span class=\"token comment\">//esc 退出应用程序</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>\t\t\t<span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>\t\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>\tcapture<span class=\"token punctuation\">.</span><span class=\"token function\">release</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 释放相机的资源</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>\twriter<span class=\"token punctuation\">.</span><span class=\"token function\">release</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 释放存放的资源</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h2 id=\"小结-9\"><a class=\"anchor\" href=\"#小结-9\">#</a> <span class=\"label warning\">小结</span></h2>\n<p>本节课，介绍了视频的一些基本熟悉，紧接介绍如何获取视频的属性，并且通过特定的格式保存到相应的存储位置上。</p>\n<hr />\n<h1 id=\"图像的直方图\"><a class=\"anchor\" href=\"#图像的直方图\">#</a> <span class=\"label primary\">图像的直方图</span></h1>\n<p>直方图是图像的统计学特征。表示了图像的各个像素在 0-255 出现的频率。图像的平移旋转都不会对性质进行改变。缺点：不能表征一张图像。</p>\n<hr />\n<h1 id=\"直方图的均衡化\"><a class=\"anchor\" href=\"#直方图的均衡化\">#</a> <span class=\"label primary\">直方图的均衡化</span></h1>\n<p>用途：用于图像增强，人脸检测，卫星遥感。均衡化的图像只支持单通道.</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>C++ 实例</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">void</span> <span class=\"token class-name\">QuickDemo</span><span class=\"token operator\">::</span><span class=\"token function\">histogram_eq_demo</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Mat</span> <span class=\"token operator\">&amp;</span>image<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t<span class=\"token class-name\">Mat</span> gray<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t<span class=\"token function\">cvtColor</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span> gray<span class=\"token punctuation\">,</span> COLOR_BGR2GRAY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\t   <span class=\"token comment\">// 直方图均衡化只支持灰度图像，不支持彩色图像。</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>\t<span class=\"token function\">imshow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"灰度图像\"</span><span class=\"token punctuation\">,</span> gray<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t<span class=\"token class-name\">Mat</span> dst<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>\t<span class=\"token function\">equalizeHist</span><span class=\"token punctuation\">(</span>gray<span class=\"token punctuation\">,</span> dst<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>\t<span class=\"token function\">imshow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"直方图均衡化\"</span><span class=\"token punctuation\">,</span> dst<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><hr />\n<h1 id=\"图像的卷积操作\"><a class=\"anchor\" href=\"#图像的卷积操作\">#</a> <span class=\"label primary\">图像的卷积操作</span></h1>\n<p>卷积的作用，高的往下降，低的往上升。但是会造成信息丢失。产生模糊效果。是一种线性操作，点乘，之后相加。</p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/Miscellaneous@main/opencv/cc.png\" alt=\"在这里插入图片描述\" /></p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>C++ 实例</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">void</span> <span class=\"token class-name\">QuickDemo</span><span class=\"token operator\">::</span><span class=\"token function\">blur_demo</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Mat</span> <span class=\"token operator\">&amp;</span>image<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t<span class=\"token class-name\">Mat</span> dst<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t<span class=\"token function\">blur</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span> dst<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Size</span><span class=\"token punctuation\">(</span><span class=\"token number\">15</span><span class=\"token punctuation\">,</span> <span class=\"token number\">15</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Point</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\t   <span class=\"token comment\">// 参数 1 原始图像，参数 2 卷积之后的图像，参数 3 卷积的矩阵大小，支持单行或者单列的卷积操作，参数 4 卷积的起始点。</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>\t<span class=\"token function\">imshow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"图像卷积操作\"</span><span class=\"token punctuation\">,</span> dst<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><hr />\n<h1 id=\"高斯模糊\"><a class=\"anchor\" href=\"#高斯模糊\">#</a> <span class=\"label primary\">高斯模糊</span></h1>\n<p>中心的数值最大，离中心距离越远，数值越小。<br />\n高斯卷积数学表达式说明：</p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/Miscellaneous@main/opencv/gv.png\" alt=\"在这里插入图片描述\" />高斯卷积的图像说明：<br />\n<img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/Miscellaneous@main/opencv/xy.png\" alt=\"在这里插入图片描述\" /></p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>C++ 实例</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">void</span> <span class=\"token class-name\">QuickDemo</span><span class=\"token operator\">::</span><span class=\"token function\">gaussian_blur_demo</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Mat</span> <span class=\"token operator\">&amp;</span>image<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t<span class=\"token class-name\">Mat</span> dst<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t<span class=\"token class-name\">GaussianBlur</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span> dst<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Size</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">15</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\t<span class=\"token function\">imshow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"高斯模糊\"</span><span class=\"token punctuation\">,</span> dst<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>\t   <span class=\"token comment\">// 参数 1 表示初始图像，参数 2 表示处理后的图像，参数 3 表示高斯矩阵大小 正数而且是奇数，</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t   <span class=\"token comment\">// 参数 4 表示西格玛 x 为 15 西格玛 y 为 15 </span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><hr />\n<h1 id=\"高斯双边模糊\"><a class=\"anchor\" href=\"#高斯双边模糊\">#</a> <span class=\"label primary\">高斯双边模糊</span></h1>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/Miscellaneous@main/opencv/mohu.png\" alt=\"在这里插入图片描述\" /></p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"><span>C++ 实例</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">void</span> <span class=\"token class-name\">QuickDemo</span><span class=\"token operator\">::</span><span class=\"token function\">bifilter_demo</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Mat</span> <span class=\"token operator\">&amp;</span>image<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>\t<span class=\"token class-name\">Mat</span> dst<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t<span class=\"token function\">bilateralFilter</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span>dst<span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\t   <span class=\"token comment\">// 参数 1 代表原图，参数 2 代表处理之后的图像，参数 3 色彩空间。参数 4 表示坐标空间，双边是指 色彩空间和坐标空间。</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>\t<span class=\"token function\">namedWindow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"双边模糊\"</span><span class=\"token punctuation\">,</span> WINDOW_FREERATIO<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 创建了一个新窗口，参数 1 表示名称，第二个参数代表一个自由的比例</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t<span class=\"token function\">imshow</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"双边模糊\"</span><span class=\"token punctuation\">,</span> dst<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// 表示显示在新创建的</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure>",
            "tags": [
                "OpenCV"
            ]
        },
        {
            "id": "https://ki.xiongzi.top/post/36862/",
            "url": "https://ki.xiongzi.top/post/36862/",
            "title": "跨境通VISA/万事达借记卡介绍与网上支付体验",
            "date_published": "2022-03-03T13:15:14.000Z",
            "content_html": "<div class=\"note primary\">\n<p>🦄快速开始 -<a href=\"/post/36862/\">🚀VISA / 万事达</a> - <a href=\"/post/17977/\">📌购汇与转账</a></p>\n</div>\n<h1 id=\"跨境通visa万事达借记卡介绍与网上支付体验\"><a class=\"anchor\" href=\"#跨境通visa万事达借记卡介绍与网上支付体验\">#</a> <span class=\"label primary\">跨境通 VISA / 万事达借记卡介绍与网上支付体验</span></h1>\n<div class=\"note info\">\n<p>本文篇幅较长，建议使用左侧导航菜单选择章节阅览</p>\n</div>\n<h1 id=\"介绍\"><a class=\"anchor\" href=\"#介绍\">#</a> <span class=\"label primary\">介绍</span></h1>\n<ul>\n<li>长城跨境通国际借记卡是中国银行 <code>四大国有银行之一</code> 发行的  <code>VISA / MasterCard</code>  多币种外标借记卡。不设申请门槛， <code>支持网上申请和线下申请</code> ，适合学生等不具备申请信用卡条件的人员。</li>\n</ul>\n<details class=\"info\"><summary>优点</summary><div>\n<pre><code>  1. 真正的国际借记卡\n  不上信报，不是某些银行以借记卡之名发行的零额度信用卡。\n\n  2. 不设申请门槛，支持网上申请和线下申请\n  只需本人有效身份证件，无需收入证明等财力证明材料。\n  中行上海分行微信公众号提供网上申请通道。\n\n  3. 支持 19 种外币，消费不收取任何手续费\n  消费或 ATM 取现支持直接使用美元、欧元、日元、港币等 19 种外币，无需货币转换。\n  免收货币转换费、跨境手续费等消费手续费。每月免收首笔境外 ATM 取现和余额查询手续费。\n\n  4. EMV 芯片卡，支持非接触功能\n  国内首张搭载 EMV 芯片标准的国际借记卡，属于磁条芯片复合卡。\n  支持 Visa payWave 和 MasterCard Contactless 非接触式支付功能。\n\n  5. 各种卡权益和银行优惠活动\n  可以享受卡组织提供的卡权益和参与银行举办的各种优惠活动。\n</code></pre>\n</div></details>\n<details class=\"info\"><summary>缺点</summary><div>\n<pre><code>  1. 存在年费\n  每年收取最低 RMB ¥10，最高 RMB ¥50。免收首年年费。(听说新政策借记卡取&gt;年费，不知真假)\n\n  2. 不设人民币账户\n  需要手动购汇，将人民币兑换成外币。\n\n  3. 使用上存在诸多不便\n  使用跨境通卡的时候经常需要避开许多大大小小的坑。相比信用卡，用卡较为不方。\n\n  4. 网点经常缺少卡板\n  导致线下办卡以及申请不支持网申的卡片十分困难。\n</code></pre>\n</div></details>\n<details class=\"info\"><summary>常见误区 本章收集了各大社区、论坛上对跨境通卡的一些误区。</summary><div>\n<pre><code>  1. 跨境通卡是零额度信用卡 跨境通卡是真正的 VISA / MasterCard 国际借记卡。除了卡组织不同，跨境通卡与中行发行的银联借记卡本质上是一样的。 可能把它当成了中行早期发行的另一“国际借记卡” - 长城环球旅行卡。该卡于 2016 年停发，虽然对外宣传是借记卡，但实际上是一张零额度信用卡。\n\n  2. 跨境通卡是单币种卡 / 是美元卡 / 只有美元账户 跨境通卡是多币种卡，支持美元、欧元、日元、港币等 19 种外币。\n\n  3. 跨境通卡消费冻结 105% / 120% / 150% 跨境通卡美元消费冻结 100%、非美元消费冻结 102%。冻结比例与交易币种有关。 发卡早期（2017～2018年左右）非美元消费的冻结比例是 105%，后来调整至目前的 102%。\n\n  4. 跨境通年费是 10 美金 / 20 美金 / 50 美金 跨境通卡不同卡等级的年费分别为10 人民币、20 人民币、50 人民币。 年费的收取方式是扣取等值的美元外钞。\n\n  5. 跨境通卡消费存在手续费 除年费和 ATM 取现费之外，跨境通卡消费不收取任何额外费用，例如货币转换费、跨境手续费等等。 非美元消费额外冻结的 2% 资金不是手续费，入账后返还至原卡。\n\n  6. 跨境通卡是国内唯一一种可以申请到的外标借记卡 中信银行于 2019 年 7 月新发行了一款 MasterCard 外标借记卡。 此外，北京银行、工商银行等银行都有发行外标借记卡（申请难度、用卡体验不同）。\n</code></pre>\n</div></details>\n<h1 id=\"卡种列表\"><a class=\"anchor\" href=\"#卡种列表\">#</a> <span class=\"label primary\">卡种列表</span></h1>\n<h2 id=\"普通卡种\"><a class=\"anchor\" href=\"#普通卡种\">#</a> <span class=\"label warning\">普通卡种</span></h2>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">卡片简称</th>\n<th style=\"text-align:center\">卡组织 / 卡等级</th>\n<th style=\"text-align:center\">年费</th>\n<th style=\"text-align:center\">申请方式</th>\n<th style=\"text-align:left\">备注</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><strong>VISA 标准金</strong>⭐️ <a href=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/visa-gold-m.jpg\"><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/visa-gold-m.jpg\" alt=\"img\" /></a></td>\n<td style=\"text-align:center\"><strong>MasterCard</strong> 金卡 Gold</td>\n<td style=\"text-align:center\">RMB¥10</td>\n<td style=\"text-align:center\"><strong>线下</strong> <s>网申</s></td>\n<td style=\"text-align:left\"></td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><strong>VISA 标准白</strong> <a href=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/visa-platinum-m.jpg\"><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/visa-platinum-m.jpg\" alt=\"img\" /></a></td>\n<td style=\"text-align:center\"><strong>MasterCard</strong> 白金卡 Platinum</td>\n<td style=\"text-align:center\">RMB¥20</td>\n<td style=\"text-align:center\"><strong>线下</strong> <s>网申</s></td>\n<td style=\"text-align:left\"></td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><strong>MC 标准金</strong>⭐️ <a href=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/mc-gold-m.jpg\"><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/mc-gold-m.jpg\" alt=\"img\" /></a></td>\n<td style=\"text-align:center\"><strong>MasterCard</strong> 金卡 Gold</td>\n<td style=\"text-align:center\">RMB¥10</td>\n<td style=\"text-align:center\"><strong>线下</strong> <s>网申</s></td>\n<td style=\"text-align:left\"></td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><strong>MC 标准白</strong> <a href=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/mc-platinum-m.jpg\"><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/mc-platinum-m.jpg\" alt=\"img\" /></a></td>\n<td style=\"text-align:center\"><strong>MasterCard</strong> 白金卡 Platinum</td>\n<td style=\"text-align:center\">RMB¥20</td>\n<td style=\"text-align:center\"><strong>线下</strong> <s>网申</s></td>\n<td style=\"text-align:left\"></td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><strong>非人哉卡</strong>⭐️ 🌏 <a href=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/mc-shanghai-m.jpg\"><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/mc-shanghai-m.jpg\" alt=\"img\" /></a></td>\n<td style=\"text-align:center\"><strong>MasterCard</strong> 金卡 Gold</td>\n<td style=\"text-align:center\">RMB¥10</td>\n<td style=\"text-align:center\"><strong>线下</strong> <strong>网申</strong></td>\n<td style=\"text-align:left\"><strong><span class=\"exturl\" data-url=\"aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3MvM09JNGU1aV9UWl9EdWdENGJac1hsZw==\">宣传页面</span></strong> 两种卡面（小玉卡、白泽卡）</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><strong>冬奥卡</strong> <a href=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/visa-signature-m.jpg\"><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/visa-signature-m.jpg\" alt=\"img\" /></a></td>\n<td style=\"text-align:center\"><strong>VISA</strong> 御玺卡 Signature</td>\n<td style=\"text-align:center\">RMB¥50</td>\n<td style=\"text-align:center\"><strong>线下</strong> <s>网申</s></td>\n<td style=\"text-align:left\"><strong><span class=\"exturl\" data-url=\"aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3M/X19iaXo9TWpNNU16STRNelEyTUE9PSZhbXA7bWlkPTI3MTQ1MjU1NjYmYW1wO2lkeD0yJmFtcDtzbj1iMDU4ZTZiOTExMzZiN2U1OWU1ZWE5YTk4MTFhOTA2ZQ==\">宣传页面</span></strong> 两种卡面（蓝卡、黑卡））</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><strong>冬奥卡（异形版）</strong> <a href=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/visa-signature-2-m.jpg\"><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/visa-signature-2-m.jpg\" alt=\"img\" /></a></td>\n<td style=\"text-align:center\"><strong>VISA</strong> 御玺卡 Signature</td>\n<td style=\"text-align:center\">RMB¥50</td>\n<td style=\"text-align:center\"><strong>线下</strong> <s>网申</s></td>\n<td style=\"text-align:left\"><strong><span class=\"exturl\" data-url=\"aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3MvM09JNGU1aV9UWl9EdWdENGJac1hsZw==\">宣传页面</span></strong> 收取额外工本费 RMB¥ 50</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><strong>莫奈卡 / 世界卡</strong>🌏 <a href=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/mc-world-m.jpg\"><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/mc-world-m.jpg\" alt=\"img\" /></a></td>\n<td style=\"text-align:center\"><strong>MasterCard</strong> 世界卡 World</td>\n<td style=\"text-align:center\">RMB¥50</td>\n<td style=\"text-align:center\"><strong>线下</strong> <strong>网申</strong></td>\n<td style=\"text-align:left\"><s><strong><span class=\"exturl\" data-url=\"aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3MvV0pUdS13X2NseTRjOEY1UG5fMDhFZw==\">宣传页面</span></strong></s> 已无</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><strong>选校帝卡</strong>🌏 <a href=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/visa-xxd-m.jpg\"><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/visa-xxd-m.jpg\" alt=\"img\" /></a></td>\n<td style=\"text-align:center\"><strong>VISA</strong> 御玺卡 Signature</td>\n<td style=\"text-align:center\">RMB¥50</td>\n<td style=\"text-align:center\"><strong>线下</strong> <s>网申</s></td>\n<td style=\"text-align:left\"><strong><span class=\"exturl\" data-url=\"aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3MvUWlwdlBPTFJDUDU4WW1ZNUdOV09zQQ==\">宣传页面</span></strong> 免前三年年费</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"特殊卡种\"><a class=\"anchor\" href=\"#特殊卡种\">#</a> <span class=\"label warning\">特殊卡种</span></h2>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">卡片简称</th>\n<th style=\"text-align:center\">卡组织 卡等级</th>\n<th style=\"text-align:center\">年费</th>\n<th style=\"text-align:center\">申请方式</th>\n<th style=\"text-align:center\">备注</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><strong>CSC 卡 / 公派留学专用卡</strong> <a href=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/boc-csc-m.jpg\"><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/boc-csc-m.jpg\" alt=\"img\" /></a></td>\n<td style=\"text-align:center\">VISA / MasterCard 白金卡 Platinum</td>\n<td style=\"text-align:center\">免年费</td>\n<td style=\"text-align:center\">不对外发卡</td>\n<td style=\"text-align:center\"><strong><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuYm9jLmNuL2Jjc2VydmljZS9iYzIvMjAxODExL3QyMDE4MTExNl8xNDkyNzI4NC5odG1s\">中行官网介绍</span></strong> 国家留学基金委（CSC） 面向 <strong><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY3NjLmVkdS5jbi9jaHVndW8=\">国家公派留学人员</span></strong> 发行的定制卡</td>\n</tr>\n</tbody>\n</table>\n<p><strong>取消或者推迟发行：</strong></p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">卡片简称</th>\n<th style=\"text-align:center\">卡组织 卡等级</th>\n<th style=\"text-align:center\">年费</th>\n<th style=\"text-align:center\">申请方式</th>\n<th style=\"text-align:center\">备注</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><strong>莫奈卡（竖版）</strong></td>\n<td style=\"text-align:center\">MasterCard 世界卡 World</td>\n<td style=\"text-align:center\">不明</td>\n<td style=\"text-align:center\">无</td>\n<td style=\"text-align:center\"></td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"️年费最低支持网上申请\"><a class=\"anchor\" href=\"#️年费最低支持网上申请\">#</a> ⭐️： <code>年费最低</code> <br />\n🌏： <code>支持网上申请</code></h2>\n<ul>\n<li>\n<p>跨境通卡至今一共发行了多达  <code>10 种卡面</code> ，包括  <code>4 种标准卡</code> 、 <code>6 种联名卡和特殊卡面</code> 。</p>\n</li>\n<li>\n<p><strong> <code>提示:</code> </strong> <strong>如果长期使用，建议优先申请年费最低⭐️的金卡</strong>。推荐申请 MasterCard，因为优惠活动的力度经常比 VISA 大。</p>\n</li>\n</ul>\n<details class=\"info\"><summary>1.标准卡种</summary><div>\n<div class=\"tab\" data-id=\"id3\" data-title=\"万事达品牌白金卡\">\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/mc-platinum-m.jpg\" alt=\"mc-platinum-m\" /></p>\n</div>\n<div class=\"tab\" data-id=\"id3\" data-title=\"万事达品牌金卡\">\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/mc-gold-m.jpg\" alt=\"mc-gold-m\" /></p>\n</div>\n<div class=\"tab\" data-id=\"id3\" data-title=\"VISA品牌白金卡\">\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/visa-platinum-m.jpg\" alt=\"visa-platinum-m\" /></p>\n</div>\n<div class=\"tab\" data-id=\"id3\" data-title=\"VISA品牌金卡\">\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/visa-gold-m.jpg\" alt=\"visa-gold-m\" /></p>\n</div>\n<ul>\n<li>最早发行的 <code>跨境通卡卡种</code> ，发行时间是 2017 年 4 月。如果在网点线下办理跨境通卡，办到的几乎都是 <code>标准卡种</code> 。</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">卡组织</th>\n<th style=\"text-align:center\">卡等级</th>\n<th style=\"text-align:center\">申请方式</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><strong>VISA</strong> <strong>MasterCard</strong></td>\n<td style=\"text-align:center\"><strong>金卡 Gold</strong> <strong>白金卡 Platinum</strong></td>\n<td style=\"text-align:center\"><strong>线下</strong> / <s>网申</s></td>\n</tr>\n</tbody>\n</table>\n</div></details>\n<details class=\"info\"><summary>2.莫奈主题名画卡</summary><div>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/mc-world-intro.jpg\" alt=\"img\" /></p>\n<ul>\n<li>\n<p><strong><span class=\"exturl\" data-url=\"aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3M/X19iaXo9TWpNNU16VTROVEV3TUE9PSZhbXA7bWlkPTI2NTMwNDk5NDUmYW1wO2lkeD0xJmFtcDtzbj0wNGRlOWFkYWI3NTcxYmVmYzJhN2MzY2Q5OGI1MWI2YiZhbXA7Y2hrc209YmQ0MjM2ZmE4YTM1YmZlYzQzNTMzOTFjNDVhY2JlNWFkYzc3NmQ0Y2VlZDZkM2Y0MzE5ZTY5OWI3ODkwZTEzOGFmZGM4NjRiNDE2Ng==\">万事达莫奈借记卡</span></strong>，属于中国银行 <strong><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuYm9jLmNuL2Fib3V0Ym9jL2JpMS8yMDE4MDcvdDIwMTgwNzI3XzEzMDkyOTE0Lmh0bWw=\">世界级名画艺术主题卡片系列</span></strong>。</p>\n</li>\n<li>\n<p>卡面图案是法国画家 <code>克洛德·莫奈</code> 的油画作品 <strong><span class=\"exturl\" data-url=\"aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvJUU1JThEJUIwJUU4JUIxJUExJUMyJUI3JUU2JTk3JUE1JUU1JTg3JUJB\">《印象・日出》</span></strong>。为了贴合卡片主题，2019 年曾推出购买指定博物馆门票获得全额返现的活动。</p>\n</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">卡组织</th>\n<th style=\"text-align:center\">卡等级</th>\n<th style=\"text-align:center\">申请方式</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><strong>MasterCard</strong></td>\n<td style=\"text-align:center\"><strong>世界卡 World</strong></td>\n<td style=\"text-align:center\"><strong>线下 / 网申</strong></td>\n</tr>\n</tbody>\n</table>\n</div></details>\n<details class=\"info\"><summary>3.冬奥主题借记卡</summary><div>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/visa-signature-intro.jpg\" alt=\"img\" /></p>\n<ul>\n<li>\n<p><strong><span class=\"exturl\" data-url=\"aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3M/X19iaXo9TWpNNU16STRNelEyTUE9PSZhbXA7bWlkPTI3MTQ1MjU1NjYmYW1wO2lkeD0yJmFtcDtzbj1iMDU4ZTZiOTExMzZiN2U1OWU1ZWE5YTk4MTFhOTA2ZQ==\">Visa 冬奥借记卡</span></strong> ，为迎接 2022 年 <code>北京冬奥会</code> 而推出的 <code>冬奥主题借记卡</code> 。</p>\n</li>\n<li>\n<p>有 <code>蓝色</code> 和 <code>黑色</code> 两款卡面，卡等级均为御玺卡：</p>\n</li>\n<li>\n<p><strong> <code>蓝色卡面</code> </strong> 普通款，采用渐变蓝卡基和浮雕烫印工艺。支持 <code>网上申请和线下办理</code> 。</p>\n</li>\n<li>\n<p><strong> <code>黑色卡面</code> </strong> 又称黑金版，采用黑色镭射卡基和 3D 打印工艺。仅限 <code>银行柜台申请</code> （限量 <strong><span class=\"exturl\" data-url=\"aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3MvTnJiclZPX1JjRHZBZHpLd0ItaFlmZw==\">20220 张</span></strong>）。</p>\n</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">卡组织</th>\n<th style=\"text-align:center\">卡等级</th>\n<th style=\"text-align:center\">申请方式</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><strong>VISA</strong></td>\n<td style=\"text-align:center\"><strong>御玺卡 Signature</strong></td>\n<td style=\"text-align:center\"><strong>线下</strong> / <s>网申</s>（蓝卡） <strong>线下</strong>（黑卡）</td>\n</tr>\n</tbody>\n</table>\n</div></details>\n<details class=\"info\"><summary>4.非人联名借记卡</summary><div>\n<p><img data-src=\"https://i.loli.net/2019/05/10/5cd57bb9832b2.png\" alt=\"img\" /></p>\n<ul>\n<li>上海分行发行的联名  <code>MasterCard 卡</code> ，一共有两款卡面。详细请看 <strong><span class=\"exturl\" data-url=\"aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3M/X19iaXo9TWpNNU5qUXlOamMyTUE9PSZhbXA7bWlkPTI2NTM0MTU0NzUmYW1wO2lkeD0xJmFtcDtzbj04NDU5NjBkZTQ0ZjA5ZWExNGJmMWI2MTMyNzhlZTJjZiZhbXA7Y2hrc209YmQzYTJkNTQ4YTRkYTQ0MmU4ZjBlZmFlYmY5OWNlZDg5NWUxY2Y4Nzc3ZDFhYzA2NDYzNzk0MjNkZDYwNmM3ODgwYWMzYjk2N2U1Zg==\">介绍页面</span></strong> 已删除 。</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">卡组织</th>\n<th style=\"text-align:center\">卡等级</th>\n<th style=\"text-align:center\">申请方式</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><strong>MasterCard</strong></td>\n<td style=\"text-align:center\"><strong>金卡 Gold</strong></td>\n<td style=\"text-align:center\"><strong>线下</strong> / <s>网申</s></td>\n</tr>\n</tbody>\n</table>\n</div></details>\n<details class=\"info\"><summary>5.选校帝联名借记卡</summary><div>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/visa-xxd.jpg\" alt=\"img\" /></p>\n<ul>\n<li>留学咨询平台  <code>选校帝</code>  与上海分行联合发行的联名  <code>VISA 卡</code>  。详细请看 <strong><span class=\"exturl\" data-url=\"aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3M/X19iaXo9TXpreU9ESTNPVEEyTUE9PSZhbXA7bWlkPTIyNDc0OTU3NDUmYW1wO2lkeD0yJmFtcDtzbj03MzQyZWQxZjlhMjgwY2M5ZDg5YjM4MDk1OWRlMjk0OSZhbXA7c291cmNlPTQxI3dlY2hhdF9yZWRpcmVjdA==\">介绍页面</span></strong> 。</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">卡组织</th>\n<th style=\"text-align:center\">卡等级</th>\n<th style=\"text-align:center\">申请方式</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><strong>VISA</strong></td>\n<td style=\"text-align:center\"><strong>御玺卡 Signature</strong></td>\n<td style=\"text-align:center\"><strong>线下</strong> / <strong>网申</strong></td>\n</tr>\n</tbody>\n</table>\n</div></details>\n<details class=\"info\"><summary>6.国家公派留学生专用国际借记卡（中行版）</summary><div>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/boc-csc-intro.jpg\" alt=\"img\" /></p>\n<ul>\n<li>\n<p>国家留学基金委员会  <code>留基委</code>  为 <strong><span class=\"exturl\" data-url=\"aHR0cHM6Ly9iYWlrZS5iYWlkdS5jb20vaXRlbS8lRTUlODUlQUMlRTYlQjQlQkUlRTclOTUlOTklRTUlQUQlQTY=\">国家公派留学生</span></strong> 特别定制的  <code>奖学金专用银行卡</code> ，属于  <code>跨境通卡的特殊卡种</code>  。</p>\n</li>\n<li>\n<p>基本沿用标准  <code>VISA / MasterCard 白金卡</code>  ， <code>并减免所有的ATM取现手续费、年费、跨境汇款手续费、电报费等各种手续费</code>  （ <strong><span class=\"exturl\" data-url=\"aHR0cDovL3d3dy5ib2MuY24vYmNzZXJ2aWNlL2JjMi8yMDE4MTEvdDIwMTgxMTE2XzE0OTI3Mjg0Lmh0bWw=\">详细介绍</span></strong> ）。</p>\n</li>\n<li>\n<p>该卡种仅限国家  <code>公派留学生申请</code>  ，需要在留基委开设的网站上提交  <code>CSC学号</code>  等申请信息。</p>\n</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">卡组织</th>\n<th style=\"text-align:center\">卡等级</th>\n<th style=\"text-align:center\">申请方式</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><strong>VISA</strong> <strong>MasterCard</strong></td>\n<td style=\"text-align:center\"><strong>白金卡 Platinum</strong></td>\n<td style=\"text-align:center\">不开放申请</td>\n</tr>\n</tbody>\n</table>\n</div></details>\n<details class=\"info\"><summary>7.疑似推迟或取消发行的卡种</summary><div>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/mc-world-unknown-intro.jpg\" alt=\"img\" /></p>\n<ul>\n<li>\n<p>2019 年上旬，万事达卡旧版权益平台出现一款  <code>竖版莫奈主题借记卡</code>  ，卡面图案是莫奈的另一款作品 <strong><span class=\"exturl\" data-url=\"aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvJUU2JTg5JTkzJUU5JTk4JUIzJUU0JUJDJTlFJUU3JTlBJTg0JUU1JUE1JUIzJUU0JUJBJUJB\">《打阳伞的女人 (面左)》</span></strong> 。</p>\n</li>\n<li>\n<p>旧版权益平台关闭之后，至今没有出现有关这个卡片的更多消息。</p>\n</li>\n</ul>\n</div></details>\n<h1 id=\"申卡指南\"><a class=\"anchor\" href=\"#申卡指南\">#</a> <span class=\"label primary\">申卡指南</span></h1>\n<h2 id=\"申卡前的准备工作\"><a class=\"anchor\" href=\"#申卡前的准备工作\">#</a> <span class=\"label warning\">申卡前的准备工作</span></h2>\n<blockquote>\n<ol>\n<li>\n<p><code>年满 16 周岁</code> <br />\n按照中行规定，未满 16 周岁人士必须在监管人陪同下在网点申卡。未满 16 周岁不支持网申。</p>\n</li>\n<li>\n<p>持有中行发行的银联借记卡，满足：</p>\n</li>\n</ol>\n<p>持卡人为本人 <code>本人名下</code> <br />\n属于 I 类账户 <code>一类卡</code></p>\n<ol start=\"3\">\n<li>\n<p>已开通 <code>中行手机银行</code> <br />\n用于购汇、转账和查看交易明细。</p>\n</li>\n<li>\n<p>持有的 <code>中行实体借记卡数量必须小于 4 张</code> <br />\n中行系统限制，每人最多只能持有 4 张实体借记卡 <code>包括银联借记卡和 VISA / MasterCard 借记卡</code> 。</p>\n</li>\n</ol>\n</blockquote>\n<hr />\n<h2 id=\"申卡后的准备工作\"><a class=\"anchor\" href=\"#申卡后的准备工作\">#</a> <span class=\"label warning\">申卡后的准备工作</span></h2>\n<blockquote>\n<ol>\n<li>\n<p>下载中行手机银行， <code>将卡片关联到手机银行上</code></p>\n</li>\n<li>\n<p>通过手机银行， <code>向卡片转账任意金额的外汇 / 外钞</code> <br />\n若借记卡开卡后 6 个月内没有发生任何动账交易，停止非柜面业务。</p>\n</li>\n<li>\n<p>用卡前，通过手机银行 <code>开通卡片的网上支付功能</code></p>\n</li>\n<li>\n<p>若新卡经常遇到付款失败等异常情况，请停止用卡 3 ～ 5 天。<br />\n仅限部分开卡不足 3 天的新卡。具体原因不明。</p>\n</li>\n<li>\n<p>如果长时间不用卡 <code>一年以上</code> ，卡片余额必须不为零<br />\n否则被中行视为 <code>双零卡</code> ，按照 <strong><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuYm9jLmNuLyUzRXBic2VydkljZS9iaTIvMjAxMzAyL3QyMDEzMDIxOF8yMTYyMDI4Lmh0bWw=\">相关规定</span></strong> 进行定期销户。</p>\n</li>\n<li>\n<p><code>保留足够的美元外钞余额，用于缴纳年费</code></p>\n</li>\n</ol>\n</blockquote>\n<details class=\"info\"><summary>手机银行开通网上支付功能</summary><div>\n<pre><code>  需要开启下列功能：\n\n  1. 卡组织在线支付\n  2. 卡组织代收\n  3. 卡组织订购业务\n  4. 小额/凭签名免密\n\n  手机银行选项位置：\n\n  1. 卡组织在线支付、卡组织代收、卡组织订购业务**：账户管理 -&gt; 跨境通卡 -&gt; 支付设置 -&gt; 跨行支付\n  2. 小额/凭签名免密**：账户管理 -&gt; 跨境通卡 -&gt; 限额设置 -&gt; 小额/凭签名免密(POS消费)\n\n  找到开关后，按照客户端上的指引开启功能即可。限额单位是人民币\n</code></pre>\n</div></details>\n<hr />\n<h2 id=\"申请卡片\"><a class=\"anchor\" href=\"#申请卡片\">#</a> <span class=\"label warning\">申请卡片</span></h2>\n<ul>\n<li>目前支持网上申请 <code>上海分行公众号</code>   <code>和微银行公众号</code> 和网点线下申请。</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">申请方式</th>\n<th style=\"text-align:center\">（预计）申卡时间</th>\n<th style=\"text-align:center\">申请卡种</th>\n<th style=\"text-align:center\">进度查询</th>\n<th style=\"text-align:center\">激活 / 销卡方式</th>\n<th style=\"text-align:center\">开户行</th>\n<th style=\"text-align:center\">备注</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><strong>网点线下</strong></td>\n<td style=\"text-align:center\"><strong>30 分钟～2 小时</strong> （排队 + 办卡）</td>\n<td style=\"text-align:center\">以标准卡为主</td>\n<td style=\"text-align:center\"><strong>现场</strong></td>\n<td style=\"text-align:center\">人工柜台</td>\n<td style=\"text-align:center\"><strong>办卡网点</strong></td>\n<td style=\"text-align:center\">大部分网点 卡板不足或者缺少卡板</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><strong>上海分行公众号</strong></td>\n<td style=\"text-align:center\">2～4 周 （审核 + 制卡 + 邮寄）</td>\n<td style=\"text-align:center\">三种</td>\n<td style=\"text-align:center\"><strong>有</strong></td>\n<td style=\"text-align:center\"><strong>自助 （智能柜台）</strong></td>\n<td style=\"text-align:center\">上海市分行</td>\n<td style=\"text-align:center\">非预制卡 （卡面刻有持卡人姓名）</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><s><strong>微银行公众号</strong></s> （已关闭）</td>\n<td style=\"text-align:center\"><s>一般超过一个月 （因地而异）</s></td>\n<td style=\"text-align:center\"><s><strong>所有卡种</strong></s></td>\n<td style=\"text-align:center\"><s>无</s></td>\n<td style=\"text-align:center\"><s>人工柜台</s></td>\n<td style=\"text-align:center\"><s><strong>可选</strong></s></td>\n<td style=\"text-align:center\">申请通道已关闭</td>\n</tr>\n</tbody>\n</table>\n<hr />\n<h2 id=\"上海分行公众号\"><a class=\"anchor\" href=\"#上海分行公众号\">#</a> <span class=\"label warning\">上海分行公众号</span></h2>\n<p><em>（注：请在手机上打开网申链接）</em></p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">名称</th>\n<th style=\"text-align:center\">卡组织</th>\n<th style=\"text-align:center\">卡等级</th>\n<th style=\"text-align:center\">年费</th>\n<th style=\"text-align:center\">网申链接</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><strong>莫奈卡</strong></td>\n<td style=\"text-align:center\">MasterCard</td>\n<td style=\"text-align:center\">世界卡 World</td>\n<td style=\"text-align:center\">RMB ¥50</td>\n<td style=\"text-align:center\"><strong><span class=\"exturl\" data-url=\"aHR0cHM6Ly9jbG91ZC5iYW5rb2ZjaGluYS5jb20vc2gvYXBpL25ldC9jb21tb24vdXJsL2Fkcj9pZD1rdWFqaW5nZ29tYXN0ZXJjYXJk\">链接</span></strong></td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><strong>非人哉卡</strong></td>\n<td style=\"text-align:center\">MasterCard</td>\n<td style=\"text-align:center\">金卡 Gold</td>\n<td style=\"text-align:center\">RMB ¥10</td>\n<td style=\"text-align:center\"><strong><span class=\"exturl\" data-url=\"aHR0cHM6Ly9jbG91ZC5iYW5rb2ZjaGluYS5jb20vc2gvYXBpL25ldC9jb21tb24vdXJsL2Fkcj9pZD1rdWFqaW5nZ29mZWlyZW56YWljYXJk\">链接</span></strong></td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><s>选校帝卡</s></td>\n<td style=\"text-align:center\"><s>VISA</s></td>\n<td style=\"text-align:center\"><s>御玺卡 Signature</s></td>\n<td style=\"text-align:center\"><s>RMB ¥50 （免前三年年费）</s></td>\n<td style=\"text-align:center\"><strong><s><span class=\"exturl\" data-url=\"aHR0cHM6Ly9jbG91ZC5iYW5rb2ZjaGluYS5jb20vc2gvYXBpL25ldC9jb21tb24vdXJsL2Fkcj9pZD14dWFueGlhb2RpdmlzaA==\">链接</span></s></strong></td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<ol>\n<li>\n<p><strong>优点：</strong>  <code>申卡流程十分完善成熟</code> （如提供邮寄服务、进度查询、自助激活销卡等）<br />\n目前推荐（不是首选）的申请跨境通卡方式。</p>\n</li>\n<li>\n<p><strong>缺点：</strong>  <code>开户行是上海市分行</code> 。不影响用卡，但部分柜台业务 <code>如补卡、换卡等</code> 可能需要去上海地区网点办理 <code>注：</code> 开户行的影响博主有待进一步考察。</p>\n</li>\n<li>\n<p><code>中国银行上海分行</code> 是少数重视跨境通卡的中行地方分行。不仅率先中行总行开通了 <code>网上申请通道</code> ，还独立发行三款跨境通卡 <code>莫奈卡、非人卡、选校帝卡都是上海分行首发的</code> 。</p>\n</li>\n</ol>\n</blockquote>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/boc-shanghai-apply-main-ui.jpg\" alt=\"img\" /></p>\n<h3 id=\"申卡流程\"><a class=\"anchor\" href=\"#申卡流程\">#</a> <span class=\"label warning\">申卡流程</span></h3>\n<blockquote>\n<ol>\n<li><strong>网上填写资料</strong><br />\n按照网申链接上的指引操作即可。需要提交的资料有身份证正反面、头像照、个人信息、邮寄地址必须 <code>精确到门牌号</code> ，不然审批不通过。</li>\n<li><strong><span class=\"exturl\" data-url=\"aHR0cHM6Ly9jbG91ZC5iYW5rb2ZjaGluYS5jb20vc2gvaHRtbC9oNS9jYXJkL3NlYXJjaC5odG1sP2luZGV4PTAmYW1wO2FwcGx5PWRpcmVjdA==\">进度查询</span></strong><br />\n如果  <code>当前状态</code>  变为  <code>制卡中</code>  ，说明申请成功。</li>\n</ol>\n</blockquote>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/boc-shanghai-apply-process-ext.jpg\" alt=\"img\" /></p>\n<blockquote>\n<h1 id=\"注意事项\"><a class=\"anchor\" href=\"#注意事项\">#</a> <span class=\"label danger\">注意事项</span></h1>\n<div class=\"note info\">\n<p><code>快递单号</code>  存在  <code>BUG</code> 。经常出现收到卡后才会显示快递单号的情况。</p>\n</div>\n<div class=\"note info\">\n<p>如果  <code>审核未通过</code> ，可能是没有填写详细的邮寄地址。</p>\n</div>\n<div class=\"note info\">\n<p>如果  <code>开卡失败</code> ，原因不明，可能是上海分行系统出问题。需要重新申请。</p>\n</div>\n</blockquote>\n<blockquote>\n<ol start=\"3\">\n<li><strong>激活卡片</strong><br />\n一般过两到四周后，可以收到上海分行邮寄的卡片挂号信。</li>\n</ol>\n</blockquote>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/boc-shanghai-apply-letter-ext.jpg\" alt=\"img\" /></p>\n<blockquote>\n<p>按照挂号信的指示，前往全国任意中行网点，在智能柜台上自助激活即可。</p>\n</blockquote>\n<hr />\n<h2 id=\"网点线下\"><a class=\"anchor\" href=\"#网点线下\">#</a> <span class=\"label warning\">网点线下</span></h2>\n<blockquote>\n<ol>\n<li><strong>优点：</strong>  <code>速度快</code> 。若不考虑取号排队时间，一般可以在 30 分钟内办到跨境通卡。<br />\n因此这是首选的申请跨境通卡方式。</li>\n<li><strong>缺点：</strong></li>\n</ol>\n<blockquote>\n<ol>\n<li><code>缺少卡板</code> ：由于跨境通卡是相对冷门的卡种，许多网点 <code>特别是位于小城市、城镇的小网点</code> 没有提供跨境通卡卡板。即使是一两线大城市的网点，也往往只提供数量有限的卡板。</li>\n<li><code>柜员操作不熟练</code> ：原因同上。虽然这是小概率事件，如果柜员操作出错，后果就是 <code>无法正常用卡、只能销掉重新申请</code> 。</li>\n</ol>\n</blockquote>\n</blockquote>\n<h2 id=\"申卡流程-2\"><a class=\"anchor\" href=\"#申卡流程-2\">#</a> <span class=\"label.warning\">申卡流程</span></h2>\n<blockquote>\n<ol>\n<li>\n<p><strong>寻找开卡网点</strong><br />\n拨打网点座机或者直接去现场询问。建议先找离自己最近的网点，然后再找当地的大型网点 <code>如市分行、省分行</code> 。<br />\n大堂经理 <code>站在入口附近协助客户办理业务的这位</code> 一般不知道卡板的库存情况，建议让柜员 <code>隔在玻璃窗后面办理业务的这位</code> 去网点的卡库查找是否有可用的跨境通卡卡板。<br />\n与网点人员交流时，他们可能不熟悉  <code>跨境通卡</code>  这个词，建议使用  <code>VISA / MasterCard 借记卡</code> 、 <code>EMV 借记卡</code>  或者直接把卡面照片给他们看。</p>\n</li>\n<li>\n<p><strong>柜台办卡</strong><br />\n如果幸运地找到跨境通卡的卡板，就可以取号排队到柜台办理跨境通卡了。<br />\n部分地区网点可能会收取 5 元工本费和预收一年年费。<br />\n为防止柜员开卡操作出错而导致卡片无法使用，<strong>建议提供以下交易代码供柜员参考：</strong></p>\n</li>\n<li>\n<p><s>微银行公众号</s>（已关闭）</p>\n</li>\n</ol>\n</blockquote>\n<div class=\"note info\">\n<p><strong>微银行公众号借记卡申请通道已关闭</strong> 。官方给出的理由是升级维护，恢复时间未知。</p>\n</div>\n<details class=\"info\"><summary>微银行公众号申卡</summary><div>\n<p><s>微信关注 <strong><span class=\"exturl\" data-url=\"aHR0cDovL3d3dy5ib2MuY24vY3VzdHNlcnYvY3MxLzIwMTMwMS90MjAxMzAxMTVfMjEyNjM0My5odG1s\">中国银行微银行</span></strong> 公众号，选择<strong>微金融</strong> -&gt;<strong> 更多功能</strong> -&gt;<strong> 申请借记卡</strong>，或者用手机浏览器打开 <strong><span class=\"exturl\" data-url=\"aHR0cHM6Ly9vcGVuYXBpLmJvYy5jbi9hcHBzZXJ2ZXIvWlhCSy9pbmRleC5odG1sIy8/cGlkPTAwMDAxMDAwMDEwMDAwOA==\">这个链接</span></strong> 。</s></p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/boc-general-apply-main-ui.jpg\" alt=\"img\" /></p>\n<p><s>输入姓名、身份证号码和手机号（非新户输入银行预留手机号）。</s></p>\n<p><s>这里需要设置 6 位卡密码，也是 ATM 密码。注意牢记卡密码，因为激活卡片时需要提供这个密码。</s></p>\n<p><s>领卡网点即开户行，可以选择全国范围内的中行网点。领卡网点</s></p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/boc-general-apply-final-form.jpg\" alt=\"img\" /></p>\n<p><s>新户申请卡片时，需要额外填写姓名拼音、住址等信息。</s></p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/boc-general-apply-personalinfo.jpg\" alt=\"img\" /></p>\n<p><s>申请成功后，收到附有卡号的短信。</s></p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/boc-general-apply-sms.jpg\" alt=\"img\" /></p>\n<p><s>提交申请后，卡片首先寄送到开卡网点，然后在人工柜台领取并激活卡片</s></p>\n<p><s>时间因地而异，一般为两周到一个月，也有可能更长。</s></p>\n<p><s>收到卡片后，首先网点工作人员通知领卡，。部分网点不会主动通知，需要自行联系网点。联系时需要向工作人员说明身份证号码、申请时间和卡号，以便查找卡片。</s></p>\n<p><s>卡片只支持人工柜台激活，不支持自助柜台激活。</s> <s>激活时，提醒柜员办理下列业务：</s></p>\n<ul>\n<li>\n<p><s>交易名称：<strong>借记卡激活</strong> 交易代码：<strong>037347</strong></s></p>\n</li>\n<li>\n<p><s>交易名称：<strong>领非预制卡</strong> 交易代码：<strong>037241</strong></s></p>\n</li>\n</ul>\n</div></details>\n<h1 id=\"购汇-交易提醒\"><a class=\"anchor\" href=\"#购汇-交易提醒\">#</a> <span class=\"label primary\">购汇、交易提醒</span></h1>\n<h2 id=\"购汇\"><a class=\"anchor\" href=\"#购汇\">#</a> <span class=\"label warning\">购汇</span></h2>\n<blockquote>\n<ol>\n<li>\n<p>详细教程：<strong><span class=\"exturl\" data-url=\"aHR0cHM6Ly9wb3BsaXRlLnh5ei9wb3N0LzIwMTgvMDQvMTkvaG93LXRvLXB1cmNoYXNlLWZvcmVpZ24tY3VycmVuY3ktaW4tYm9jLW1vYmlsZS1iYW5rLmh0bWw=\">中国银行手机银行购汇与转账教程</span></strong></p>\n</li>\n<li>\n<p>跨境通卡 <code>不支持人民币账户</code> 。需要在手机银行上购汇 <code>人民币兑换为外币</code> ，然后将购得的外币转账到卡片中。</p>\n</li>\n</ol>\n</blockquote>\n<blockquote>\n<h1 id=\"注意事项-2\"><a class=\"anchor\" href=\"#注意事项-2\">#</a> <span class=\"label danger\">注意事项</span></h1>\n<div class=\"note info\">\n<p>若无特殊需求，建议 <code>购买外汇为主</code> <br />\n外钞一般用于 <code>ATM 取现和缴纳年费</code> 。除了少数币种，外钞的价格一般比外汇贵。</p>\n</div>\n<div class=\"note info\">\n<p><code>（境内转账）外币只能转账给本人账户和直系亲属账户</code> <br />\n本人的非中行账户、直系亲属的中行或非中行账户之间的外币转账需要到柜台上办理。<br />\n跨境转账不受限制。</p>\n</div>\n</blockquote>\n<hr />\n<h2 id=\"交易提醒\"><a class=\"anchor\" href=\"#交易提醒\">#</a> <span class=\"label warning\">交易提醒</span></h2>\n<blockquote>\n<ol>\n<li><strong>微信交易提醒</strong></li>\n</ol>\n<ul>\n<li>价格： <code>免费</code></li>\n<li>步骤：关注 <strong><span class=\"exturl\" data-url=\"aHR0cDovL3d3dy5ib2MuY24vY3VzdHNlcnYvY3MxLzIwMTMwMS90MjAxMzAxMTVfMjEyNjM0My5odG1s\">中国银行微银行</span></strong> 公众号，绑定 <code>跨境通卡</code> ，开启借记卡动账消息提醒。</li>\n</ul>\n</blockquote>\n<div class=\"note info\">\n<p><strong>注意：</strong> <strong><span class=\"exturl\" data-url=\"aHR0cHM6Ly94aW9uZ3ppLnRvcC8yMDIyLzAzLzAzLyVFNCVCOCU4NyVFNCVCQSU4QiVFOCVCRSVCRS8lRTglQjclQTglRTUlQTIlODMlRTklODAlOUFWSVNBLyUzRSVFNCVCOCU4NyVFNCVCQSU4QiVFOCVCRSVCRSVFNSU4MCU5RiVFOCVBRSVCMCVFNSU4RCVBMSVFNCVCQiU4QiVFNyVCQiU4RCVFNCVCOCU4RSVFNyVCRCU5MSVFNCVCOCU4QSVFNiU5NCVBRiVFNCVCQiU5OCVFNCVCRCU5MyVFOSVBQSU4Qy8lM0UjMi0lRTQlQkElQTQlRTYlOTglOTMlRTYlOEYlOTAlRTklODYlOTI=\">微信交易提醒存在延迟</span></strong></p>\n</div>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/boc_wechat_new.jpg\" alt=\"img\" /></p>\n<blockquote>\n<ol start=\"2\">\n<li><strong>短信交易提醒</strong></li>\n</ol>\n<ul>\n<li>价格： <code>每月 RMB¥2</code></li>\n<li>步骤： <code>手机银行 -&gt; 账户管理 -&gt; 跨境通卡 -&gt; 动户通知</code> ，按照指引开通即可。</li>\n</ul>\n</blockquote>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/boc_sms.jpg\" alt=\"img\" /></p>\n<h1 id=\"网上消费\"><a class=\"anchor\" href=\"#网上消费\">#</a> <span class=\"label primary\">网上消费</span></h1>\n<div class=\"note info\">\n<p><code>重要：</code> 用卡前，请阅读 <strong><span class=\"exturl\" data-url=\"aHR0cHM6Ly94aW9uZ3ppLnRvcC8yMDIyLzAzLzAzLyVFNCVCOCU4NyVFNCVCQSU4QiVFOCVCRSVCRS8lRTglQjclQTglRTUlQTIlODMlRTklODAlOUFWSVNBLyVFNCVCOCU4NyVFNCVCQSU4QiVFOCVCRSVCRSVFNSU4MCU5RiVFOCVBRSVCMCVFNSU4RCVBMSVFNCVCQiU4QiVFNyVCQiU4RCVFNCVCOCU4RSVFNyVCRCU5MSVFNCVCOCU4QSVFNiU5NCVBRiVFNCVCQiU5OCVFNCVCRCU5MyVFOSVBQSU4Qy8jNi0lRTklODElQkYlRTUlOUQlOTElRTYlOEMlODclRTUlOEQlOTc=\">避坑指南</span></strong> 。</p>\n</div>\n<blockquote>\n<ol>\n<li>\n<p>经过长时间检验，可以确定跨境通卡的支付功能基本与国际信用卡相同，即：</p>\n</li>\n<li>\n<p>除了少数网站，只要境外网站能够使用国内发行的外标信用卡支付，跨境通卡同样也能在该网站上使用。</p>\n</li>\n<li>\n<p>同理，如果网站不支持 <code>或禁用</code> 国内信用卡，跨境通卡一般也无法使用。</p>\n</li>\n</ol>\n</blockquote>\n<hr />\n<h2 id=\"支持以下网站\"><a class=\"anchor\" href=\"#支持以下网站\">#</a> <span class=\"label.warning\">支持以下网站</span></h2>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\"></th>\n<th style=\"text-align:center\">网站</th>\n<th style=\"text-align:center\">测试区域</th>\n<th style=\"text-align:center\">备注</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">✔️</td>\n<td style=\"text-align:center\"><strong>Google Play</strong> （直接绑卡 + PayPal）</td>\n<td style=\"text-align:center\">美区 / 日区</td>\n<td style=\"text-align:center\">日区绑卡<strong>预授权 204 日元</strong></td>\n</tr>\n<tr>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"><strong>PayPal</strong></td>\n<td style=\"text-align:center\">美区 / 国区 / 港区</td>\n<td style=\"text-align:center\"></td>\n</tr>\n<tr>\n<td style=\"text-align:center\">✔️</td>\n<td style=\"text-align:center\"><strong>Spotify</strong> （PayPal）</td>\n<td style=\"text-align:center\">美区</td>\n<td style=\"text-align:center\"></td>\n</tr>\n<tr>\n<td style=\"text-align:center\">✔️</td>\n<td style=\"text-align:center\"><strong>亚马逊</strong></td>\n<td style=\"text-align:center\">日区</td>\n<td style=\"text-align:center\"></td>\n</tr>\n<tr>\n<td style=\"text-align:center\">✔️</td>\n<td style=\"text-align:center\"><strong>Netflix</strong></td>\n<td style=\"text-align:center\">美区</td>\n<td style=\"text-align:center\"></td>\n</tr>\n<tr>\n<td style=\"text-align:center\">✔️</td>\n<td style=\"text-align:center\"><strong>Nintendo eShop</strong></td>\n<td style=\"text-align:center\">日区</td>\n<td style=\"text-align:center\"></td>\n</tr>\n</tbody>\n</table>\n<hr />\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\"></th>\n<th style=\"text-align:center\">网站</th>\n<th style=\"text-align:center\">备注</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">✔️</td>\n<td style=\"text-align:center\"><strong>DMM</strong> （直接绑卡）</td>\n<td style=\"text-align:center\">只能充值点数</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">✔️</td>\n<td style=\"text-align:center\"><strong>虎之穴</strong></td>\n<td style=\"text-align:center\"></td>\n</tr>\n<tr>\n<td style=\"text-align:center\">✔️</td>\n<td style=\"text-align:center\"><strong>Melonbooks</strong></td>\n<td style=\"text-align:center\"></td>\n</tr>\n<tr>\n<td style=\"text-align:center\">✔️</td>\n<td style=\"text-align:center\"><strong>Pixiv</strong> （直接绑卡 + PayPal）</td>\n<td style=\"text-align:center\">购买<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cucGl4aXYubmV0L3ByZW1pdW0ucGhw\">高级会员</span></td>\n</tr>\n<tr>\n<td style=\"text-align:center\">✔️</td>\n<td style=\"text-align:center\"><strong>Pixiv Fanbox</strong> （直接绑卡 + PayPal）</td>\n<td style=\"text-align:center\"></td>\n</tr>\n<tr>\n<td style=\"text-align:center\">✔️</td>\n<td style=\"text-align:center\"><strong><span class=\"exturl\" data-url=\"aHR0cDovL0JPT1RILnBt\">BOOTH.pm</span></strong> （直接绑卡 + PayPal）</td>\n<td style=\"text-align:center\"></td>\n</tr>\n<tr>\n<td style=\"text-align:center\">✔️</td>\n<td style=\"text-align:center\"><strong><span class=\"exturl\" data-url=\"aHR0cDovL01vcmEuanA=\">Mora.jp</span></strong> （直接绑卡 + Amazon Pay + 乐天 Pay）</td>\n<td style=\"text-align:center\"><strong><span class=\"exturl\" data-url=\"aHR0cHM6Ly9wb3BsaXRlLnh5ei9wb3N0LzIwMTgvMDUvMTkvaG93LXRvLXB1cmNoYXNlLWRpZ2l0YWwtbXVzaWMtb24tbW9yYS1qcC13aXRoLWFtYXpvbi1wYXkuaHRtbA==\">Amazon Pay 教程</span></strong> 、 <strong><span class=\"exturl\" data-url=\"aHR0cHM6Ly9wb3BsaXRlLnh5ei9wb3N0LzIwMTgvMDMvMDUvcG9zdC8yMDE5LzAzLzE4L2hvdy10by1wdXJjaGFzZS1kaWdpdGFsLW11c2ljLW9uLW1vcmEtanAtd2l0aC1yYWt1dGVuLXBheS5odG1s\">乐天 Pay 教程</span></strong></td>\n</tr>\n<tr>\n<td style=\"text-align:center\">✔️</td>\n<td style=\"text-align:center\"><strong>DLsite</strong></td>\n<td style=\"text-align:center\"></td>\n</tr>\n<tr>\n<td style=\"text-align:center\">✔️</td>\n<td style=\"text-align:center\"><strong>ConoHa</strong></td>\n<td style=\"text-align:center\"></td>\n</tr>\n</tbody>\n</table>\n<div class=\"note info\">\n<p><code>注</code> ：如果 Google Play 绑不上卡或者付款失败，请联系 <strong><span class=\"exturl\" data-url=\"aHR0cHM6Ly9zdXBwb3J0Lmdvb2dsZS5jb20vZ29vZ2xlcGxheS9jb250YWN0L3BsYXlfY2hhdD9obD16aC1IYW50JmFtcDtlYz1hcHBzLGMyY19nZW5lcmFsLGNoYXRfZ2VuZXJhbCZhbXA7Y2ZzaT1wcm9ibGVtX3dpdGhfaW5hcHAmYW1wO2NmbnRpPWVzY2FsYXRpb25mbG93LmNoYXQmYW1wO2NmdD0x\">客服</span></strong> 解封卡片。</p>\n</div>\n<hr />\n<h2 id=\"以下网站跨境通卡和国内发行的外标信用卡均不支持\"><a class=\"anchor\" href=\"#以下网站跨境通卡和国内发行的外标信用卡均不支持\">#</a> <span class=\"label.warning\">以下网站跨境通卡和国内发行的外标信用卡均不支持</span></h2>\n<ul>\n<li>以下网站只能使用符合相关要求的海外发行的信用卡或借记卡。</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\"></th>\n<th style=\"text-align:center\">网站</th>\n<th style=\"text-align:center\">区域</th>\n<th style=\"text-align:center\">备注</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">❌</td>\n<td style=\"text-align:center\"><strong>Google Pay</strong></td>\n<td style=\"text-align:center\">美区</td>\n<td style=\"text-align:center\">不支持国内卡</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">❌</td>\n<td style=\"text-align:center\"><strong>Google Pay Send</strong> （原 Google Wallet）</td>\n<td style=\"text-align:center\">美区</td>\n<td style=\"text-align:center\">识别为信用卡</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">❌</td>\n<td style=\"text-align:center\"><strong>App Store</strong> （直接绑卡）</td>\n<td style=\"text-align:center\">所有区域</td>\n<td style=\"text-align:center\">锁区</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">❌</td>\n<td style=\"text-align:center\"><strong>Spotify</strong> （直接绑卡）</td>\n<td style=\"text-align:center\">所有区域</td>\n<td style=\"text-align:center\">锁区</td>\n</tr>\n</tbody>\n</table>\n<hr />\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\"></th>\n<th style=\"text-align:center\">网站</th>\n<th style=\"text-align:center\">备注</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">❌</td>\n<td style=\"text-align:center\"><strong>支付宝、微信</strong> （国内版）</td>\n<td style=\"text-align:center\">禁止绑定境内外标卡</td>\n</tr>\n</tbody>\n</table>\n<hr />\n<h1 id=\"避坑指南\"><a class=\"anchor\" href=\"#避坑指南\">#</a> <span class=\"label primary\">避坑指南</span></h1>\n<h2 id=\"交易方式\"><a class=\"anchor\" href=\"#交易方式\">#</a> <span class=\"label warning\">交易方式</span></h2>\n<blockquote>\n<ol>\n<li>与外标信用卡相同，跨境通卡采取 <code>先预授权、后入账扣款</code> 的交易方式。即消费时不会立即扣款，而是先预授权 <code>冻结</code> 特定比例的资金，等待银行入账后再解冻资金扣款。入账时间一般是两至三天。</li>\n</ol>\n<p>中行在 <strong><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuYm9jLmNuL2Jjc2VydmljZS9iYzMvYmMzMS8yMDE3MDYvdDIwMTcwNjI4Xzk4NDQzNTEuaHRtbA==\">长城借记卡章程</span></strong> 第十一条给出的解释如下：</p>\n<ol start=\"2\">\n<li>通过 VISA、MasterCard 等国际银行卡组织网络进行的交易属双信息交易，即卡片发\t生交易时，先在持卡人的账户中冻结交易金额，当国际银行卡组织与中国银行进行\t结算时再从持卡人账户中完成扣款。</li>\n</ol>\n</blockquote>\n<ul>\n<li>举个例子：使用美元汇户支付 $600 美元：</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\"></th>\n<th style=\"text-align:center\">原状</th>\n<th style=\"text-align:center\">消费 $600</th>\n<th style=\"text-align:center\">入账后</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><strong><img data-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f1fa-1f1f8.png\" alt=\":us:\" /> 美元汇户余额</strong></td>\n<td style=\"text-align:center\">USD $700</td>\n<td style=\"text-align:center\">USD $700 <code>$100 可用</code></td>\n<td style=\"text-align:center\">USD $100</td>\n</tr>\n</tbody>\n</table>\n<div class=\"note info\">\n<p><code>注：</code> 在手机银行上，如果账户存在预授权 <code>冻结</code> 资金，账户余额的旁边会标有 <code>XXX 可用</code> 。</p>\n</div>\n<ul>\n<li>账户余额减去括号中的数字即是预授权金额。</li>\n</ul>\n<hr />\n<h2 id=\"有关消费明细和通知的坑\"><a class=\"anchor\" href=\"#有关消费明细和通知的坑\">#</a> <span class=\"label warning\">有关消费明细和通知的坑</span></h2>\n<blockquote>\n<ol>\n<li>\n<p><strong>手机银行无法查看未入账交易</strong><br />\n手机银行只能显示所有未入账交易总和的预授权金额，既不能单独显示每一笔未入账交易，也不能查询商户名、消费金额和消费时间等交易信息。<br />\n举个例子： 如果在某天连续刷了 $100、$200 和 $300 三笔交易，当天手机银行只能显示美元账户存在 $600 的预授权金额，除此之外没有更多信息。<br />\n<strong>解决方法：</strong> 人工柜台使用 <strong><span class=\"exturl\" data-url=\"aHR0cHM6Ly94aW9uZ3ppLnRvcC8yMDIyLzAzLzAzLyVFNCVCOCU4NyVFNCVCQSU4QiVFOCVCRSVCRS8lRTglQjclQTglRTUlQTIlODMlRTklODAlOUFWSVNBLyUzRSVFNCVCOCU4NyVFNCVCQSU4QiVFOCVCRSVCRSVFNSU4MCU5RiVFOCVBRSVCMCVFNSU4RCVBMSVFNCVCQiU4QiVFNyVCQiU4RCVFNCVCOCU4RSVFNyVCRCU5MSVFNCVCOCU4QSVFNiU5NCVBRiVFNCVCQiU5OCVFNCVCRCU5MyVFOSVBQSU4Qy8jOn46dGV4dD0zLi0sJTNFJUU0JUJBJUJBJUU1JUI3JUE1JUU2JTlGJTlDJUU1JThGJUIwJUVGJUJDJTg4JUU0JUJBJUE0JUU2JTk4JTkzJUU0JUJCJUEzJUU3JUEwJTgxJTIwMDM3NjcxJUVGJUJDJTg5LC0lRTglQkYlOTklRTclQTclOEQlRTYlOTYlQjklRTYlQjMlOTUlRTUlOEYlQUYlRTQlQkIlQTU=\">交易代码 037671</span></strong> 可以查 &gt; 询到未入账交易。</p>\n</li>\n<li>\n<p><strong>微信交易提醒存在延迟</strong><br />\n微信交易提醒只推送入账交易通知、不推送预授权交易通知，即发生消费预授权时不发送通知，两至三天后入账时才发送通知，存在时间延迟。<br />\n <code>解决方法：</code>  开通付费的短信交易提醒 <code>每月 2 元</code> 。</p>\n</li>\n</ol>\n</blockquote>\n<hr />\n<h2 id=\"账户余额问题\"><a class=\"anchor\" href=\"#账户余额问题\">#</a> <span class=\"label warning\">账户余额问题</span></h2>\n<blockquote>\n<ol>\n<li><strong>绑卡或者日常消费时， 美元账户余额须不少于 2 美元</strong><br />\n若首次付款或者绑卡后长时间没有发生付款，为了验证卡片状态是否正常，网站一般先预授权 <code>冻结</code> 一笔小额资金 <code>过一段时间后退还</code> ，预授权成功后才进行付款。<br />\n预授权金额一般为 <code>1 美元</code> ，可能存在以下情况。一般来说，2 美元足够应付大部分场合。</li>\n</ol>\n<ul>\n<li><code>超过 1 美元</code> ：如日区 Google Play 是 204 日元 <code>合1.98美元</code> 。</li>\n<li><code>当地货币</code> ：如日本亚马逊是 1 日元，德国 PayPal 是 1 欧元。</li>\n</ul>\n<ol start=\"2\">\n<li><strong>使用非美元账户消费，账户余额须不少于消费金额 × 102%</strong></li>\n</ol>\n<ul>\n<li>跨境通卡预授权金额的比例与交易币种有关：</li>\n</ul>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">交易币种</th>\n<th style=\"text-align:center\">冻结比例</th>\n<th style=\"text-align:center\">备注</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><strong>美元</strong></td>\n<td style=\"text-align:center\">100%</td>\n<td style=\"text-align:center\">使用美元账户 支付美元或非美元</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><strong>非美元</strong></td>\n<td style=\"text-align:center\"><strong>102%</strong></td>\n<td style=\"text-align:center\">使用非美元账户支付对应币种 <strong>（多冻结的 2% 入账后返还）</strong></td>\n</tr>\n</tbody>\n</table>\n<ul>\n<li>举个例子：若使用英镑汇户支付 £440 英镑，账户余额必须不少于 £448.8：</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\"></th>\n<th style=\"text-align:center\">原状</th>\n<th style=\"text-align:center\">消费 £440</th>\n<th style=\"text-align:center\">入账后</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><strong><img data-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f1ec-1f1e7.png\" alt=\":uk:\" /> 英镑汇户余额</strong></td>\n<td style=\"text-align:center\">GBP £448.8</td>\n<td style=\"text-align:center\">GBP £448.8 <code>£0 可用</code></td>\n<td style=\"text-align:center\">GBP £8.8</td>\n</tr>\n</tbody>\n</table>\n<hr />\n<h2 id=\"账户扣款顺序\"><a class=\"anchor\" href=\"#账户扣款顺序\">#</a> <span class=\"label warning\">账户扣款顺序</span></h2>\n<blockquote>\n<ol>\n<li>跨境通卡支持以下 19 种外币。每种外币分为外汇和外钞，故最多可以拥有 38 个外币账户。</li>\n</ol>\n<ul>\n<li>1. 美元、欧元、日元、港币、英镑、加拿大元、澳大利亚元</li>\n<li>2. 瑞士克朗、新加坡元、澳门元、韩国元、丹麦克朗、挪威克朗</li>\n<li>3. 新西兰元、菲律宾比索、俄罗斯卢布、瑞典克朗、泰国铢、南非兰特</li>\n</ul>\n<ol start=\"2\">\n<li>\n<p>跨境通卡外币账户的扣款顺序为： <code>交易币种钞户 &gt; 交易币种汇户 &gt; 美元钞户 &gt; 美元汇户</code></p>\n</li>\n<li>\n<p>即先交易币种账户后美元账户、先钞户后汇户。若优先级高账户的余额不足，自动使用优先级较低账户，依此类推。</p>\n</li>\n<li>\n<p>中行官方的说明如下 <code>注：</code>  <strong><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuYm9jLmNuL2Jjc2VydmljZS9iYzMvYmMzMS8yMDE3MDYvdDIwMTcwNjI4Xzk4NDQzNTEuaHRtbA==\">长城借记卡章程</span></strong> 第十条。</p>\n<p>VISA、MasterCard 多币卡账户如有原始交易货币的存款且余额充足，直接在该账户扣款，否则全额轮循美元账户扣款。外币账户的扣款顺序均为先钞户后汇户。</p>\n</li>\n<li>\n<p>举个例子：消费 £440 英镑，以下 4 种情形：</p>\n</li>\n</ol>\n</blockquote>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/debit-example.jpg\" alt=\"img\" /></p>\n<hr />\n<h2 id=\"注意\"><a class=\"anchor\" href=\"#注意\">#</a> <span class=\"label danger\">注意</span></h2>\n<blockquote>\n<ol>\n<li><strong>不支持人民币账户</strong></li>\n<li><strong>非美元的外币账户只能支付对应币种</strong><br />\n例如：英镑账户只能支付英镑，不能支付美元、港元等其他币种。</li>\n<li><strong>19 种外币以外的币种只能使用美元账户支付</strong><br />\n例如：新台币不属于 19 种外币之一。即使跨境通卡存有新台币外币，也只能从美元账户扣款。</li>\n<li>美元账户支付非美元，使用 VISA / MasterCard 卡组织汇率</li>\n</ol>\n<ul>\n<li>官方提供的汇率计算器： <strong><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudmlzYS5jb20uY24vdHJhdmVsLXdpdGgtdmlzYS9leGNoYW5nZS1yYXRlLWNhbGN1bGF0b3IuaHRtbC8=\">VISA</span></strong> 、<strong><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cubWFzdGVyY2FyZC51cy9lbi11cy8lM0Vjb25zdW1lcnMvZ2V0LXN1cHBvcnQvY29udmVydC1jdXJyZW5jeS5odG1s\">MasterCard</span></strong></li>\n<li>第三方汇率计算器： <strong><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cua3lsYy5jb20vaHVpbHYvaS12aXNhLmh0bWw=\">VISA</span></strong> 、 <strong><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cua3lsYy5jb20vaHVpbHYvaS1tYXN0ZXJjYXJkLmh0bWw=\">MasterCard</span></strong></li>\n</ul>\n<ol start=\"5\">\n<li><strong>不支持多账户支付</strong><br />\n只能使用一个外币账户全额支付，不能从多个账户扣款。</li>\n</ol>\n</blockquote>\n<hr />\n<h2 id=\"缴纳年费\"><a class=\"anchor\" href=\"#缴纳年费\">#</a> <span class=\"label warning\">缴纳年费</span></h2>\n<blockquote>\n<ol>\n<li><strong>年费收取方式：从美元钞户扣取等值的美元外钞</strong><br />\n注意，只能从美元钞户扣费，不是美元汇户。</li>\n<li><strong>年费收取时间：每年的开卡日，从开卡后第二年开始收取。</strong><br />\n开卡日可以在手机银行上查到 <code>卡片信息-&gt;开户时间</code></li>\n</ol>\n</blockquote>\n<ul>\n<li>下面是标准金卡 <code>年费10元</code> 收取年费的交易信息：</li>\n</ul>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/annual-fee.jpg\" alt=\"img\" /></p>\n<ul>\n<li>交易类型是 <code>批量收费</code> 。</li>\n</ul>\n<h2 id=\"有关缴纳年费的坑\"><a class=\"anchor\" href=\"#有关缴纳年费的坑\">#</a> <span class=\"label warning\">有关缴纳年费的坑</span></h2>\n<blockquote>\n<ol>\n<li><strong>没有任何通知</strong><br />\n无论扣取年费成功与否，中行 <code>不会发送</code> 向用户任何形式的通知或提醒 <code>包括微信和短信交易提醒</code> 。<br />\n如果出现 <code>批量收费</code> 的交易记录，只能说明中行扣除了年费，不一定缴纳年费成功。如果美元钞户余额小于年费，中行仍会将余额全部扣除。</li>\n<li><strong>手机银行不能自助缴纳年费</strong><br />\n <code>解决方法：</code> 存入足量的美元外钞，等待下一次扣款。若当年的年费扣取失败或未缴齐，中行每个月会尝试再次扣款，直到收齐年费。</li>\n</ol>\n</blockquote>\n<hr />\n<h2 id=\"3d验证服务\"><a class=\"anchor\" href=\"#3d验证服务\">#</a> <span class=\"label warning\">3D 验证服务</span></h2>\n<ul>\n<li><code>3D验证服务</code> （<em>Verified by Visa</em>、<em>MasterCard SecureCode</em>) 是 VISA / MasterCard 卡组织验证持卡人的方式，常见于日本、香港等亚洲地区网站。若网站开启 3D 验证，付款前需要转跳到中行开设的 3D 验证网页，输入银行预留手机号和短信验证码，验证持卡人身份。</li>\n</ul>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/vps-3.jpg\" alt=\"img\" /></p>\n<h2 id=\"有关3d验证服务的坑\"><a class=\"anchor\" href=\"#有关3d验证服务的坑\">#</a> <span class=\"label warning\">有关 3D 验证服务的坑</span></h2>\n<blockquote>\n<ol>\n<li><strong>只支持短信验证</strong><br />\n中行信用卡 3D 验证可以支持短信和动态口令验证。<br />\n如果手机信号不好或者家住境外，可能不方便接受到验证码短信。</li>\n<li><strong>若 3D 验证连续失败次数过多，3D 验证锁定且无法解锁</strong><br />\n <code>注：</code> 这部分内容博主有待进一步考察</li>\n</ol>\n</blockquote>\n<hr />\n<h2 id=\"帐单地址\"><a class=\"anchor\" href=\"#帐单地址\">#</a> <span class=\"label warning\">帐单地址</span></h2>\n<ul>\n<li>跨境通卡 <code>不检验帐单地址</code> 。跨境通卡与国内外标信用卡一样，不支持 AVS 系统验证。</li>\n</ul>\n<hr />\n<h2 id=\"交易明细\"><a class=\"anchor\" href=\"#交易明细\">#</a> <span class=\"label warning\">交易明细</span></h2>\n<ul>\n<li>目前可以通过 <code>手机银行</code>   <code>智能柜台</code>   <code>人工柜台</code> 三种途径查询到交易明细。</li>\n</ul>\n<h2 id=\"手机银行\"><a class=\"anchor\" href=\"#手机银行\">#</a> <span class=\"label.warning\">手机银行</span></h2>\n<ul>\n<li>略</li>\n</ul>\n<h2 id=\"智能柜台\"><a class=\"anchor\" href=\"#智能柜台\">#</a> <span class=\"label.warning\">智能柜台</span></h2>\n<ul>\n<li>\n<p>智能柜台可以打印纸质流水单<br />\n<img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/bank-statement.jpg\" alt=\"img\" /></p>\n</li>\n<li>\n<p>内容与手机银行完全一样，同时印有姓名、完整卡号和银行公章等。</p>\n</li>\n</ul>\n<hr />\n<h2 id=\"人工柜台交易代码037671\"><a class=\"anchor\" href=\"#人工柜台交易代码037671\">#</a> <span class=\"label.warning\">人工柜台（交易代码 037671）</span></h2>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/photo_2019-02-18.jpg\" alt=\"img\" /></p>\n<ul>\n<li>这种方法可以查询到中行系统的内部交易记录，支持查询<strong>未入账交易</strong>。</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">交易代码</th>\n<th style=\"text-align:center\">交易名称</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><strong>037671</strong> （部分地区 037670）</td>\n<td style=\"text-align:center\"><strong>双信息授权记录</strong></td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<ol>\n<li><strong>查询方法</strong><br />\n带上卡片和身份证去网点柜台，让柜员使用上列交易代码查询卡片的交易记录，指定想要查询的时间范围，打印查询结果即可。</li>\n<li><strong>判断交易状态</strong><br />\n通过清算日期和剩余圈存额可以判断交易的状态。</li>\n</ol>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">交易状态</th>\n<th style=\"text-align:center\">清算日期</th>\n<th style=\"text-align:center\">剩余圈存额</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><strong>未入账</strong></td>\n<td style=\"text-align:center\">空白</td>\n<td style=\"text-align:center\">不为 0</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><strong>已入账</strong></td>\n<td style=\"text-align:center\">不为空白</td>\n<td style=\"text-align:center\">0</td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p>其中 <code>清算日期</code> 指入账时间， <code>剩余圈存额</code> 指处于冻结状态的资金金额。<br />\n如果 <code>清算日期</code> 为空白且 <code>剩余圈存额</code> 为 0，这是网站 <strong><span class=\"exturl\" data-url=\"aHR0cHM6Ly94aW9uZ3ppLnRvcC8yMDIyLzAzLzAzLyVFNCVCOCU4NyVFNCVCQSU4QiVFOCVCRSVCRS8lRTglQjclQTglRTUlQTIlODMlRTklODAlOUFWSVNBLyVFNCVCOCU4NyVFNCVCQSU4QiVFOCVCRSVCRSVFNSU4MCU5RiVFOCVBRSVCMCVFNSU4RCVBMSVFNCVCQiU4QiVFNyVCQiU4RCVFNCVCOCU4RSVFNyVCRCU5MSVFNCVCOCU4QSVFNiU5NCVBRiVFNCVCQiU5OCVFNCVCRCU5MyVFOSVBQSU4Qy8jOn46dGV4dD0lRTIlOTElQTEtLCVFOCVCNCVBNiVFNiU4OCVCNyVFNCVCRCU5OSVFOSVBMiU5RCVFOSU5NyVBRSVFOSVBMiU5OCwtJUU3JUJCJTkxJUU1JThEJUExJUU2JTg4JTk2JUU4JTgwJTg1\">验卡记录</span></strong>，可以忽略。</p>\n</blockquote>\n<hr />\n<h1 id=\"权益和优惠活动\"><a class=\"anchor\" href=\"#权益和优惠活动\">#</a> <span class=\"label primary\">权益和优惠活动</span></h1>\n<h2 id=\"卡组织权益\"><a class=\"anchor\" href=\"#卡组织权益\">#</a> <span class=\"label warning\">卡组织权益</span></h2>\n<blockquote>\n<p>VISA / MasterCard 卡组织为借记卡和信用卡提供了各种卡组织权益。</p>\n<p>卡组织权益大多涉及高端餐馆与酒店优惠、海淘、境外购物和留学等等。不同卡等级的权益有所不同。</p>\n<p><strong>VISA</strong><br />\n 权益列表：微信公众号 <code>Visa官方服务号</code>  -&gt;  <code>精选礼遇</code>  -&gt;  <code>V享臻选</code> ，或者手机浏览器打开 <strong><span class=\"exturl\" data-url=\"aHR0cHM6Ly92aXNhb2ZmZXIueWlqaXVwbHVzLmNvbS8=\">这个链接</span></strong><br />\n<strong> MasterCard</strong><br />\n 权益列表：微信小程序 <code>万事达</code> <br />\n中行万事达借记卡权益平台： <strong><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cubWNvbXAuY29tLmNuL2JvY0RlYml0L3Nob3dPZmZlckg1R3VpZGUv\">链接</span></strong>  <code>使用手机浏览器打开</code></p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">活动名称</th>\n<th style=\"text-align:center\">简介</th>\n<th style=\"text-align:center\">活动时间</th>\n<th style=\"text-align:center\">备注</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><strong>万事达消费大挑战</strong>  <code>仅限世界卡</code></td>\n<td style=\"text-align:center\">消费累计满额享受健身、旅行险等三大权益， 航空里程、酒店等权益五选一。</td>\n<td style=\"text-align:center\"><strong>2022 年 1 月 1 日至 2022 年 12 月 31 日</strong></td>\n<td style=\"text-align:center\"><strong><span class=\"exturl\" data-url=\"aHR0cHM6Ly9tY2MueHVubGlhbmRhdGEuY29tL21jaS1yZXdhcmQvaW5kZXguaHRtbA==\">活动介绍</span></strong></td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><strong>万事达环球赏计划</strong></td>\n<td style=\"text-align:center\">境外指定商户处消费可获一定比例返现奖励。</td>\n<td style=\"text-align:center\">长期</td>\n<td style=\"text-align:center\"><strong><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cubWNvbXAuY29tLmNuL2JvY0RlYml0L3Nob3dPZmZlckg1UG9sb0luZGV4Lw==\">活动介绍</span></strong> <strong><span class=\"exturl\" data-url=\"aHR0cHM6Ly9tdHIubWFzdGVyY2FyZHNlcnZpY2VzLmNvbS96aF9IYW5zL2kvMTc4Njg=\">环球赏官网</span></strong></td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"银行优惠活动\"><a class=\"anchor\" href=\"#银行优惠活动\">#</a> <span class=\"label warning\">银行优惠活动</span></h2>\n<ul>\n<li>中国银行联合 VISA / MasterCard 卡组织每年不定期推出多种优惠活动，以消费返现活动为主。</li>\n</ul>\n<hr />\n<h2 id=\"中银跨境go留学大返现活动\"><a class=\"anchor\" href=\"#中银跨境go留学大返现活动\">#</a> <span class=\"label warning\">中银跨境 GO 留学大返现活动</span></h2>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/rebate-2022-poster.jpg\" alt=\"img\" /></p>\n",
            "tags": [
                "万事达",
                "万事达"
            ]
        },
        {
            "id": "https://ki.xiongzi.top/post/17977/",
            "url": "https://ki.xiongzi.top/post/17977/",
            "title": "中国银行手机银行购汇与转账教程",
            "date_published": "2022-03-03T13:15:14.000Z",
            "content_html": "<div class=\"note primary\">\n<p>🦄快速开始 -<a href=\"/post/36862/\">🚀VISA / 万事达</a> - <a href=\"/post/17977/\">📌购汇与转账</a></p>\n</div>\n<h1 id=\"中国银行手机银行购汇与转账教程\"><a class=\"anchor\" href=\"#中国银行手机银行购汇与转账教程\">#</a> <span class=\"label primary\">中国银行手机银行购汇与转账教程</span></h1>\n<h1 id=\"相关知识\"><a class=\"anchor\" href=\"#相关知识\">#</a> <span class=\"label primary\">相关知识</span></h1>\n<ul>\n<li>购汇之前，了解一下有关购汇的一些知识。</li>\n</ul>\n<div class=\"note info\">\n<p>购汇、结汇</p>\n</div>\n<ul>\n<li><code>购汇</code> ：将人民币兑换成外汇或外钞</li>\n<li><code>结汇</code> ：将外汇或外钞兑换成人民币</li>\n</ul>\n<div class=\"note info\">\n<p>购汇限额</p>\n</div>\n<ul>\n<li>根据国内外汇管制的相关规定，境内个人购汇的年度总额为 `每人每年等值 5 万美元```。</li>\n</ul>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/knowledge-1.jpg\" alt=\"img\" /></p>\n<ul>\n<li>年度总额不是指每人每年只能购买等值 5 万美元的外汇。<br />\n如果累计购汇金额超过年度总额，需要提供真实凭证来证明超额购汇的需求，经银行审核后才能继续购汇：</li>\n</ul>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/knowledge-2.jpg\" alt=\"img\" /></p>\n<div class=\"note info\">\n<p>转账限制</p>\n</div>\n<ul>\n<li>\n<p>境内个人外汇账户 <code>只能向本人同名账户或直系亲属账户转账</code> 。<br />\n<em>（ <code>注：</code> 这是境内转账，跨境转账没有这种限制）</em></p>\n</li>\n<li>\n<p>向本人同名账户转账，可以直接在柜台或网银等平台上办理。</p>\n</li>\n<li>\n<p>向直系亲属账户转账，只能在柜台上办理，并要求出示直系亲属关系证明。</p>\n</li>\n<li>\n<p>如果没有特殊需求， <code>尽量使用本人名下的银联卡购汇</code> ，以避免不必要的手续。</p>\n</li>\n</ul>\n<div class=\"note info\">\n<p>卖出价、买入价</p>\n</div>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/knowledge-3.jpg\" alt=\"img\" /></p>\n<ul>\n<li>\n<p>其实这里的 <code>卖出</code> 、 <code>买入</code>  是  <code>从银行的角度划分的</code> ，而不是客户的角度：</p>\n</li>\n<li>\n<p><code>卖出价</code> 指银行向客户卖出外币的价格（对于客户来说，即  <code>购汇价格</code> ）</p>\n</li>\n<li>\n<p><code>买入价</code> 指银行从客户手中买进外币的价格（对于客户来说，即  <code>结汇价格</code> ）</p>\n</li>\n</ul>\n<p>以上图英镑为例， <code>895.45</code>  、 <code>897.41</code>  分别是外汇、外钞的购汇价格。</p>\n<div class=\"note info\">\n<p>外汇、外钞</p>\n</div>\n<p>银行一般提供了两种外币：外汇和外钞。两种外币的主要差别在于用途不同：</p>\n<ul>\n<li>\n<p><code>外汇只能用于银行账户转账</code> ，从他人账户转账至本人账户的外汇只能存入外汇账户。</p>\n</li>\n<li>\n<p><code>外钞只能用于外币现钞提取</code> ，在柜台或 ATM 上存进账户里的外币现钞只能存入外钞账户。</p>\n</li>\n<li>\n<p>此外， <code>跨境通卡里的外汇和外钞都可以用来消费和支付，使用时不会产生任何转换费</code> 。</p>\n</li>\n<li>\n<p><code>如果只是为了消费和支付，建议购买价格较低的外汇</code> ，这样能够兑换更多的外币。</p>\n</li>\n<li>\n<p><code>如果有转账或取现的需要，尽量按照用途购买外汇或者外钞，避免汇钞转换</code> 。（特别是钞转汇，因为外钞的结汇价格比外汇低得多，损失更大）</p>\n</li>\n</ul>\n<hr />\n<ul>\n<li>\n<p>扩展内容：<em> <code>汇钞转换</code> </em></p>\n</li>\n<li>\n<p>汇钞转换可以 <em> <code>将外汇转换成外钞</code> </em>，或者 <em> <code>将外钞转换成外汇</code> </em>。可以在网点柜台上办理（也可以手动结汇再购汇）。</p>\n</li>\n<li>\n<p>汇钞转换本质上是，<em> <code>先将原种外币结汇为人民币，再用人民币购买目的外币。</code> </em> 因为同种外币的结汇价格比购汇价格低，结汇时会产生一定的损失，所以 <code>汇钞转换后的外币金额比直接购买同种外币的少</code> 。</p>\n</li>\n<li>\n<p>附：汇钞转换计算公式（买入卖出价按交易时计算）<br />\n外钞转外汇：外钞金额 * 现钞买入价 / 现汇卖出价 = 转换后的外汇金额<br />\n外汇转外钞：外汇金额 * 现汇买入价 / 现钞卖出价 = 转换后的外钞金额</p>\n</li>\n</ul>\n<h1 id=\"购汇步骤\"><a class=\"anchor\" href=\"#购汇步骤\">#</a> <span class=\"label primary\">购汇步骤</span></h1>\n<h2 id=\"购汇前的准备\"><a class=\"anchor\" href=\"#购汇前的准备\">#</a> <span class=\"label warning\">购汇前的准备</span></h2>\n<ul>\n<li>\n<p>确保手机银行关联了跨境通卡和银联储蓄卡。</p>\n</li>\n<li>\n<p>结售汇交易时间是北京时间 <code>每日8:00-22:00</code> ，注意要在这个时间段里购汇。</p>\n</li>\n<li>\n<p>新版手机银行可以看历史汇率。购汇前，关注一下汇率走势，确保购汇时的汇率是比较优惠（价格较低）的。</p>\n</li>\n<li>\n<p>部分 <strong><span class=\"exturl\" data-url=\"aHR0cDovL3d3dy5ib2MuY24vYmNzZXJ2aWNlL2JjMi8yMDE0MTAvdDIwMTQxMDI0XzQwNTEyNzQuaHRtbA==\">长城校园卡</span></strong> 不能用来购汇。</p>\n</li>\n<li>\n<p>如果购汇的交易账户列表上没有你的银联卡，这张卡就很有可能不支持购汇</p>\n</li>\n<li>\n<p>网友提供的解决方法是：<em> <code>去银行把你的校园卡降为Ⅱ类账户，再开一张Ⅰ类账户的（支持购汇的）普通银联卡</code> </em><br />\n这个方法同样适用于其他不支持购汇的卡种。</p>\n</li>\n</ul>\n<h2 id=\"购汇\"><a class=\"anchor\" href=\"#购汇\">#</a> <span class=\"label warning\">购汇</span></h2>\n<ul>\n<li>登录手机银行，点击首页上的 <code>结汇购汇</code> ，选择要购买的外币（这里是日元），然后点击 <code>购汇</code> 。</li>\n</ul>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/mobile_bank-1.jpg\" alt=\"img\" /></p>\n<ul>\n<li>初次购汇需要开通投资理财功能，按照界面上的指示，使用手机交易码或口令开通即可。</li>\n</ul>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/mobile_bank-2-1.jpg\" alt=\"img\" /></p>\n<ul>\n<li>阅读购汇申请书，等待 30 秒。</li>\n</ul>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/mobile_bank-2-2.jpg\" alt=\"img\" /></p>\n<ul>\n<li>填写购汇金额等信息，汇钞选择价格较低的外汇。</li>\n</ul>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/mobile_bank-3.jpg\" alt=\"img\" /></p>\n<ul>\n<li>接下来填写购汇用途。</li>\n<li>购汇用途可以任意填写，银行不会预先审查填写的内容。（当然最好是如实填写）</li>\n</ul>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/mobile_bank-4.jpg\" alt=\"img\" /></p>\n<ul>\n<li>确认信息无误后，点击 <code>确认</code> 。</li>\n</ul>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/mobile_bank-5.jpg\" alt=\"img\" /></p>\n<ul>\n<li>显示购汇成功的界面。</li>\n</ul>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/mobile_bank-6.jpg\" alt=\"img\" /></p>\n<ul>\n<li>查看银联卡的账户管理页面，1400 日元已到账。</li>\n</ul>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/mobile_bank-7.jpg\" alt=\"img\" /></p>\n<h1 id=\"转账步骤\"><a class=\"anchor\" href=\"#转账步骤\">#</a> <span class=\"label primary\">转账步骤</span></h1>\n<ul>\n<li>\n<p>转账的步骤相对比较简单。</p>\n</li>\n<li>\n<p>点击银联卡账户管理页面上的 <code>转账</code> 。</p>\n</li>\n</ul>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/mobile_bank-8.jpg\" alt=\"img\" /></p>\n<ul>\n<li>填写转账信息。</li>\n</ul>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/mobile_bank-9.jpg\" alt=\"img\" /></p>\n<ul>\n<li>收款人选择跨境通卡的账户。</li>\n</ul>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/mobile_bank-10.jpg\" alt=\"img\" /></p>\n<ul>\n<li>确认信息无误后，点击 <code>确认</code> 。注意一下，转账给本人是不需要手机交易码或口令验证的。</li>\n</ul>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/mobile_bank-11.jpg\" alt=\"img\" /></p>\n<ul>\n<li>查看跨境通卡的账户管理页面，1400 日元已到账。</li>\n</ul>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/AkidSummer/cdn@master/img/wan/mobile_bank-12.jpg\" alt=\"img\" /></p>\n<h1 id=\"参考链接\"><a class=\"anchor\" href=\"#参考链接\">#</a> <span class=\"label primary\">参考链接</span></h1>\n<ul>\n<li><strong><span class=\"exturl\" data-url=\"aHR0cDovL3d3dy5ib2MuY24vc291cmNlZGIvd2hwai8=\">中国银行外汇牌价</span></strong></li>\n<li><strong><span class=\"exturl\" data-url=\"aHR0cDovL3d3dy5ib2MuY24vcGJzZXJ2aWNlL3BiNC8yMDA4MDYvdDIwMDgwNjI2Xzc2Ny5odG1s\">个人购汇 - 中国银行</span></strong></li>\n<li><strong><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuc2FmZS5nb3YuY24vZnVqaWFuLzIwMTcvMDQxNy80MzEuaHRtbA==\">个人外汇管理政策宣传手册</span></strong></li>\n<li><strong><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuc2FmZS5nb3YuY24vY2hvbmdxaW5nLzIwMTUvMDUwNy81NjcuaHRtbA==\">个人外汇管理知识全解读</span></strong></li>\n<li><strong><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudXNjcmVkaXRjYXJkZ3VpZGUuY29tL2ZvcmVpZ25lci1jdXJyZW5jeS1jaGFvLWFuZC1odWkv\">现钞和现汇的区别</span></strong></li>\n</ul>\n",
            "tags": [
                "万事达",
                "万事达"
            ]
        }
    ]
}